
<!doctype html>
<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-158616893-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-158616893-1');
    </script>

    <link href="../../../images/favicon-4f296779.ico" rel="icon" type="image/ico" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Bybit API Docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
  background-color: #272822;
}
.highlight .nn {
  color: #ffffff;
  background-color: #272822;
}
.highlight .nl {
  color: #ffffff;
  background-color: #272822;
}
.highlight .ni {
  color: #ffffff;
  background-color: #272822;
}
.highlight .bp {
  color: #ffffff;
  background-color: #272822;
}
.highlight .vg {
  color: #ffffff;
  background-color: #272822;
}
.highlight .vi {
  color: #ffffff;
  background-color: #272822;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
  background-color: #272822;
}
.highlight .w {
  color: #ffffff;
  background-color: #272822;
}
.highlight {
  color: #ffffff;
  background-color: #272822;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
  background-color: #272822;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
      header.top-nav {
        position:fixed;
        display:flex;
        flex:1;
        width:100%;
        z-index:100;
        background: #333;
        padding: 0 26px;
        -webkit-box-sizing: border-box;
                box-sizing: border-box;
        align-items: center;
      }
      div.top-menu{
        display:flex;
        flex: 1;
      }
      a.logo-link{
        line-height: 50px;
      }
      img.logo {
        width: 161px;
        height: 40px;
        vertical-align: middle;
      }
      .con {
          display: flex;
          top: 0;
          height: 55px;
          margin: 0 0 0 62px;
          padding: 0;
          list-style: none;
          text-align: center;
      }

      .con li{
          text-align: center;
          line-height: 55px;
          border:0 solid #000;
          -webkit-box-sizing: border-box;
                  box-sizing: border-box;
      }

      .con a {
        display: inline-block;
        color: #B0B8DB;
        font-size: 15px;
        text-decoration: none;
        line-height: 23px;
        padding: 0 20px;
        vertical-align: middle;
        -webkit-transform: translate(0, -3px);
                transform: translate(0, -3px);
      }

      .con a.selected {
        border-bottom: 2px solid transparent;
        border-color: #FFB11A;
        color: #fff;
      }

      a.international {
        display: block;
        height: 27px;
        line-height: 27px;
        text-align: center;
        color: #fff;
        text-decoration: none;
        border: 1px solid #383F66;
        padding: 0 20px;
        color: #F0B90B;
        word-break: keep-all;
      }

      /* Environment dropdown list */
      /* The dropdown container */
      .dropdown {
        float: left;
        overflow: hidden;
      }

      /* Dropdown button */
      .dropdown .dropbtn {
        background-color: inherit;
        display: inline-block;
        color: #B0B8DB;
        font-size: 15px;
        text-decoration: none;
        line-height: 23px;
        padding: 0 20px;
        border: none;
        background: none;
        vertical-align: middle;
        -webkit-transform: translate(0, -3px);
                transform: translate(0, -3px);

      }

      /* Add a red background color to navbar links on hover */
      a:hover, .dropdown:hover .dropbtn {
        background-color: inherit;
      }

      /* Dropdown content (hidden by default) */
      .dropdown-content {
        color: #B0B8DB;
        background: #333;
        font-size: 15px;
        text-decoration: none;
        line-height: 53px;
        padding: 0;
        display: none;
        position: relative;
        -webkit-box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
                box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 0;
      }

      /* Links inside the dropdown */
      .dropdown-content a {
        color: #B0B8DB;
        font-size: 15px;
        text-decoration: none;
        line-height: 53px;
        padding: 0 10px;
        display: block;
        text-align: left;
      }

      /* Highlights the currently selected dropdown link */
      .dropdown-content-selected {
        display: block;
        /*color: #696e83;*/
        background-color: #474747;
      }

      /* Add a grey background color to dropdown links on hover */
      .dropdown-content a:hover {
        background-color: #5b5b5b;
      }

      /* Show the dropdown menu on hover */
      .dropdown:hover .dropdown-content {
        display: block;
      }

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="../../../stylesheets/screen-6a7bc757.css" rel="stylesheet" media="screen" />
    <link href="../../../stylesheets/print-41ffbffc.css" rel="stylesheet" media="print" />
      <script src="../../../javascripts/all-52d563e0.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>
  <header class="top-nav">
  <div class="top-menu">
  <a href="https://bybit-exchange.github.io/docs/inverse" class="logo-link" target="_self">
    <img src="../../../images/logo-aed6448d.svg" class="logo" alt="" />
  </a>
  <ul class="con">
    <li><a href="/docs/zh-cn/inverse" class="selected">反向永續</a></li>
    <li><a href="/docs/zh-cn/linear">USDT永續</a></li>
    <li><a href="/docs/zh-cn/inverse_futures">反向交割</a></li>
  <li><a href="/docs/zh-cn/spot">現貨</a></li>
  <li><a href="/docs/zh-cn/account_asset">賬戶資產</a></li>

    <li>
        <div class="dropdown">
          <button class="dropbtn">USDC合約
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content">
                <a href=/docs/zh-cn/testnet/usdc/option>Option</a>
                <a href=/docs/zh-cn/testnet/usdc/perpetual>Perpetual</a>
          </div>
        </div>
    </li>

  <li>
    <div class="dropdown">
      <button class="dropbtn">Environment
        <i class="fa fa-caret-down"></i>
      </button>
      <div class="dropdown-content">
            <a href=/docs/zh-cn/inverse>Mainnet</a>
            <span class="dropdown-content-selected"><a href=/docs/zh-cn/testnet/inverse>Testnet</a></span>


      </div>
    </div>
  </li>
  </ul>
  </div>
  <a class="international" id="international" href="javascript:void(0);">English</a>
  </header>

  <body class="zh-cn zh-cn_testnet zh-cn_testnet_inverse zh-cn_testnet_inverse_index" data-languages="[&quot;console&quot;,&quot;python--pybit&quot;,&quot;python--old&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="console">console</a>
              <a href="#" data-language-name="python--pybit">python</a>
              <a href="#" data-language-name="python--old">old_python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="搜索">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#t-introduction" class="toc-h1 toc-link" data-title="中文社區和參考資料">中文社區和參考資料</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-resources" class="toc-h2 toc-link" data-title="中文社區和參考資料">中文社區和參考資料</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-changelog" class="toc-h1 toc-link" data-title="更新日誌">更新日誌</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2021-07-09" class="toc-h2 toc-link" data-title="2021-07-09">2021-07-09</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-06-28" class="toc-h2 toc-link" data-title="2021-06-28">2021-06-28</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-2" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-06-18" class="toc-h2 toc-link" data-title="2021-06-18">2021-06-18</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-3" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-06-03" class="toc-h2 toc-link" data-title="2021-06-03">2021-06-03</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-4" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-05-11" class="toc-h2 toc-link" data-title="2021-05-11">2021-05-11</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-5" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-05-11-2" class="toc-h2 toc-link" data-title="2021-05-11">2021-05-11</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-6" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-04-22" class="toc-h2 toc-link" data-title="2021-04-22">2021-04-22</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-7" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-04-07" class="toc-h2 toc-link" data-title="2021-04-07">2021-04-07</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-8" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-04-02" class="toc-h2 toc-link" data-title="2021-04-02">2021-04-02</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-9" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-03-24" class="toc-h2 toc-link" data-title="2021-03-24">2021-03-24</a>
                  </li>
                  <li>
                    <a href="#2021-03-22" class="toc-h2 toc-link" data-title="2021-03-22">2021-03-22</a>
                  </li>
                  <li>
                    <a href="#2021-03-15" class="toc-h2 toc-link" data-title="2021-03-15">2021-03-15</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-10" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-03-12" class="toc-h2 toc-link" data-title="2021-03-12">2021-03-12</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-11" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-03-11" class="toc-h2 toc-link" data-title="2021-03-11">2021-03-11</a>
                  </li>
                  <li>
                    <a href="#2021-03-04" class="toc-h2 toc-link" data-title="2021-03-04">2021-03-04</a>
                  </li>
                  <li>
                    <a href="#2021-02-02" class="toc-h2 toc-link" data-title="2021-02-02">2021-02-02</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-01-25" class="toc-h2 toc-link" data-title="2021-01-25">2021-01-25</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-12" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-01-12" class="toc-h2 toc-link" data-title="2021-01-12">2021-01-12</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-13" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-12-31" class="toc-h2 toc-link" data-title="2020-12-31">2020-12-31</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-14" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-restapi_update_20201231_0" class="toc-h4 toc-link" data-title="服務升級後新增<code>v2</code>接口路由，列表如下：">服務升級後新增<code>v2</code>接口路由，列表如下：</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-12-17" class="toc-h2 toc-link" data-title="2020-12-17">2020-12-17</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-15" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-11-20" class="toc-h2 toc-link" data-title="2020-11-20">2020-11-20</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-16" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-11-12" class="toc-h2 toc-link" data-title="2020-11-12">2020-11-12</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-17" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-11-10" class="toc-h2 toc-link" data-title="2020-11-10">2020-11-10</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-2" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-restapi_update_20201111_2" class="toc-h4 toc-link" data-title="廢棄接口將於2020年11月30日徹底下線">廢棄接口將於2020年11月30日徹底下線</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-18" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-restapi_update_20201111_1" class="toc-h4 toc-link" data-title="舊版API將在2020年12月10日進行廢棄處理。屆時舊版API的頻率限製將會降低到原有的1/2，並在12月17日徹底下線。">舊版API將在2020年12月10日進行廢棄處理。屆時舊版API的頻率限製將會降低到原有的1/2，並在12月17日徹底下線。</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-11-02" class="toc-h2 toc-link" data-title="2020-11-02">2020-11-02</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-19" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-10-26" class="toc-h2 toc-link" data-title="2020-10-26">2020-10-26</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-20" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-10-21" class="toc-h2 toc-link" data-title="2020-10-21">2020-10-21</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-21" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-10-12" class="toc-h2 toc-link" data-title="2020-10-12">2020-10-12</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-22" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-09-27" class="toc-h2 toc-link" data-title="2020-09-27">2020-09-27</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-23" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api-3" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-09-15" class="toc-h2 toc-link" data-title="2020-09-15">2020-09-15</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-24" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-08-19" class="toc-h2 toc-link" data-title="2020-08-19">2020-08-19</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-25" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-07-07" class="toc-h2 toc-link" data-title="2020-07-07">2020-07-07</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-26" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-06-22" class="toc-h2 toc-link" data-title="2020-06-22">2020-06-22</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-27" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-05-21" class="toc-h2 toc-link" data-title="2020-05-21">2020-05-21</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-28" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-29" class="toc-h2 toc-link" data-title="2020-04-29">2020-04-29</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-29" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-27" class="toc-h2 toc-link" data-title="2020-04-27">2020-04-27</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-30" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-17" class="toc-h2 toc-link" data-title="2020-04-17">2020-04-17</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-31" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-14" class="toc-h2 toc-link" data-title="2020-04-14">2020-04-14</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-32" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-31" class="toc-h2 toc-link" data-title="2020-03-31">2020-03-31</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-33" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-26" class="toc-h2 toc-link" data-title="2020-03-26">2020-03-26</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-34" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-16" class="toc-h2 toc-link" data-title="2020-03-16">2020-03-16</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-35" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-09" class="toc-h2 toc-link" data-title="2020-03-09">2020-03-09</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-36" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-02" class="toc-h2 toc-link" data-title="2020-03-02">2020-03-02</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-4" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-02-26" class="toc-h2 toc-link" data-title="2020-02-26">2020-02-26</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-37" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-02-10" class="toc-h2 toc-link" data-title="2020-02-10">2020-02-10</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-38" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-12-27" class="toc-h2 toc-link" data-title="2019-12-27">2019-12-27</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-39" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-12-18" class="toc-h2 toc-link" data-title="2019-12-18">2019-12-18</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-40" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api-5" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-12-13" class="toc-h2 toc-link" data-title="2019-12-13">2019-12-13</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-41" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-12-02" class="toc-h2 toc-link" data-title="2019-12-02">2019-12-02</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-42" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-11-19" class="toc-h2 toc-link" data-title="2019-11-19">2019-11-19</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-43" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-11-07" class="toc-h2 toc-link" data-title="2019-11-07">2019-11-07</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-44" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-11-04" class="toc-h2 toc-link" data-title="2019-11-04">2019-11-04</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-45" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api-6" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-10-22" class="toc-h2 toc-link" data-title="2019-10-22">2019-10-22</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-46" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api-7" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-faq" class="toc-h1 toc-link" data-title="FAQ">FAQ</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-faq_reduce_only" class="toc-h2 toc-link" data-title="reduce_only and close_on_trigger - what's the difference?"><code>reduce_only</code> and <code>close_on_trigger</code> - what's the difference?</a>
                  </li>
                  <li>
                    <a href="#t-faq_website_orders" class="toc-h2 toc-link" data-title="Why aren't all my orders showing on the website?">Why aren't all my orders showing on the website?</a>
                  </li>
                  <li>
                    <a href="#t-faq_calculating_order_size" class="toc-h2 toc-link" data-title="Calculating order size based on available wallet balance">Calculating order size based on available wallet balance</a>
                  </li>
                  <li>
                    <a href="#t-faq_exchange_assets" class="toc-h2 toc-link" data-title="Can I exchange assets with the API?">Can I exchange assets with the API?</a>
                  </li>
                  <li>
                    <a href="#t-faq_server_location" class="toc-h2 toc-link" data-title="Where are Bybit's servers located?">Where are Bybit's servers located?</a>
                  </li>
                  <li>
                    <a href="#t-faq_testnet_funds" class="toc-h2 toc-link" data-title="How do I get funds for testnet?">How do I get funds for testnet?</a>
                  </li>
                  <li>
                    <a href="#t-faq_closed_pnl_price" class="toc-h2 toc-link" data-title="Why are my Closed PNL prices inaccurate?">Why are my Closed PNL prices inaccurate?</a>
                  </li>
                  <li>
                    <a href="#t-faq_float_precision" class="toc-h2 toc-link" data-title="Why are values returned to too many decimal places? (float precision issue)">Why are values returned to too many decimal places? (float precision issue)</a>
                  </li>
                  <li>
                    <a href="#t-faq_data_resilience" class="toc-h2 toc-link" data-title="How can I ensure I am using up-to-date data?">How can I ensure I am using up-to-date data?</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-authentication" class="toc-h1 toc-link" data-title="鑒權/認證">鑒權/認證</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-authenticationparameters" class="toc-h2 toc-link" data-title="公共參數">公共參數</a>
                  </li>
                  <li>
                    <a href="#t-constructingtherequest" class="toc-h2 toc-link" data-title="構建請求">構建請求</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-marketdata" class="toc-h1 toc-link" data-title="行情接口">行情接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-orderbook" class="toc-h2 toc-link" data-title="Orderbook">Orderbook</a>
                  </li>
                  <li>
                    <a href="#t-querykline" class="toc-h2 toc-link" data-title="查詢K線數據">查詢K線數據</a>
                  </li>
                  <li>
                    <a href="#t-latestsymbolinfo" class="toc-h2 toc-link" data-title="合約最新信息">合約最新信息</a>
                  </li>
                  <li>
                    <a href="#t-publictradingrecords" class="toc-h2 toc-link" data-title="平臺交易歷史數據">平臺交易歷史數據</a>
                  </li>
                  <li>
                    <a href="#t-querysymbol" class="toc-h2 toc-link" data-title="查詢合約信息">查詢合約信息</a>
                  </li>
                  <li>
                    <a href="#t-markpricekline" class="toc-h2 toc-link" data-title="標記價格K線">標記價格K線</a>
                  </li>
                  <li>
                    <a href="#t-queryindexpricekline" class="toc-h2 toc-link" data-title="查詢指數價格K線數據">查詢指數價格K線數據</a>
                  </li>
                  <li>
                    <a href="#t-querypremiumindexkline" class="toc-h2 toc-link" data-title="查詢溢價K線數據">查詢溢價K線數據</a>
                  </li>
                  <li>
                    <a href="#t-advanceddata" class="toc-h2 toc-link" data-title="平臺進階數據">平臺進階數據</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-marketopeninterest" class="toc-h3 toc-link" data-title="未平合約持倉數量">未平合約持倉數量</a>
                          </li>
                          <li>
                            <a href="#t-marketbigdeal" class="toc-h3 toc-link" data-title="主動成交大額訂單">主動成交大額訂單</a>
                          </li>
                          <li>
                            <a href="#t-marketaccountratio" class="toc-h3 toc-link" data-title="用戶多空持倉比率">用戶多空持倉比率</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-accountdata" class="toc-h1 toc-link" data-title="賬戶/交易接口">賬戶/交易接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-activeorders" class="toc-h2 toc-link" data-title="活動單">活動單</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-placeactive" class="toc-h3 toc-link" data-title="創建活動委托單">創建活動委托單</a>
                          </li>
                          <li>
                            <a href="#t-getactive" class="toc-h3 toc-link" data-title="查詢活動委托">查詢活動委托</a>
                          </li>
                          <li>
                            <a href="#t-cancelactive" class="toc-h3 toc-link" data-title="撤銷活動委托單">撤銷活動委托單</a>
                          </li>
                          <li>
                            <a href="#t-cancelallactive" class="toc-h3 toc-link" data-title="撤銷所有活動委托單">撤銷所有活動委托單</a>
                          </li>
                          <li>
                            <a href="#t-replaceactive" class="toc-h3 toc-link" data-title="修改活動單信息">修改活動單信息</a>
                          </li>
                          <li>
                            <a href="#t-queryactive" class="toc-h3 toc-link" data-title="實時查詢活動委托">實時查詢活動委托</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-conditionalorders" class="toc-h2 toc-link" data-title="條件單">條件單</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-placecond" class="toc-h3 toc-link" data-title="創建條件委托單">創建條件委托單</a>
                          </li>
                          <li>
                            <a href="#t-getcond" class="toc-h3 toc-link" data-title="查詢條件委托">查詢條件委托</a>
                          </li>
                          <li>
                            <a href="#t-cancelcond" class="toc-h3 toc-link" data-title="撤消條件委托單">撤消條件委托單</a>
                          </li>
                          <li>
                            <a href="#t-cancelallcond" class="toc-h3 toc-link" data-title="撤消全部條件委托單">撤消全部條件委托單</a>
                          </li>
                          <li>
                            <a href="#t-replacecond" class="toc-h3 toc-link" data-title="修改條件委托單">修改條件委托單</a>
                          </li>
                          <li>
                            <a href="#t-querycond" class="toc-h3 toc-link" data-title="實時查詢條件委托">實時查詢條件委托</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-position" class="toc-h2 toc-link" data-title="持倉">持倉</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-myposition" class="toc-h3 toc-link" data-title="獲取持倉（實時）">獲取持倉（實時）</a>
                          </li>
                          <li>
                            <a href="#t-changemargin" class="toc-h3 toc-link" data-title="更新保證金">更新保證金</a>
                          </li>
                          <li>
                            <a href="#t-tradingstop" class="toc-h3 toc-link" data-title="設置止盈止損">設置止盈止損</a>
                          </li>
                          <li>
                            <a href="#t-setleverage" class="toc-h3 toc-link" data-title="修改杠桿">修改杠桿</a>
                          </li>
                          <li>
                            <a href="#t-usertraderecords" class="toc-h3 toc-link" data-title="用戶成交記錄">用戶成交記錄</a>
                          </li>
                          <li>
                            <a href="#t-closedprofitandloss" class="toc-h3 toc-link" data-title="平倉盈虧">平倉盈虧</a>
                          </li>
                          <li>
                            <a href="#t-switchmode" class="toc-h3 toc-link" data-title="切換止盈止損模式">切換止盈止損模式</a>
                          </li>
                          <li>
                            <a href="#t-marginswitch" class="toc-h3 toc-link" data-title="全倉/逐倉切換">全倉/逐倉切換</a>
                          </li>
                          <li>
                            <a href="#t-queryfeerate" class="toc-h3 toc-link" data-title="查询用户手續费率">查询用户手續费率</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-risklimit" class="toc-h2 toc-link" data-title="風險限額">風險限額</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-getrisklimit" class="toc-h3 toc-link" data-title="查詢風險限額表">查詢風險限額表</a>
                          </li>
                          <li>
                            <a href="#t-setrisklimit" class="toc-h3 toc-link" data-title="設置風險限額">設置風險限額</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-funding" class="toc-h2 toc-link" data-title="資金費率">資金費率</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-fundingrate" class="toc-h3 toc-link" data-title="查詢上個周期的資金費率">查詢上個周期的資金費率</a>
                          </li>
                          <li>
                            <a href="#t-mylastfundingfee" class="toc-h3 toc-link" data-title="查詢上個周期資金費用結算信息">查詢上個周期資金費用結算信息</a>
                          </li>
                          <li>
                            <a href="#t-predictedfunding" class="toc-h3 toc-link" data-title="查詢預測資金費率和資金費用">查詢預測資金費率和資金費用</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-key" class="toc-h2 toc-link" data-title="APIKey信息">APIKey信息</a>
                  </li>
                  <li>
                    <a href="#t-lcp" class="toc-h2 toc-link" data-title="流動性貢獻分">流動性貢獻分</a>
                  </li>
                  <li>
                    <a href="#t-switchpositionmode" class="toc-h2 toc-link" data-title="切換倉位模式">切換倉位模式</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-wallet" class="toc-h1 toc-link" data-title="錢包接口">錢包接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-balance" class="toc-h2 toc-link" data-title="獲取錢包余額">獲取錢包余額</a>
                  </li>
                  <li>
                    <a href="#t-walletrecords" class="toc-h2 toc-link" data-title="資金記錄">資金記錄</a>
                  </li>
                  <li>
                    <a href="#t-withdrawrecords" class="toc-h2 toc-link" data-title="提幣記錄">提幣記錄</a>
                  </li>
                  <li>
                    <a href="#t-assetexchangerecords" class="toc-h2 toc-link" data-title="資產兌換記錄">資產兌換記錄</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-api" class="toc-h1 toc-link" data-title="通用數據接口">通用數據接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-servertime" class="toc-h2 toc-link" data-title="服務器時間">服務器時間</a>
                  </li>
                  <li>
                    <a href="#t-announcement" class="toc-h2 toc-link" data-title="公告">公告</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-ratelimits" class="toc-h1 toc-link" data-title="頻率限製">頻率限製</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-ipratelimits" class="toc-h2 toc-link" data-title="IP頻率限製">IP頻率限製</a>
                  </li>
                  <li>
                    <a href="#t-understandingratelimits" class="toc-h2 toc-link" data-title="賬戶頻率限製">賬戶頻率限製</a>
                  </li>
                  <li>
                    <a href="#t-perendpoint" class="toc-h2 toc-link" data-title="接口頻率限製表">接口頻率限製表</a>
                  </li>
                  <li>
                    <a href="#t-orderlimits" class="toc-h2 toc-link" data-title="下單限製">下單限製</a>
                  </li>
                  <li>
                    <a href="#t-raisemylimit" class="toc-h2 toc-link" data-title="如何提高頻率限製">如何提高頻率限製</a>
                  </li>
                  <li>
                    <a href="#t-liquidity" class="toc-h2 toc-link" data-title="Bybit流動性貢獻系統">Bybit流動性貢獻系統</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-ofrthreshold" class="toc-h3 toc-link" data-title="報單成交率">報單成交率</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-ofrratio" class="toc-h4 toc-link" data-title="報單成交率">報單成交率</a>
                                  </li>
                                  <li>
                                    <a href="#t-ofrratioexample" class="toc-h4 toc-link" data-title="報單成交率舉例">報單成交率舉例</a>
                                  </li>
                                  <li>
                                    <a href="#t-ofrminimum" class="toc-h4 toc-link" data-title="API 交易用戶最小報單成交率門檻">API 交易用戶最小報單成交率門檻</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#t-frequencylimit" class="toc-h3 toc-link" data-title="API 交易用戶提高頻率的條件">API 交易用戶提高頻率的條件</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-liquiditypoints" class="toc-h4 toc-link" data-title="流動性貢獻打分">流動性貢獻打分</a>
                                  </li>
                                  <li>
                                    <a href="#t-ratelimitsexplanation" class="toc-h4 toc-link" data-title="名詞解釋">名詞解釋</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-websocket" class="toc-h1 toc-link" data-title="WebSocket接口">WebSocket接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-websocketauthentication" class="toc-h2 toc-link" data-title="鑒權/認證">鑒權/認證</a>
                  </li>
                  <li>
                    <a href="#t-heartbeat" class="toc-h2 toc-link" data-title="心跳包/Ping">心跳包/Ping</a>
                  </li>
                  <li>
                    <a href="#t-subscribe" class="toc-h2 toc-link" data-title="訂閱方式">訂閱方式</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-websocketfilters" class="toc-h3 toc-link" data-title="Websocket訂閱方式">Websocket訂閱方式</a>
                          </li>
                          <li>
                            <a href="#t-websocketunsubfilters" class="toc-h3 toc-link" data-title="Websocket取消訂閱方式">Websocket取消訂閱方式</a>
                          </li>
                          <li>
                            <a href="#t-intervals" class="toc-h3 toc-link" data-title="推送周期">推送周期</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-websocketresponse" class="toc-h2 toc-link" data-title="訂閱結果">訂閱結果</a>
                  </li>
                  <li>
                    <a href="#t-publictopics" class="toc-h2 toc-link" data-title="公共 Topics">公共 Topics</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-websocketorderbook25" class="toc-h3 toc-link" data-title="orderBook25檔">orderBook25檔</a>
                          </li>
                          <li>
                            <a href="#t-websocketorderbook200" class="toc-h3 toc-link" data-title="orderBook200檔">orderBook200檔</a>
                          </li>
                          <li>
                            <a href="#t-websockettrade" class="toc-h3 toc-link" data-title="平臺成交">平臺成交</a>
                          </li>
                          <li>
                            <a href="#t-websocketinsurance" class="toc-h3 toc-link" data-title="保險基金">保險基金</a>
                          </li>
                          <li>
                            <a href="#t-websocketinstrumentinfo" class="toc-h3 toc-link" data-title="行情">行情</a>
                          </li>
                          <li>
                            <a href="#t-websocketklinev2" class="toc-h3 toc-link" data-title="K線">K線</a>
                          </li>
                          <li>
                            <a href="#t-websocketliquidation" class="toc-h3 toc-link" data-title="平臺強平推送">平臺強平推送</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-privatetopics" class="toc-h2 toc-link" data-title="私有 Topics">私有 Topics</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-websocketposition" class="toc-h3 toc-link" data-title="持倉">持倉</a>
                          </li>
                          <li>
                            <a href="#t-websocketexecution" class="toc-h3 toc-link" data-title="個人成交">個人成交</a>
                          </li>
                          <li>
                            <a href="#t-websocketorder" class="toc-h3 toc-link" data-title="活動單">活動單</a>
                          </li>
                          <li>
                            <a href="#t-websocketstoporder" class="toc-h3 toc-link" data-title="條件單">條件單</a>
                          </li>
                          <li>
                            <a href="#t-websocketwallet" class="toc-h3 toc-link" data-title="錢包">錢包</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-archivedata" class="toc-h1 toc-link" data-title="歸檔數據">歸檔數據</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-historicalmarketdata" class="toc-h2 toc-link" data-title="歷史行情">歷史行情</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-enums" class="toc-h1 toc-link" data-title="枚舉定義">枚舉定義</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#side-side" class="toc-h2 toc-link" data-title="Side (side)">Side (<code>side</code>)</a>
                  </li>
                  <li>
                    <a href="#symbol-symbol" class="toc-h2 toc-link" data-title="Symbol (symbol)">Symbol (<code>symbol</code>)</a>
                  </li>
                  <li>
                    <a href="#currency-currency-coin" class="toc-h2 toc-link" data-title="Currency (currency/coin)">Currency (<code>currency</code>/<code>coin</code>)</a>
                  </li>
                  <li>
                    <a href="#contract-type-contract_type" class="toc-h2 toc-link" data-title="Contract Type(contract_type)">Contract Type(<code>contract_type</code>)</a>
                  </li>
                  <li>
                    <a href="#contract-status-status" class="toc-h2 toc-link" data-title="Contract Status(status)">Contract Status(<code>status</code>)</a>
                  </li>
                  <li>
                    <a href="#wallet-fund-type-wallet_fund_type-type" class="toc-h2 toc-link" data-title="Wallet fund type (wallet_fund_type / type)">Wallet fund type (<code>wallet_fund_type</code> / <code>type</code>)</a>
                  </li>
                  <li>
                    <a href="#withdraw-status-status" class="toc-h2 toc-link" data-title="Withdraw status (status)">Withdraw status (<code>status</code>)</a>
                  </li>
                  <li>
                    <a href="#order-type-order_type" class="toc-h2 toc-link" data-title="Order type (order_type)">Order type (<code>order_type</code>)</a>
                  </li>
                  <li>
                    <a href="#quantity-qty" class="toc-h2 toc-link" data-title="Quantity (qty)">Quantity (<code>qty</code>)</a>
                  </li>
                  <li>
                    <a href="#price-price" class="toc-h2 toc-link" data-title="Price (price)">Price (<code>price</code>)</a>
                  </li>
                  <li>
                    <a href="#time-in-force-time_in_force" class="toc-h2 toc-link" data-title="Time in force (time_in_force)">Time in force (<code>time_in_force</code>)</a>
                  </li>
                  <li>
                    <a href="#trigger-price-type-trigger_by" class="toc-h2 toc-link" data-title="Trigger price type (trigger_by)">Trigger price type (<code>trigger_by</code>)</a>
                  </li>
                  <li>
                    <a href="#order-order" class="toc-h2 toc-link" data-title="Order (order)">Order (<code>order</code>)</a>
                  </li>
                  <li>
                    <a href="#order-status-order_status" class="toc-h2 toc-link" data-title="Order status (order_status)">Order status (<code>order_status</code>)</a>
                  </li>
                  <li>
                    <a href="#stop-order-status-stop_order_status" class="toc-h2 toc-link" data-title="Stop order status (stop_order_status)">Stop order status (<code>stop_order_status</code>)</a>
                  </li>
                  <li>
                    <a href="#cancel-type-cancel_type" class="toc-h2 toc-link" data-title="Cancel type (cancel_type)">Cancel type (<code>cancel_type</code>)</a>
                  </li>
                  <li>
                    <a href="#create-type-create_type" class="toc-h2 toc-link" data-title="Create type (create_type)">Create type (<code>create_type</code>)</a>
                  </li>
                  <li>
                    <a href="#exec-type-exec_type" class="toc-h2 toc-link" data-title="Exec type (exec_type)">Exec type (<code>exec_type</code>)</a>
                  </li>
                  <li>
                    <a href="#liquidity-type-last_liquidity_ind" class="toc-h2 toc-link" data-title="Liquidity type (last_liquidity_ind)">Liquidity type (<code>last_liquidity_ind</code>)</a>
                  </li>
                  <li>
                    <a href="#tick-direction-type-tick_direction" class="toc-h2 toc-link" data-title="Tick direction type (tick_direction)">Tick direction type (<code>tick_direction</code>)</a>
                  </li>
                  <li>
                    <a href="#tp-sl-mode-tp_sl_mode" class="toc-h2 toc-link" data-title="TP/SL mode (tp_sl_mode)">TP/SL mode (<code>tp_sl_mode</code>)</a>
                  </li>
                  <li>
                    <a href="#kline-interval-interval" class="toc-h2 toc-link" data-title="Kline interval (interval)">Kline interval (<code>interval</code>)</a>
                  </li>
                  <li>
                    <a href="#date-start_date-end_date" class="toc-h2 toc-link" data-title="Date (start_date/end_date)">Date (<code>start_date</code>/<code>end_date</code>)</a>
                  </li>
                  <li>
                    <a href="#stop-order-type-stop_order_type" class="toc-h2 toc-link" data-title="Stop order type (stop_order_type)">Stop order type (<code>stop_order_type</code>)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-errors" class="toc-h1 toc-link" data-title="錯誤碼">錯誤碼</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#10000" class="toc-h2 toc-link" data-title="10000">10000</a>
                  </li>
                  <li>
                    <a href="#10001" class="toc-h2 toc-link" data-title="10001">10001</a>
                  </li>
                  <li>
                    <a href="#10002" class="toc-h2 toc-link" data-title="10002">10002</a>
                  </li>
                  <li>
                    <a href="#10003" class="toc-h2 toc-link" data-title="10003">10003</a>
                  </li>
                  <li>
                    <a href="#10004" class="toc-h2 toc-link" data-title="10004">10004</a>
                  </li>
                  <li>
                    <a href="#10005" class="toc-h2 toc-link" data-title="10005">10005</a>
                  </li>
                  <li>
                    <a href="#10006" class="toc-h2 toc-link" data-title="10006">10006</a>
                  </li>
                  <li>
                    <a href="#10007" class="toc-h2 toc-link" data-title="10007">10007</a>
                  </li>
                  <li>
                    <a href="#10010" class="toc-h2 toc-link" data-title="10010">10010</a>
                  </li>
                  <li>
                    <a href="#10016" class="toc-h2 toc-link" data-title="10016">10016</a>
                  </li>
                  <li>
                    <a href="#10017" class="toc-h2 toc-link" data-title="10017">10017</a>
                  </li>
                  <li>
                    <a href="#10018" class="toc-h2 toc-link" data-title="10018">10018</a>
                  </li>
                  <li>
                    <a href="#10020" class="toc-h2 toc-link" data-title="10020">10020</a>
                  </li>
                  <li>
                    <a href="#10021" class="toc-h2 toc-link" data-title="10021">10021</a>
                  </li>
                  <li>
                    <a href="#10022" class="toc-h2 toc-link" data-title="10022">10022</a>
                  </li>
                  <li>
                    <a href="#11000" class="toc-h2 toc-link" data-title="11000">11000</a>
                  </li>
                  <li>
                    <a href="#11001" class="toc-h2 toc-link" data-title="11001">11001</a>
                  </li>
                  <li>
                    <a href="#11002" class="toc-h2 toc-link" data-title="11002">11002</a>
                  </li>
                  <li>
                    <a href="#11003" class="toc-h2 toc-link" data-title="11003">11003</a>
                  </li>
                  <li>
                    <a href="#11004" class="toc-h2 toc-link" data-title="11004">11004</a>
                  </li>
                  <li>
                    <a href="#11005" class="toc-h2 toc-link" data-title="11005">11005</a>
                  </li>
                  <li>
                    <a href="#11006" class="toc-h2 toc-link" data-title="11006">11006</a>
                  </li>
                  <li>
                    <a href="#11011" class="toc-h2 toc-link" data-title="11011">11011</a>
                  </li>
                  <li>
                    <a href="#11012" class="toc-h2 toc-link" data-title="11012">11012</a>
                  </li>
                  <li>
                    <a href="#11014" class="toc-h2 toc-link" data-title="11014">11014</a>
                  </li>
                  <li>
                    <a href="#11015" class="toc-h2 toc-link" data-title="11015">11015</a>
                  </li>
                  <li>
                    <a href="#11016" class="toc-h2 toc-link" data-title="11016">11016</a>
                  </li>
                  <li>
                    <a href="#11017" class="toc-h2 toc-link" data-title="11017">11017</a>
                  </li>
                  <li>
                    <a href="#11018" class="toc-h2 toc-link" data-title="11018">11018</a>
                  </li>
                  <li>
                    <a href="#11019" class="toc-h2 toc-link" data-title="11019">11019</a>
                  </li>
                  <li>
                    <a href="#11020" class="toc-h2 toc-link" data-title="11020">11020</a>
                  </li>
                  <li>
                    <a href="#11021" class="toc-h2 toc-link" data-title="11021">11021</a>
                  </li>
                  <li>
                    <a href="#11025" class="toc-h2 toc-link" data-title="11025">11025</a>
                  </li>
                  <li>
                    <a href="#11027" class="toc-h2 toc-link" data-title="11027">11027</a>
                  </li>
                  <li>
                    <a href="#11028" class="toc-h2 toc-link" data-title="11028">11028</a>
                  </li>
                  <li>
                    <a href="#11030" class="toc-h2 toc-link" data-title="11030">11030</a>
                  </li>
                  <li>
                    <a href="#11030-2" class="toc-h2 toc-link" data-title="11030">11030</a>
                  </li>
                  <li>
                    <a href="#11031" class="toc-h2 toc-link" data-title="11031">11031</a>
                  </li>
                  <li>
                    <a href="#11032" class="toc-h2 toc-link" data-title="11032">11032</a>
                  </li>
                  <li>
                    <a href="#11033" class="toc-h2 toc-link" data-title="11033">11033</a>
                  </li>
                  <li>
                    <a href="#11034" class="toc-h2 toc-link" data-title="11034">11034</a>
                  </li>
                  <li>
                    <a href="#11035" class="toc-h2 toc-link" data-title="11035">11035</a>
                  </li>
                  <li>
                    <a href="#11036" class="toc-h2 toc-link" data-title="11036">11036</a>
                  </li>
                  <li>
                    <a href="#11037" class="toc-h2 toc-link" data-title="11037">11037</a>
                  </li>
                  <li>
                    <a href="#11038" class="toc-h2 toc-link" data-title="11038">11038</a>
                  </li>
                  <li>
                    <a href="#11039" class="toc-h2 toc-link" data-title="11039">11039</a>
                  </li>
                  <li>
                    <a href="#11040" class="toc-h2 toc-link" data-title="11040">11040</a>
                  </li>
                  <li>
                    <a href="#20001" class="toc-h2 toc-link" data-title="20001">20001</a>
                  </li>
                  <li>
                    <a href="#20003" class="toc-h2 toc-link" data-title="20003">20003</a>
                  </li>
                  <li>
                    <a href="#20004" class="toc-h2 toc-link" data-title="20004">20004</a>
                  </li>
                  <li>
                    <a href="#20005" class="toc-h2 toc-link" data-title="20005">20005</a>
                  </li>
                  <li>
                    <a href="#20006" class="toc-h2 toc-link" data-title="20006">20006</a>
                  </li>
                  <li>
                    <a href="#20007" class="toc-h2 toc-link" data-title="20007">20007</a>
                  </li>
                  <li>
                    <a href="#20008" class="toc-h2 toc-link" data-title="20008">20008</a>
                  </li>
                  <li>
                    <a href="#20009" class="toc-h2 toc-link" data-title="20009">20009</a>
                  </li>
                  <li>
                    <a href="#20010" class="toc-h2 toc-link" data-title="20010">20010</a>
                  </li>
                  <li>
                    <a href="#20011" class="toc-h2 toc-link" data-title="20011">20011</a>
                  </li>
                  <li>
                    <a href="#20012" class="toc-h2 toc-link" data-title="20012">20012</a>
                  </li>
                  <li>
                    <a href="#20013" class="toc-h2 toc-link" data-title="20013">20013</a>
                  </li>
                  <li>
                    <a href="#20014" class="toc-h2 toc-link" data-title="20014">20014</a>
                  </li>
                  <li>
                    <a href="#20015" class="toc-h2 toc-link" data-title="20015">20015</a>
                  </li>
                  <li>
                    <a href="#20016" class="toc-h2 toc-link" data-title="20016">20016</a>
                  </li>
                  <li>
                    <a href="#20017" class="toc-h2 toc-link" data-title="20017">20017</a>
                  </li>
                  <li>
                    <a href="#20018" class="toc-h2 toc-link" data-title="20018">20018</a>
                  </li>
                  <li>
                    <a href="#20019" class="toc-h2 toc-link" data-title="20019">20019</a>
                  </li>
                  <li>
                    <a href="#20020" class="toc-h2 toc-link" data-title="20020">20020</a>
                  </li>
                  <li>
                    <a href="#20021" class="toc-h2 toc-link" data-title="20021">20021</a>
                  </li>
                  <li>
                    <a href="#20022" class="toc-h2 toc-link" data-title="20022">20022</a>
                  </li>
                  <li>
                    <a href="#20023" class="toc-h2 toc-link" data-title="20023">20023</a>
                  </li>
                  <li>
                    <a href="#20031" class="toc-h2 toc-link" data-title="20031">20031</a>
                  </li>
                  <li>
                    <a href="#20070" class="toc-h2 toc-link" data-title="20070">20070</a>
                  </li>
                  <li>
                    <a href="#20071" class="toc-h2 toc-link" data-title="20071">20071</a>
                  </li>
                  <li>
                    <a href="#20084" class="toc-h2 toc-link" data-title="20084">20084</a>
                  </li>
                  <li>
                    <a href="#30001" class="toc-h2 toc-link" data-title="30001">30001</a>
                  </li>
                  <li>
                    <a href="#30003" class="toc-h2 toc-link" data-title="30003">30003</a>
                  </li>
                  <li>
                    <a href="#30004" class="toc-h2 toc-link" data-title="30004">30004</a>
                  </li>
                  <li>
                    <a href="#30005" class="toc-h2 toc-link" data-title="30005">30005</a>
                  </li>
                  <li>
                    <a href="#30006" class="toc-h2 toc-link" data-title="30006">30006</a>
                  </li>
                  <li>
                    <a href="#30007" class="toc-h2 toc-link" data-title="30007">30007</a>
                  </li>
                  <li>
                    <a href="#30008" class="toc-h2 toc-link" data-title="30008">30008</a>
                  </li>
                  <li>
                    <a href="#30009" class="toc-h2 toc-link" data-title="30009">30009</a>
                  </li>
                  <li>
                    <a href="#30010" class="toc-h2 toc-link" data-title="30010">30010</a>
                  </li>
                  <li>
                    <a href="#30011" class="toc-h2 toc-link" data-title="30011">30011</a>
                  </li>
                  <li>
                    <a href="#30012" class="toc-h2 toc-link" data-title="30012">30012</a>
                  </li>
                  <li>
                    <a href="#30013" class="toc-h2 toc-link" data-title="30013">30013</a>
                  </li>
                  <li>
                    <a href="#30014" class="toc-h2 toc-link" data-title="30014">30014</a>
                  </li>
                  <li>
                    <a href="#30015" class="toc-h2 toc-link" data-title="30015">30015</a>
                  </li>
                  <li>
                    <a href="#30016" class="toc-h2 toc-link" data-title="30016">30016</a>
                  </li>
                  <li>
                    <a href="#30017" class="toc-h2 toc-link" data-title="30017">30017</a>
                  </li>
                  <li>
                    <a href="#30018" class="toc-h2 toc-link" data-title="30018">30018</a>
                  </li>
                  <li>
                    <a href="#30019" class="toc-h2 toc-link" data-title="30019">30019</a>
                  </li>
                  <li>
                    <a href="#30020" class="toc-h2 toc-link" data-title="30020">30020</a>
                  </li>
                  <li>
                    <a href="#30021" class="toc-h2 toc-link" data-title="30021">30021</a>
                  </li>
                  <li>
                    <a href="#30022" class="toc-h2 toc-link" data-title="30022">30022</a>
                  </li>
                  <li>
                    <a href="#30023" class="toc-h2 toc-link" data-title="30023">30023</a>
                  </li>
                  <li>
                    <a href="#30024" class="toc-h2 toc-link" data-title="30024">30024</a>
                  </li>
                  <li>
                    <a href="#30025" class="toc-h2 toc-link" data-title="30025">30025</a>
                  </li>
                  <li>
                    <a href="#30026" class="toc-h2 toc-link" data-title="30026">30026</a>
                  </li>
                  <li>
                    <a href="#30027" class="toc-h2 toc-link" data-title="30027">30027</a>
                  </li>
                  <li>
                    <a href="#30028" class="toc-h2 toc-link" data-title="30028">30028</a>
                  </li>
                  <li>
                    <a href="#30029" class="toc-h2 toc-link" data-title="30029">30029</a>
                  </li>
                  <li>
                    <a href="#30030" class="toc-h2 toc-link" data-title="30030">30030</a>
                  </li>
                  <li>
                    <a href="#30031" class="toc-h2 toc-link" data-title="30031">30031</a>
                  </li>
                  <li>
                    <a href="#30032" class="toc-h2 toc-link" data-title="30032">30032</a>
                  </li>
                  <li>
                    <a href="#30033" class="toc-h2 toc-link" data-title="30033">30033</a>
                  </li>
                  <li>
                    <a href="#30034" class="toc-h2 toc-link" data-title="30034">30034</a>
                  </li>
                  <li>
                    <a href="#30035" class="toc-h2 toc-link" data-title="30035">30035</a>
                  </li>
                  <li>
                    <a href="#30036" class="toc-h2 toc-link" data-title="30036">30036</a>
                  </li>
                  <li>
                    <a href="#30037" class="toc-h2 toc-link" data-title="30037">30037</a>
                  </li>
                  <li>
                    <a href="#30038" class="toc-h2 toc-link" data-title="30038">30038</a>
                  </li>
                  <li>
                    <a href="#30039" class="toc-h2 toc-link" data-title="30039">30039</a>
                  </li>
                  <li>
                    <a href="#30040" class="toc-h2 toc-link" data-title="30040">30040</a>
                  </li>
                  <li>
                    <a href="#30041" class="toc-h2 toc-link" data-title="30041">30041</a>
                  </li>
                  <li>
                    <a href="#30042" class="toc-h2 toc-link" data-title="30042">30042</a>
                  </li>
                  <li>
                    <a href="#30043" class="toc-h2 toc-link" data-title="30043">30043</a>
                  </li>
                  <li>
                    <a href="#30044" class="toc-h2 toc-link" data-title="30044">30044</a>
                  </li>
                  <li>
                    <a href="#30045" class="toc-h2 toc-link" data-title="30045">30045</a>
                  </li>
                  <li>
                    <a href="#30046" class="toc-h2 toc-link" data-title="30046">30046</a>
                  </li>
                  <li>
                    <a href="#30047" class="toc-h2 toc-link" data-title="30047">30047</a>
                  </li>
                  <li>
                    <a href="#30048" class="toc-h2 toc-link" data-title="30048">30048</a>
                  </li>
                  <li>
                    <a href="#30049" class="toc-h2 toc-link" data-title="30049">30049</a>
                  </li>
                  <li>
                    <a href="#30050" class="toc-h2 toc-link" data-title="30050">30050</a>
                  </li>
                  <li>
                    <a href="#30051" class="toc-h2 toc-link" data-title="30051">30051</a>
                  </li>
                  <li>
                    <a href="#30052" class="toc-h2 toc-link" data-title="30052">30052</a>
                  </li>
                  <li>
                    <a href="#30053" class="toc-h2 toc-link" data-title="30053">30053</a>
                  </li>
                  <li>
                    <a href="#30054" class="toc-h2 toc-link" data-title="30054">30054</a>
                  </li>
                  <li>
                    <a href="#30055" class="toc-h2 toc-link" data-title="30055">30055</a>
                  </li>
                  <li>
                    <a href="#30056" class="toc-h2 toc-link" data-title="30056">30056</a>
                  </li>
                  <li>
                    <a href="#30057" class="toc-h2 toc-link" data-title="30057">30057</a>
                  </li>
                  <li>
                    <a href="#30063" class="toc-h2 toc-link" data-title="30063">30063</a>
                  </li>
                  <li>
                    <a href="#30066" class="toc-h2 toc-link" data-title="30066">30066</a>
                  </li>
                  <li>
                    <a href="#30067" class="toc-h2 toc-link" data-title="30067">30067</a>
                  </li>
                  <li>
                    <a href="#30068" class="toc-h2 toc-link" data-title="30068">30068</a>
                  </li>
                  <li>
                    <a href="#30074" class="toc-h2 toc-link" data-title="30074">30074</a>
                  </li>
                  <li>
                    <a href="#30075" class="toc-h2 toc-link" data-title="30075">30075</a>
                  </li>
                  <li>
                    <a href="#30076" class="toc-h2 toc-link" data-title="30076">30076</a>
                  </li>
                  <li>
                    <a href="#30077" class="toc-h2 toc-link" data-title="30077">30077</a>
                  </li>
                  <li>
                    <a href="#30078" class="toc-h2 toc-link" data-title="30078">30078</a>
                  </li>
                  <li>
                    <a href="#30079" class="toc-h2 toc-link" data-title="30079">30079</a>
                  </li>
                  <li>
                    <a href="#30080" class="toc-h2 toc-link" data-title="30080">30080</a>
                  </li>
                  <li>
                    <a href="#30081" class="toc-h2 toc-link" data-title="30081">30081</a>
                  </li>
                  <li>
                    <a href="#30082" class="toc-h2 toc-link" data-title="30082">30082</a>
                  </li>
                  <li>
                    <a href="#30083" class="toc-h2 toc-link" data-title="30083">30083</a>
                  </li>
                  <li>
                    <a href="#30084" class="toc-h2 toc-link" data-title="30084">30084</a>
                  </li>
                  <li>
                    <a href="#30085" class="toc-h2 toc-link" data-title="30085">30085</a>
                  </li>
                  <li>
                    <a href="#30086" class="toc-h2 toc-link" data-title="30086">30086</a>
                  </li>
                  <li>
                    <a href="#30087" class="toc-h2 toc-link" data-title="30087">30087</a>
                  </li>
                  <li>
                    <a href="#30088" class="toc-h2 toc-link" data-title="30088">30088</a>
                  </li>
                  <li>
                    <a href="#30089" class="toc-h2 toc-link" data-title="30089">30089</a>
                  </li>
                  <li>
                    <a href="#30090" class="toc-h2 toc-link" data-title="30090">30090</a>
                  </li>
                  <li>
                    <a href="#30091" class="toc-h2 toc-link" data-title="30091">30091</a>
                  </li>
                  <li>
                    <a href="#30092" class="toc-h2 toc-link" data-title="30092">30092</a>
                  </li>
                  <li>
                    <a href="#30093" class="toc-h2 toc-link" data-title="30093">30093</a>
                  </li>
                  <li>
                    <a href="#30094" class="toc-h2 toc-link" data-title="30094">30094</a>
                  </li>
                  <li>
                    <a href="#30095" class="toc-h2 toc-link" data-title="30095">30095</a>
                  </li>
                  <li>
                    <a href="#31003" class="toc-h2 toc-link" data-title="31003">31003</a>
                  </li>
                  <li>
                    <a href="#32006" class="toc-h2 toc-link" data-title="32006">32006</a>
                  </li>
                  <li>
                    <a href="#32008" class="toc-h2 toc-link" data-title="32008">32008</a>
                  </li>
                  <li>
                    <a href="#32009" class="toc-h2 toc-link" data-title="32009">32009</a>
                  </li>
                  <li>
                    <a href="#32010" class="toc-h2 toc-link" data-title="32010">32010</a>
                  </li>
                  <li>
                    <a href="#32011" class="toc-h2 toc-link" data-title="32011">32011</a>
                  </li>
                  <li>
                    <a href="#33004" class="toc-h2 toc-link" data-title="33004">33004</a>
                  </li>
                  <li>
                    <a href="#34010" class="toc-h2 toc-link" data-title="34010">34010</a>
                  </li>
                  <li>
                    <a href="#34015" class="toc-h2 toc-link" data-title="34015">34015</a>
                  </li>
                  <li>
                    <a href="#34017" class="toc-h2 toc-link" data-title="34017">34017</a>
                  </li>
                  <li>
                    <a href="#34018" class="toc-h2 toc-link" data-title="34018">34018</a>
                  </li>
                  <li>
                    <a href="#34019" class="toc-h2 toc-link" data-title="34019">34019</a>
                  </li>
                  <li>
                    <a href="#34020" class="toc-h2 toc-link" data-title="34020">34020</a>
                  </li>
                  <li>
                    <a href="#34021" class="toc-h2 toc-link" data-title="34021">34021</a>
                  </li>
                  <li>
                    <a href="#34022" class="toc-h2 toc-link" data-title="34022">34022</a>
                  </li>
                  <li>
                    <a href="#34023" class="toc-h2 toc-link" data-title="34023">34023</a>
                  </li>
                  <li>
                    <a href="#34024" class="toc-h2 toc-link" data-title="34024">34024</a>
                  </li>
                  <li>
                    <a href="#34025" class="toc-h2 toc-link" data-title="34025">34025</a>
                  </li>
                  <li>
                    <a href="#34026" class="toc-h2 toc-link" data-title="34026">34026</a>
                  </li>
                  <li>
                    <a href="#34027" class="toc-h2 toc-link" data-title="34027">34027</a>
                  </li>
                  <li>
                    <a href="#32009-2" class="toc-h2 toc-link" data-title="32009">32009</a>
                  </li>
                  <li>
                    <a href="#34028" class="toc-h2 toc-link" data-title="34028">34028</a>
                  </li>
                  <li>
                    <a href="#34030" class="toc-h2 toc-link" data-title="34030">34030</a>
                  </li>
                  <li>
                    <a href="#34033" class="toc-h2 toc-link" data-title="34033">34033</a>
                  </li>
                  <li>
                    <a href="#34032" class="toc-h2 toc-link" data-title="34032">34032</a>
                  </li>
                  <li>
                    <a href="#34035" class="toc-h2 toc-link" data-title="34035">34035</a>
                  </li>
                  <li>
                    <a href="#34036" class="toc-h2 toc-link" data-title="34036">34036</a>
                  </li>
                  <li>
                    <a href="#34037" class="toc-h2 toc-link" data-title="34037">34037</a>
                  </li>
                  <li>
                    <a href="#34038" class="toc-h2 toc-link" data-title="34038">34038</a>
                  </li>
                  <li>
                    <a href="#34039" class="toc-h2 toc-link" data-title="34039">34039</a>
                  </li>
                  <li>
                    <a href="#34040" class="toc-h2 toc-link" data-title="34040">34040</a>
                  </li>
                  <li>
                    <a href="#35014" class="toc-h2 toc-link" data-title="35014">35014</a>
                  </li>
                  <li>
                    <a href="#37001" class="toc-h2 toc-link" data-title="37001">37001</a>
                  </li>
                  <li>
                    <a href="#37002" class="toc-h2 toc-link" data-title="37002">37002</a>
                  </li>
                  <li>
                    <a href="#37003" class="toc-h2 toc-link" data-title="37003">37003</a>
                  </li>
                  <li>
                    <a href="#37004" class="toc-h2 toc-link" data-title="37004">37004</a>
                  </li>
                  <li>
                    <a href="#37005" class="toc-h2 toc-link" data-title="37005">37005</a>
                  </li>
                  <li>
                    <a href="#37006" class="toc-h2 toc-link" data-title="37006">37006</a>
                  </li>
                  <li>
                    <a href="#37007" class="toc-h2 toc-link" data-title="37007">37007</a>
                  </li>
                  <li>
                    <a href="#37008" class="toc-h2 toc-link" data-title="37008">37008</a>
                  </li>
                  <li>
                    <a href="#37009" class="toc-h2 toc-link" data-title="37009">37009</a>
                  </li>
                  <li>
                    <a href="#37010" class="toc-h2 toc-link" data-title="37010">37010</a>
                  </li>
                  <li>
                    <a href="#37011" class="toc-h2 toc-link" data-title="37011">37011</a>
                  </li>
                  <li>
                    <a href="#37012" class="toc-h2 toc-link" data-title="37012">37012</a>
                  </li>
                  <li>
                    <a href="#37013" class="toc-h2 toc-link" data-title="37013">37013</a>
                  </li>
                  <li>
                    <a href="#38101" class="toc-h2 toc-link" data-title="38101">38101</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-abandonedendpoints" class="toc-h1 toc-link" data-title="廢棄接口">廢棄接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-query_liqrecords" class="toc-h2 toc-link" data-title="查詢強平訂單數據">查詢強平訂單數據</a>
                  </li>
                  <li>
                    <a href="#t-a_getleverage" class="toc-h2 toc-link" data-title="用戶杠桿">用戶杠桿</a>
                  </li>
                  <li>
                    <a href="#t-a_getactive" class="toc-h2 toc-link" data-title="查詢活動委托">查詢活動委托</a>
                  </li>
                  <li>
                    <a href="#t-a_getcond" class="toc-h2 toc-link" data-title="查詢條件委托">查詢條件委托</a>
                  </li>
                  <li>
                    <a href="#t-a_placecond" class="toc-h2 toc-link" data-title="創建條件委托單">創建條件委托單</a>
                  </li>
                  <li>
                    <a href="#t-a_cancelcond" class="toc-h2 toc-link" data-title="撤消條件委托單">撤消條件委托單</a>
                  </li>
                  <li>
                    <a href="#t-a_replacecond" class="toc-h2 toc-link" data-title="修改條件委托單">修改條件委托單</a>
                  </li>
                  <li>
                    <a href="#t-a_replaceactive" class="toc-h2 toc-link" data-title="修改活動單信息">修改活動單信息</a>
                  </li>
                  <li>
                    <a href="#t-a_getrisklimit" class="toc-h2 toc-link" data-title="查詢風險限額表">查詢風險限額表</a>
                  </li>
                  <li>
                    <a href="#t-a_setrisklimit" class="toc-h2 toc-link" data-title="設置風險限額">設置風險限額</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <!---
Clipboard script
-->

<script src="../dist/clipboard.min.js"></script>

<script>
var clipboard = new ClipboardJS('.clipboard_button');

clipboard.on('success', function(e) {
    console.log(e);
});

clipboard.on('error', function(e) {
    console.log(e);
});
</script>
<h1 id='t-introduction'>中文社區和參考資料</h1>
<p><p>歡迎使用 <a href="https://www.bybit.com/">Bybit</a> APIs 和 Websocket官方文檔！</p> <p>如果您在使用API的過程中遇到問題需要幫助，請加入我們的 <a href="https://t.me/Bybitapi">官方Telegram API討論群</a>！</p></p>
<h3 id='t-resources'>中文社區和參考資料</h3>
<p><ul class="bybit-community"> <li><img src="../../../images/favicon-4f296779.ico" height="14", width="14"> <a href="https://help.bybit.com/hc/zh-cn"><strong>幫助中心</strong></a> - <strong>在這裏了解合約交易</strong> <li><img src="../../../images/github_logo_icon-768757c0.png" height="14", width="14"> <a href="https://pypi.org/project/pybit/"><strong>pybit</strong></a> - <strong>官方Python SDK</strong> <li><img src="../../../images/telegram_logo_icon-251353d9.png" height="14", width="14"> <a href="https://t.me/BybitAPI"><strong>API Discussion Group</strong></a> - <strong>API英文討論群</strong> <li><img src="../../../images/telegram_logo_icon-251353d9.png" height="14", width="14"> <a href="https://t.me/BybitChineseAPI"><strong>Chinese API Discussion Group</strong></a> - <strong>API中文討論群</strong> <li><img src="../../../images/telegram_logo_icon-251353d9.png" height="14", width="14"> <a href="https://t.me/Bybit_API_Announcements"><strong>API Announcements Channel</strong></a> - <strong>API公告群</strong> </ul></p>
<h1 id='t-changelog'>更新日誌</h1><h2 id='2021-07-09'>2021-07-09</h2><h3 id='rest-api'>REST API</h3>
<ul>
<li><a href="#t-setleverage">修改杠桿</a> [更新]

<ul>
<li>新增字段<code>leverage_only</code>該字段表明一個兼容邏輯。 <br>若該字段為<code>false</code>,當<code>leverage </code>等於<code>0</code>時將會切換至全倉,當<code>leverage</code>大於<code>0</code>將切換至逐倉，此時無法在全倉下設置杠桿;<br>若該字段為<code>true</code>則表示在當前倉位模式下切換杠桿，此時<code>leverage</code>需要大於<code>0</code>,並可以使用全倉切換杠桿功能。</br>我們建議用戶<code>leverage</code>設置為<code>true</code></li>
</ul></li>
<li><a href="#t-marginswitch">全倉/逐倉切換</a> [更新]

<ul>
<li>更新字段<code>buy_leverage</code><code>sell_leverage</code></li>
</ul></li>
</ul>
<h2 id='2021-06-28'>2021-06-28</h2><h3 id='rest-api-2'>REST API</h3>
<ul>
<li><a href="#t-querysymbol">查詢合約信息</a> [更新]

<ul>
<li>修復<code>BCHUSDT</code> and <code>UNIUSDT</code>字段<code>min_price,tick_size</code>值不對的問題</li>
</ul></li>
</ul>
<h2 id='2021-06-18'>2021-06-18</h2><h3 id='rest-api-3'>REST API</h3>
<ul>
<li><a href="#t-marginswitch">全倉/逐倉切換</a> [更新]

<ul>
<li>以參數<code>is_isolated</code>來判斷全逐倉，true是逐倉，false是全倉。</li>
<li>廢棄使用<code>auto_add_margin</code>來判斷全逐倉。</li>
<li>不推薦使用 <a href="#t-setleverage">Set Leverage</a>接口切換全逐倉</li>
</ul></li>
</ul>
<h2 id='2021-06-03'>2021-06-03</h2><h3 id='rest-api-4'>REST API</h3>
<ul>
<li><a href="#t-switchmode">切換止盈止損模式</a> [新增]</li>
<li><a href="#t-placecond">創建條件委托單</a> [更新]

<ul>
<li>支持設置止盈止損，請求參數增加 <code>take_profit</code>, <code>stop_loss</code>, <code>tp_trigger_by</code>, <code>sl_trigger_by</code></li>
<li>返回參數增加 <code>take_profit</code>, <code>stop_loss</code>, <code>tp_trigger_by</code>, <code>sl_trigger_by</code></li>
</ul></li>
<li><a href="#t-placeactive">創建活動委托單</a> [更新]

<ul>
<li>請求參數增加 <code>tp_trigger_by</code>, <code>sl_trigger_by</code></li>
<li>返回參數增加 <code>take_profit</code>, <code>stop_loss</code>, <code>tp_trigger_by</code>, <code>sl_trigger_by</code></li>
</ul></li>
<li><a href="#t-myposition">獲取持倉（實時）</a> [更新]

<ul>
<li>返回參數增加<code>tp_sl_mode</code></li>
</ul></li>
<li><a href="#t-tradingstop">設置止盈止損</a> [更新]

<ul>
<li>支持創建部分止盈止損單,請求參數增加<code>sl_size</code>, <code>tp_size</code></li>
</ul></li>
<li><a href="#t-cancelcond">撤消條件委托單</a> [更新]

<ul>
<li>支持撤銷止盈止損單</li>
</ul></li>
<li><a href="#t-replacecond">修改條件委托單</a> [更新]

<ul>
<li>支持修改止盈止損單信息,請求參數增加<code>take_profit</code>, <code>stop_loss</code>, <code>tp_trigger_by</code>, <code>sl_trigger_by</code></li>
</ul></li>
<li><a href="#t-replaceactive">修改活動單信息</a> [更新]

<ul>
<li>支持修改止盈止損單信息,請求參數增加<code>take_profit</code>, <code>stop_loss</code>, <code>tp_trigger_by</code>, <code>sl_trigger_by</code></li>
</ul></li>
<li><a href="#t-getactive">查詢活動委托</a> [更新]

<ul>
<li>返回參數增加 <code>take_profit</code>, <code>stop_loss</code>, <code>tp_trigger_by</code>, <code>sl_trigger_by</code><br></li>
</ul></li>
<li><a href="#t-queryactive">實時查詢活動委托</a> [更新]

<ul>
<li>返回參數增加 <code>take_profit</code>, <code>stop_loss</code>, <code>tp_trigger_by</code>, <code>sl_trigger_by</code><br></li>
</ul></li>
<li><a href="#t-getcond">查詢條件委托</a> [更新]

<ul>
<li>返回參數增加 <code>take_profit</code>, <code>stop_loss</code>, <code>tp_trigger_by</code>, <code>sl_trigger_by</code><br></li>
</ul></li>
<li><a href="#t-querycond">實時查詢條件委托</a> [更新]

<ul>
<li>返回參數增加 <code>take_profit</code>, <code>stop_loss</code>, <code>tp_trigger_by</code>, <code>sl_trigger_by</code></li>
</ul></li>
</ul>
<h2 id='2021-05-11'>2021-05-11</h2><h3 id='rest-api-5'>REST API</h3>
<ul>
<li><a href="#t-setrisklimit">設置風險限額</a> [新增]</li>
<li><a href="#t-getrisklimit">查詢風險限額表</a> [新增]</li>
</ul>
<h2 id='2021-05-11-2'>2021-05-11</h2><h3 id='rest-api-6'>REST API</h3>
<ul>
<li><a href="#t-setleverage">修改杠桿</a> [更新]

<ul>
<li>新增字段<code>buy_leverage</code>,<code>sell_leverage</code></li>
<li><code>leverage</code> - <b>不推薦使用</b></li>
</ul></li>
<li><a href="#t-switchpositionmode">切換倉位模式</a> [新增]</li>
<li><a href="#t-marginswitch">全倉/逐倉切換</a> [新增]</li>
</ul>
<h2 id='2021-04-22'>2021-04-22</h2><h3 id='rest-api-7'>REST API</h3>
<ul>
<li><a href="#t-lcp">流動性貢獻分</a> [更新]

<ul>
<li>廢棄字段self_ratio與platform_ratio，現階段返回值均為0</li>
</ul></li>
</ul>
<h2 id='2021-04-07'>2021-04-07</h2><h3 id='rest-api-8'>REST API</h3>
<ul>
<li>修復<a href="#t-query_liqrecords">查詢強平訂單數據</a>接口<code>price</code>字段取值，由<code>liq_price</code>改為<code>bust_price</code>，關於強平訂單，請參考<a href="https://help.bybit.com/hc/zh-cn/articles/360039261474-%E5%BC%BA%E5%88%B6%E5%B9%B3%E4%BB%93%E8%BF%87%E7%A8%8B-%E5%A6%82%E4%BD%95%E5%87%8F%E5%B0%91%E5%BC%BA%E5%B9%B3%E4%BA%8B%E4%BB%B6-%E5%8F%8D%E5%90%91%E6%B0%B8%E7%BB%AD-">強製平倉過程</a></li>
</ul>
<h2 id='2021-04-02'>2021-04-02</h2><h3 id='rest-api-9'>REST API</h3>
<ul>
<li>增加錯誤碼描述：10016,10018,30074,30075</li>
</ul>
<h2 id='2021-03-24'>2021-03-24</h2>
<ul>
<li><a href="#t-getrisklimit">查詢風險限額表</a> [更新]

<ul>
<li>查詢風險限額新增返回字段最大杠桿<code>max_leverage</code></li>
</ul></li>
</ul>
<h2 id='2021-03-22'>2021-03-22</h2>
<ul>
<li><a href="#t-walletrecords">資金記錄</a> [更新]

<ul>
<li>修復參數<code>start_date</code>,<code>end_date</code>過濾失效的問題</li>
</ul></li>
</ul>
<h2 id='2021-03-15'>2021-03-15</h2><h3 id='rest-api-10'>REST API</h3>
<ul>
<li>2020年12月31日前，市價單返回的訂單價格是下單時刻的最新市場價；自2020年12月31日起，市價單返回的訂單價格是修訂後的限價價格。詳情可見<a href="#t-activeorders">市價活動委托說明</a>。</li>
</ul>
<h2 id='2021-03-12'>2021-03-12</h2><h3 id='rest-api-11'>REST API</h3>
<ul>
<li>修復 <a href="#t-usertraderecords">User Trade Record</a>接口返回值<code>exec_type,last_liquidity_ind</code> 值不對的問題</li>
</ul>
<h2 id='2021-03-11'>2021-03-11</h2>
<ul>
<li><a href="#t-getactive">查詢活動委托</a> [更新]

<ul>
<li>修復響應結果順序的問題</li>
</ul></li>
<li><a href="#t-getcond">查詢條件委托</a> [更新]

<ul>
<li>修復響應結果順序的問題</li>
</ul></li>
</ul>
<h2 id='2021-03-04'>2021-03-04</h2>
<ul>
<li><a href="#t-walletrecords">資金記錄</a> [更新]

<ul>
<li>修復參數<code>wallet_fund_type</code>過濾失效的問題</li>
</ul></li>
</ul>
<h2 id='2021-02-02'>2021-02-02</h2><h3 id='websocket-api'>Websocket API</h3>
<ul>
<li><p>Topic <a href="#t-websocketorder">order</a> [更新]</p>

<ul>
<li>新增字段<code>reduce_only</code>和<code>close_on_trigger</code></li>
</ul></li>
<li><p>Topic <a href="#t-websocketstoporder">stop_order</a> [更新]</p>

<ul>
<li>新增字段<code>close_on_trigger</code></li>
</ul></li>
</ul>
<h2 id='2021-01-25'>2021-01-25</h2><h3 id='rest-api-12'>REST API</h3>
<ul>
<li><a href="#t-fundingrate">查詢上個周期的資金費率</a> [更新]

<ul>
<li><code>/v2/private/funding/prev-funding-rate</code> <code>此接口不再推薦使用。</code></li>
<li>新增：<code>/v2/public/funding/prev-funding-rate</code></li>
</ul></li>
</ul>
<h2 id='2021-01-12'>2021-01-12</h2><h3 id='rest-api-13'>REST API</h3>
<ul>
<li><a href="#t-queryindexpricekline">查詢指數價格K線數據</a> [新增]</li>
<li><a href="#t-querypremiumindexkline">查詢溢價K線數據</a> [新增]</li>
</ul>
<h2 id='2020-12-31'>2020-12-31</h2><h3 id='rest-api-14'>REST API</h3><h4 id='t-restapi_update_20201231_0'>服務升級後新增<code>v2</code>接口路由，列表如下：</h4>
<ul>
<li><a href="#t-setleverage">修改杠桿</a> [新增]

<ul>
<li><code>/user/leverage/save</code> <code>此接口不再推薦使用。</code></li>
<li>新增：<code>/v2/private/position/leverage/save</code></li>
</ul></li>
<li><a href="#t-walletrecords">資金記錄</a> [新增]

<ul>
<li><code>/open-api/wallet/fund/records</code> <code>此接口不再推薦使用。</code></li>
<li>新增：<code>/v2/private/wallet/fund/records</code></li>
</ul></li>
<li><a href="#t-withdrawrecords">提幣記錄</a> [新增]

<ul>
<li><code>/open-api/wallet/withdraw/list</code> <code>此接口不再推薦使用。</code></li>
<li>新增：<code>/v2/private/wallet/withdraw/list</code></li>
</ul></li>
<li><a href="#t-changemargin">更新保證金</a> [新增]

<ul>
<li><code>/position/change-position-margin</code> <code>此接口不再推薦使用。</code></li>
<li>新增：<code>/v2/private/position/change-position-margin</code></li>
</ul></li>
<li><a href="#t-key">APIKey信息</a> [新增]

<ul>
<li><code>/open-api/api-key</code> <code>此接口不再推薦使用。</code></li>
<li>新增：<code>/v2/private/account/api-key</code></li>
</ul></li>
<li><a href="#t-tradingstop">設置止盈止損</a> [新增]

<ul>
<li><code>/open-api/position/trading-stop</code> <code>此接口不再推薦使用。</code></li>
<li>新增：<code>/v2/private/position/trading-stop</code></li>
</ul></li>
<li><a href="#t-fundingrate">查詢上個周期的資金費率</a> [新增]

<ul>
<li><code>/open-api/funding/prev-funding-rate</code> <code>此接口不再推薦使用。</code></li>
<li>新增：<code>/2/private/funding/prev-funding-rate</code></li>
</ul></li>
<li><a href="#t-mylastfundingfee">查詢上個周期資金費用結算信息</a> [新增]

<ul>
<li><code>/open-api/funding/prev-funding</code> <code>此接口不再推薦使用。</code></li>
<li>新增：<code>/v2/private/funding/prev-funding</code></li>
</ul></li>
<li><a href="#t-predictedfunding">查詢預測資金費率和資金費用</a> [新增]

<ul>
<li><code>/open-api/funding/predicted-funding</code> <code>此接口不再推薦使用。</code></li>
<li>新增：<code>/v2/private/funding/predicted-funding</code></li>
</ul></li>
</ul>
<h2 id='2020-12-17'>2020-12-17</h2><h3 id='rest-api-15'>REST API</h3>
<ul>
<li><a href="#t-querycond">實時查詢條件委托</a> [更新]

<ul>
<li>實時查詢支持返回多個未成交訂單數據</li>
</ul></li>
<li><a href="#t-queryactive">實時查詢活動委托</a> [更新]

<ul>
<li>實時查詢支持返回多個未成交訂單數據</li>
</ul></li>
</ul>
<h2 id='2020-11-20'>2020-11-20</h2><h3 id='rest-api-16'>REST API</h3>
<ul>
<li><a href="#t-getcond">查詢條件委托</a> [更新]

<ul>
<li>返回參數中新增字段<code>trigger_by</code></li>
</ul></li>
</ul>
<h2 id='2020-11-12'>2020-11-12</h2><h3 id='rest-api-17'>REST API</h3>
<ul>
<li><a href="#t-getactive">查詢活動委托</a> [更新]

<ul>
<li><code>order_status</code> 支持多狀態查詢，狀態之間用英文逗號分割。</li>
</ul></li>
<li><a href="#t-getcond">查詢條件委托</a> [更新]

<ul>
<li><code>stop_order_status</code> 支持多狀態查詢，狀態之間用英文逗號分割。</li>
</ul></li>
</ul>
<h2 id='2020-11-10'>2020-11-10</h2><h3 id='websocket-api-2'>Websocket API</h3><h4 id='t-restapi_update_20201111_2'>廢棄接口將於2020年11月30日徹底下線</h4>
<ul>
<li>Topic <a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/websocket.md#public-topic">orderBook25</a> [廢棄]

<ul>
<li>請使用新topic <a href="#t-websocketorderbook25">orderBook25檔</a> or <a href="#t-websocketorderbook200">orderBook200檔</a></li>
</ul></li>
<li>Topic <a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/websocket.md#public-topic">kline</a> [廢棄]

<ul>
<li>請使用新topic <a href="#t-websocketklinev2">K線</a></li>
</ul></li>
<li>Topic <a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/websocket.md#public-topic">instrument</a> [廢棄]

<ul>
<li>請使用新topic <a href="#t-websocketinstrumentinfo">行情</a></li>
</ul></li>
</ul>
<h3 id='rest-api-18'>REST API</h3><h4 id='t-restapi_update_20201111_1'>舊版API將在2020年12月10日進行廢棄處理。屆時舊版API的頻率限製將會降低到原有的1/2，並在12月17日徹底下線。</h4>
<ul>
<li><a href="#t-a_getactive">查詢活動委托</a> [廢棄]

<ul>
<li>請使用新接口 <a href="#t-getactive">查詢活動委托</a> [新增]</li>
</ul></li>
<li><a href="#t-a_getcond">查詢條件委托</a> [廢棄]

<ul>
<li>請使用新接口 <a href="#t-getcond">查詢條件委托</a> [新增]</li>
</ul></li>
<li><a href="#t-a_placecond">創建條件委托單</a> [廢棄]

<ul>
<li>請使用新接口 <a href="#t-placecond">創建條件委托單</a> [新增]</li>
</ul></li>
<li><a href="#t-a_cancelcond">撤消條件委托單</a> [廢棄]

<ul>
<li>請使用新接口 <a href="#t-cancelcond">撤消條件委托單</a> [新增]</li>
</ul></li>
<li><a href="#t-a_replacecond">修改條件委托單</a> [廢棄]

<ul>
<li>請使用新接口 <a href="#t-replacecond">修改條件委托單</a> [新增]</li>
</ul></li>
<li><a href="#t-a_replaceactive">修改活動單信息</a> [廢棄]

<ul>
<li>請使用新接口 <a href="#t-replaceactive">修改活動單信息</a> [新增]</li>
</ul></li>
<li><a href="#t-a_getleverage">用戶杠桿</a> [廢棄]

<ul>
<li>請使用新接口 <a href="#t-myposition">獲取持倉（實時）</a></li>
</ul></li>
<li><a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/rest_api.md#open-apiordercreatepost">/open-api/order/create</a> [廢棄]

<ul>
<li>請使用新接口 <a href="#t-placeactive">創建活動委托單</a></li>
</ul></li>
<li><a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/rest_api.md#open-apiordercancelpost">/open-api/order/cancel</a> [廢棄]

<ul>
<li>請使用新接口 <a href="#t-cancelactive">撤銷活動委托單</a></li>
</ul></li>
<li><a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/rest_api.md#positionlistget">/position/list</a> [廢棄]

<ul>
<li>請使用新接口 <a href="#t-myposition">獲取持倉（實時）</a></li>
</ul></li>
</ul>
<h2 id='2020-11-02'>2020-11-02</h2><h3 id='rest-api-19'>REST API</h3>
<ul>
<li><a href="#t-position">持倉</a> [更新]

<ul>
<li>參數<code>symbol</code>改為非必傳；如果不指定<code>symbol</code>則返回所有交易對的持倉信息</li>
</ul></li>
</ul>
<h2 id='2020-10-26'>2020-10-26</h2><h3 id='rest-api-20'>REST API</h3>
<ul>
<li><a href="#t-position">持倉</a> [更新]

<ul>
<li>返回參數中新增字段<code>is_isolated</code>，用於判斷當前倉位是否是逐倉模式</li>
</ul></li>
</ul>
<h2 id='2020-10-21'>2020-10-21</h2><h3 id='rest-api-21'>REST API</h3>
<ul>
<li><a href="#t-balance">獲取錢包余額</a> [更新]

<ul>
<li>修復<code>usdt</code> <code>given_cash</code>和<code>service_cash</code>總是為0的問題</li>
</ul></li>
<li><a href="#t-tradingstop">設置止盈止損</a> [更新]

<ul>
<li>支持根據價格類型設置止盈止損</li>
</ul></li>
</ul>
<h2 id='2020-10-12'>2020-10-12</h2><h3 id='rest-api-22'>REST API</h3>
<ul>
<li><a href="#t-getcond">查詢條件委托</a> [bugfix]

<ul>
<li>修復未返回<code>Deactivated</code>狀態條件單的問題</li>
</ul></li>
<li><a href="#t-queryactive">實時查詢活動委托</a> [bugfix]

<ul>
<li>修復已成交訂單<code>cum_exec_fee</code>字段錯誤的問題</li>
</ul></li>
</ul>
<h2 id='2020-09-27'>2020-09-27</h2><h3 id='rest-api-23'>REST API</h3>
<ul>
<li><a href="#t-replaceactive">修改活動單信息</a> [更新]

<ul>
<li>支持<code>order_link_id</code>修改訂單</li>
</ul></li>
<li><a href="#t-replacecond">修改條件委托單</a> [更新]

<ul>
<li>支持<code>order_link_id</code>修改訂單</li>
</ul></li>
</ul>
<h3 id='websocket-api-3'>Websocket API</h3>
<ul>
<li><a href="#t-websocket">新增Websocket域名</a> [更新]</li>
</ul>
<h2 id='2020-09-15'>2020-09-15</h2><h3 id='rest-api-24'>REST API</h3>
<ul>
<li><a href="#t-marketaccountratio">用戶多空持倉比率</a> [更新]

<ul>
<li>修復<a href="#t-marketaccountratio">用戶多空持倉比率</a>數據錯誤</li>
</ul></li>
<li><a href="#t-placecond">創建條件委托單</a> [更新]<br>

<ul>
<li>創建條件市價單時，返回字段<code>time_in_force</code>的值由<code>GoodTillCancel</code>修復為<code>ImmediateOrCancel</code>(<code>ImmediateOrCancel</code>是實際的執行策略)</li>
</ul></li>
</ul>
<h2 id='2020-08-19'>2020-08-19</h2><h3 id='rest-api-25'>REST API</h3>
<ul>
<li><a href="#t-marketopeninterest">未平合約持倉數量</a> [新增]</li>
<li><a href="#t-marketbigdeal">主動成交大額訂單</a> [新增]</li>
<li><a href="#t-marketaccountratio">用戶多空持倉比率</a> [新增]</li>
</ul>
<h2 id='2020-07-07'>2020-07-07</h2><h3 id='rest-api-26'>REST API</h3>
<ul>
<li><a href="#t-assetexchangerecords">資產兌換記錄</a> [新增]</li>
</ul>

<!--
##merge changelog of 2020-06-29 to 2020-07-07
-->

<ul>
<li><a href="#t-balance">獲取錢包余額</a> [更新]

<ul>
<li>更新請求參數 <code>coin</code> 如果不傳參數 返回所有錢包余額</li>
</ul></li>
<li><a href="#t-usertraderecords">用戶成交記錄</a> [更新]

<ul>
<li>返回值數量最大值從50調整到200</li>
</ul></li>
</ul>

<!--
## 2020-06-08
### REST API
- [資金費率](#t-marketfundingrate) [新增]
- [未平合約持倉數量](#t-marketopeninterest) [新增]
- [主動成交大額訂單](#t-marketbigdeal) [新增]
- [用戶多空持倉比率](#t-marketaccountratio) [新增]
- [精英賬戶多空持倉賬戶比](#t-marketeliteratio) [新增]
-->
<h2 id='2020-06-22'>2020-06-22</h2><h3 id='rest-api-27'>REST API</h3>
<ul>
<li><a href="#t-closedprofitandloss">平倉盈虧</a> [新增]</li>
<li><a href="#t-markpricekline">標記價格K線</a> [新增]</li>
</ul>
<h2 id='2020-05-21'>2020-05-21</h2><h3 id='rest-api-28'>REST API</h3>
<ul>
<li><a href="#t-query_liqrecords">查詢強平訂單數據</a> [新增]</li>
</ul>
<h2 id='2020-04-29'>2020-04-29</h2><h3 id='rest-api-29'>REST API</h3>
<ul>
<li><a href="#t-usertraderecords">用戶成交記錄</a> [更新]

<ul>
<li>新增請求參數<code>order</code></li>
</ul></li>
<li><a href="#t-key">APIKey信息</a> [bugfix]

<ul>
<li>修復某些情況下<code>inviter_id</code>總是為0的bug</li>
</ul></li>
</ul>
<h2 id='2020-04-27'>2020-04-27</h2><h3 id='rest-api-30'>REST API</h3>
<ul>
<li><a href="#t-lcp">流動性貢獻分</a> [新增]</li>
<li><a href="#t-latestsymbolinfo">合約最新信息</a> [更新]

<ul>
<li>默認返回值中增加<code>BTCUSDT</code></li>
</ul></li>
</ul>
<h2 id='2020-04-17'>2020-04-17</h2><h3 id='rest-api-31'>REST API</h3>
<ul>
<li><a href="#t-orderbook">Orderbook</a> [更新]

<ul>
<li>新增 <code>BTCUSDT</code> 至orderbook</li>
</ul></li>
<li><a href="#t-latestsymbolinfo">合約最新信息</a> [更新]

<ul>
<li>新增 <code>BTCUSDT</code> 至合約最新信息</li>
</ul></li>
<li><a href="#t-usertraderecords">用戶成交記錄</a> [更新]

<ul>
<li>新增 <code>trade_time_ms</code> 字段</li>
<li>更新請求參數 <code>start_time</code> 支持毫秒</li>
<li>廢棄返回參數 <code>trade_time</code></li>
</ul></li>
</ul>
<h2 id='2020-04-14'>2020-04-14</h2><h3 id='rest-api-32'>REST API</h3>
<ul>
<li><a href="#t-querysymbol">查詢合約信息</a> [更新]

<ul>
<li>更新 <code>BTCUSDT</code> 合約信息</li>
</ul></li>
</ul>
<h2 id='2020-03-31'>2020-03-31</h2><h3 id='rest-api-33'>REST API</h3>
<ul>
<li><a href="#t-balance">獲取錢包余額</a> [更新]

<ul>
<li>修復<code>USDT</code>資產不準確的bug</li>
</ul></li>
</ul>
<h2 id='2020-03-26'>2020-03-26</h2><h3 id='rest-api-34'>REST API</h3>
<ul>
<li><a href="#t-tradingstop">設置止盈止損</a> [更新]

<ul>
<li>針對追蹤止損訂單增加了觸發價格 <code>new_trailing_active</code>.</li>
</ul></li>
</ul>
<h2 id='2020-03-16'>2020-03-16</h2><h3 id='rest-api-35'>REST API</h3>
<ul>
<li><a href="#t-position">持倉</a> [更新]

<ul>
<li>返回新增字段<code>effective_leverage</code></li>
</ul></li>
<li><a href="#t-balance">獲取錢包余額</a> [更新]

<ul>
<li>修復<code>USDT</code>資產字段<code>equity</code>值總是為0的bug</li>
</ul></li>
</ul>
<h2 id='2020-03-09'>2020-03-09</h2><h3 id='rest-api-36'>REST API</h3>
<ul>
<li><a href="#t-usertraderecords">用戶成交記錄</a> [更新]

<ul>
<li>symbol是必填參數</li>
</ul></li>
<li><a href="#t-key">APIKey信息</a> [更新]

<ul>
<li>返回結果中新增 <code>inviter_id</code></li>
</ul></li>
</ul>
<h2 id='2020-03-02'>2020-03-02</h2><h3 id='websocket-api-4'>Websocket API</h3>
<ul>
<li><a href="#t-websockettrade">平臺成交</a> [更新]

<ul>
<li>增加毫秒成交時間 <code>trade_time_ms</code></li>
</ul></li>
</ul>
<h2 id='2020-02-26'>2020-02-26</h2><h3 id='rest-api-37'>REST API</h3>
<ul>
<li><a href="#t-placeactive">創建活動委托單</a>

<ul>
<li>下單接口的參數列表刪除 <code>trailing_stop</code> 字段. 這個字段目前是無效的.</li>
</ul></li>
</ul>
<h2 id='2020-02-10'>2020-02-10</h2><h3 id='rest-api-38'>REST API</h3>
<ul>
<li><a href="#t-balance">獲取錢包余額</a> [新增]</li>
<li><a href="#t-replaceactive">修改活動單信息</a> [更新]

<ul>
<li>返回結果中增加<code>order_id</code></li>
</ul></li>
<li><a href="#t-replacecond">修改條件委托單</a> [更新]

<ul>
<li>返回結果中增加 <code>stop_order_id</code></li>
<li>為了和其他接口保持統一，新增請求參數<code>stop_order_id</code>，替換調原來的參數 <code>order_id</code></li>
</ul></li>
<li>修復V2私有接口返回值中<code>rate_limit_reset_ms</code>單位問題，將原來的微妙改為毫秒，和V1接口保持一致 [bugfix]</li>
</ul>
<h2 id='2019-12-27'>2019-12-27</h2><h3 id='rest-api-39'>REST API</h3>
<ul>
<li><a href="#t-setrisklimit">設置風險限額</a> [新增]</li>
<li><a href="#t-getrisklimit">查詢風險限額表</a> [新增]</li>
</ul>
<h2 id='2019-12-18'>2019-12-18</h2><h3 id='rest-api-40'>REST API</h3>
<ul>
<li><a href="#t-myposition">獲取持倉（實時）</a> [新增]</li>
</ul>
<h3 id='websocket-api-5'>Websocket API</h3>
<ul>
<li><a href="#t-websocketorderbook200">orderBook200檔</a> [新增]</li>
</ul>
<h2 id='2019-12-13'>2019-12-13</h2><h3 id='rest-api-41'>REST API</h3>
<ul>
<li><a href="#t-querycond">實時查詢條件委托</a> [新增]</li>
</ul>
<h2 id='2019-12-02'>2019-12-02</h2><h3 id='rest-api-42'>REST API</h3>
<ul>
<li><a href="#t-placeactive">創建活動委托單</a> [新增]</li>
<li><a href="#t-cancelactive">撤銷活動委托單</a> [新增]</li>
<li><a href="#t-cancelallactive">撤銷所有活動委托單</a> [新增]</li>
<li><a href="#t-cancelallcond">撤消全部條件委托單</a> [新增]</li>
</ul>
<h2 id='2019-11-19'>2019-11-19</h2><h3 id='rest-api-43'>REST API</h3>
<ul>
<li><a href="#t-publictradingrecords">平臺交易歷史數據</a> [新增]</li>
</ul>
<h2 id='2019-11-07'>2019-11-07</h2><h3 id='rest-api-44'>REST API</h3>
<ul>
<li><a href="#t-setleverage">修改杠桿</a> [更新]</li>
<li>[我的持倉] [更新]</li>
<li><a href="#t-changemargin">更新保證金</a> [更新]</li>
<li><a href="#t-tradingstop">設置止盈止損</a> [更新]</li>
</ul>
<h2 id='2019-11-04'>2019-11-04</h2><h3 id='rest-api-45'>REST API</h3>
<ul>
<li><a href="#t-announcement">公告</a> [新增]</li>
<li><a href="#t-cancelactive">撤銷活動單</a> [更新]

<ul>
<li>支持根據<code>order_link_id</code>撤銷活動單</li>
</ul></li>
<li><a href="#t-cancelcond">撤消條件委托單</a> [更新]

<ul>
<li>支持根據<code>order_link_id</code>撤銷條件單</li>
</ul></li>
<li><a href="#t-key">APIKey信息</a> [更新]

<ul>
<li>添加額外字段</li>
<li>更新 <code>ips</code> 字段返回內容</li>
</ul></li>
<li><a href="#t-ratelimits">更新REST API頻率限製</a> [更新]

<ul>
<li>頻率限製精確到毫秒</li>
<li>細化接口的頻率限製</li>
<li>返回值中新增字段: <code>rate_limit_reset_ms</code>, <code>rate_limit</code>
</li>
</ul></li>
</ul>
<h3 id='websocket-api-6'>Websocket API</h3>
<ul>
<li><a href="#t-websocketklinev2">K線</a> [新增]</li>
<li><a href="#t-websocketstoporder">條件單</a> [新增]</li>
</ul>
<h2 id='2019-10-22'>2019-10-22</h2><h3 id='rest-api-46'>REST API</h3>
<ul>
<li><a href="#t-queryactive">實時查詢活動委托</a> [新增]</li>
</ul>
<h3 id='websocket-api-7'>Websocket API</h3>
<ul>
<li><a href="#t-websocketposition">持倉</a> [更新]

<ul>
<li>添加了額外字段，如<code>wallet_balance</code></li>
</ul></li>
<li><a href="#t-websockettrade">平臺成交</a> [更新]

<ul>
<li>修復重復推送交易數據的問題</li>
<li>現在支持在一個消息中推送多條交易</li>
</ul></li>
</ul>
<h1 id='t-faq'>FAQ</h1><h2 id='t-faq_reduce_only'><code>reduce_only</code> and <code>close_on_trigger</code> - what's the difference?</h2>
<p><ul>
<li>To close your position, specify <b><code>reduce_only</code> to <code>true</code></b>. <code>close_on_trigger</code> is not strictly applicable here, but you can also set it to <code>true</code> if it's required.</li>
<li><code>reduce_only</code> is the one that really matters for closing position, and we will improve the interface in the future.</li>
<li>Be careful when you specify <code>close_on_trigger</code> to <code>true</code> as it could cause conflict when <code>reduce_only</code> is <code>false</code>.</li>
</ul>
</p>
<h2 id='t-faq_website_orders'>Why aren't all my orders showing on the website?</h2>
<p><ul>
  <li>Users who have bots which place large numbers of laddered orders will be restricted by the frontend interface, which only shows a maximum of 50 orders on-screen.</li>
  <li>Don't worry, your orders are still in the system and can be queried by the API, but the frontend cannot show more than 50.</li>
</ul>
</p>
<h2 id='t-faq_calculating_order_size'>Calculating order size based on available wallet balance</h2>
<p><ul>
  <li><code>price * available_balance * leverage * perc * (1 - (0.00075 * 2))</code></li>
  <li>Unfortunately this is not a perfectly accurate formula; the real calculation is complex and may be published in the docs at a later date.</li>
  <ul>
    <li><code>price</code> - last price (or your entry price) - can be found with the <a href="#t-latestsymbolinfo">Latest Symbol Info endpoint</a>.</li>
    <li><code>available_balance</code> - can be found with the <a href="#t-myposition">My Position endpoint</a>.</li>
    <li><code>leverage</code> - up to the respective maximum leverage for the market and your risk limit (eg 2, 10, 50).</li>
    <li><code>perc</code> - 0.1 for 10%, 0.25 for 25%, etc.</li>
    <li><code>1 - (0.00075 * 2)</code> - used to calculate the maximum order cost (always assumes entry &amp; exit orders use taker fee regardless actual fee).</li>
  </ul>
</ul>
</p>
<h2 id='t-faq_exchange_assets'>Can I exchange assets with the API?</h2>
<p><ul>
  <li>There is no endpoint to exchange assets. This can only be done on the <a href="https://testnet.bybit.com/app/assets/assets-exchange">website</a>.</li>
  <li>However, it is possible to access your <a href="#t-assetexchangerecords">Asset Exchange Records</a> with the API.</li>
</ul>
</p>
<h2 id='t-faq_server_location'>Where are Bybit's servers located?</h2>
<p>AWS Singapore, <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-availability-zones">Availability Zone ID</a> apse1-az3.
</p>
<h2 id='t-faq_testnet_funds'>How do I get funds for testnet?</h2>
<p>To get testnet funds, please contact the website's customer support using the yellow support button <a href="https://testnet.bybit.com">shown in the bottom-right corner</a>.
</p>
<h2 id='t-faq_closed_pnl_price'>Why are my Closed PNL prices inaccurate?</h2>
<p><ul>
  <li>The <code>entry_price</code> and <code>exit_price</code> returned by Closed PNL endpoints are not the actual execution prices of the orders.
  <li>It is based on the total costs of the order
  <ul>
    <li>(whether or not the position was only opened/closed by one order executed at one price - it is more complicated if multiple orders opened/closed a position.)</li>
  </ul>
  <li>For instance, the <code>entry_price</code> and <code>exit_price</code> reported by this endpoint are influenced by the fee paid/received on the orders.</li>
</ul>
</p>
<h2 id='t-faq_float_precision'>Why are values returned to too many decimal places? (float precision issue)</h2>
<p><ul>
  <li>For example, you received <code>11.969999</code> but you expected <code>11.97</code>.
  <li>Some values are returned to too many decimal places, or a fraction too high or low, due to a float precision problem.</li>
  <li>For now, we recommend rounding the received value to the correct decimal place. This can be done with reference to the <a href="#t-querysymbol">Query Symbol</a> endpoint.</li>
  <li>This issue will be fixed in the next major version of the API; unfortunately, it is not fixable in the short-term.</li>
</ul>
</p>
<h2 id='t-faq_data_resilience'>How can I ensure I am using up-to-date data?</h2>
<p><ul>
  <li>It is possible, although unlikely, that the REST API or (even less likely) the websocket could return/push old data.</li>
  <li>For the greatest level of data resilience, we recommend clients to:
    <ul>
      <li>firstly, rely on the websocket, which will not only ensure you get the latest data as fast as possible, but will also ensure you get <i>complete</i> data</li>
      <li>secondly, query the REST API to fill in any discrepencies in data - or between websocket disconnections.</li>
    </ul>
  <li>The best practice is to save all of this data locally in your own database or cache.</li>
  <li>This frees up your rate limits for other requests and also ensures a level of redundancy against the exchange in case of data delays.</li>
</ul
</p>
<h1 id='t-authentication'>鑒權/認證</h1>
<aside class="notice">
請先生成<a href="https://testnet.bybit.com/app/user/api-management"><b>測試網</b></a> 或 <a href="https://www.bybit.com/app/user/api-management"<b>主網</b></a>API KEY。
</aside>

<aside class="notice">
REST接口根URL:
<ul>
<p>
  <li>測試網:<br/>
    <span id="testnet">https://api-testnet.bybit.com</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#testnet"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
</p>
<p>
  <li>主網(請根據您的網絡情況選擇以下任意一個地址使用):<br/>
    <span id="mainnet_1">https://api.bybit.com</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#mainnet_1"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
    <br/>
    <span id="mainnet_2">https://api.bytick.com</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#mainnet_2"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
</p>
</ul>

</aside>

<p><p>所有<b>private</b>接口都需要認證，<b>public</b> 接口不需要認證。</p></p>
<h2 id='t-authenticationparameters'>公共參數</h2>
<p>需要簽名的接口必須包含以下參數:
<ul>
  <li><b>api_key</b></li>
  <li><b>timestamp</b> - UTC<b>毫秒</b>時間戳</li>
  <li><b>sign</b> - 請求參數簽名</li>
</ul>
</p>

<p>另外我們提供可選的<code>recv_window</code>參數（單位是毫秒，默認值為<code>5000</code>），來指定請求在多長時間內有效，同時用來防止重放攻擊。
</p>

<aside class="warning">
註意，timestamp參數必須符合如下規則: <b>server_time - recv_window <= timestamp < server_time + 1000</b>，其中server_time是Bybit服務器時間，您可以通過<a href="#t-servertime">服務器時間接口</a>獲取。

</aside>
<h2 id='t-constructingtherequest'>構建請求</h2>
<blockquote>
<p>拼接參數示例（以修改槓桿率為例）：</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">param_str = "api_key=B2Rou0PLPpGqcU0Vu2&amp;leverage=100&amp;symbol=BTCUSD&amp;timestamp=1542434791747"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">param_str</span> <span class="o">=</span> <span class="s">"api_key=B2Rou0PLPpGqcU0Vu2&amp;leverage=100&amp;symbol=BTCUSD&amp;timestamp=1542434791747"</span>

<span class="c1"># api_key=B2Rou0PLPpGqcU0Vu2&amp;
# leverage=100&amp;
# symbol=BTCUSD&amp;
# timestamp=1542434791747
</span></code></pre></div>
<blockquote>
<p>參數按照 <b>字母順序</b> 排列，然後計算<code>sign</code>。</p>
</blockquote>

<p><p>1. 所有參數按照字母順序排序，然後按照<a href="https://en.wikipedia.org/wiki/Query_string">query string</a>格式拼接。</p>
<div></div></p>

<p><p>2. 使用<code>HMAC_SHA256</code>算法對第1步中拼接的query string簽名，並轉換為16進製字符串，得出<code>sign</code>參數。</p></p>

<blockquote>
<p><b>GET</b>請求格式（查詢賬號余額）:
</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/v2/private/order?symbol=BTCUSD&amp;api_key=B2Rou0PLPpGqcU0Vu2&amp;timestamp=1542434791000&amp;sign=670e3e4aa32b243f2dedf1dafcec2fd17a440e71b05681550416507de591d908</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-testnet.bybit.com</span>
</code></pre></div>
<blockquote>
<p><b>POST</b>請求格式（創建訂單）:
</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/v2/private/order/cancel</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-testnet.bybit.com</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B2Rou0PLPpGqcU0Vu2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1542434791000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"670e3e4aa32b243f2dedf1dafcec2fd17a440e71b05681550416507de591d908"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><p>3. 將<code>sign</code>參數加到請求參數中即可；註意<code>GET</code>和<code>POST</code>請求參數格式不同，詳見右邊示例。</p></p>

<aside class="notice">
<a href="https://github.com/bybit-exchange/api-usage-examples">簽名計算示例</a>.
</aside>

<!--
### Examples of the Signature Algorithm

* [C#](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.cs)
* [Python](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.py)
* [C++](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.cpp)
* [Go](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.go)
* [PHP](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.php)
-->

<script>
function copyStringToClipboard (endpoint) {
  var str = document.getElementById(endpoint).innerText;
  // remove whitespace
  var str = str.replace(/ /g,"");
  // Create new element
  var el = document.createElementranslation missing: zh-cn.textarea;
  // Set value (string to be copied)
  el.value = str;
  // Set non-editable to avoid focus and move outside of view
  el.setAttribute("readonly", "");
  el.style = {position: "absolute", left: "-9999px"};
  document.body.appendChild(el);
  // Select text inside element
  el.select();
  // Copy text to clipboard
  document.execCommand("copy");
  // Remove temporary element
  document.body.removeChild(el);
}
</script>
<h1 id='t-marketdata'>行情接口</h1>
<p>以下市場行情數據接口不需要驗權.</p>
<h3 id='t-orderbook'>Orderbook</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/orderBook/L2?symbol=BTCUSD
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Market</span><span class="p">.</span><span class="n">Market_orderbook</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">orderbook</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                              <span class="c1">// return code</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>                            <span class="c1">// error message</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>                             <span class="c1">// additional error code</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>                             <span class="c1">// additional error info</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                 <span class="c1">// symbol</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9487</span><span class="dl">"</span><span class="p">,</span>                    <span class="c1">// price</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">336241</span><span class="p">,</span>                     <span class="c1">// size (in USD contracts)</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span>                       <span class="c1">// side</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                 <span class="c1">// symbol</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9487.5</span><span class="dl">"</span><span class="p">,</span>                  <span class="c1">// price</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">522147</span><span class="p">,</span>                     <span class="c1">// size (in USD contracts)</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span>                      <span class="c1">// side</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1567108756.834357</span><span class="dl">"</span>             <span class="c1">// UTC timestamp</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取Bybit當前Orderbook信息. 每邊的深度為25</p>

<aside class="notice">
響應數據是當前時間的切片數據.
</aside>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpoL2>/v2/public/orderBook/L2</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoL2"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">string</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">integer</td>
<td>合約數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
</tbody></table>
<h3 id='t-querykline'>查詢K線數據</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/kline/list?symbol=BTCUSD&amp;interval=1&amp;limit=2&amp;from=1581231260
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Kline</span><span class="p">.</span><span class="n">Kline_get</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s">"m"</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s">'from'</span><span class="p">:</span><span class="mi">1581231260</span><span class="p">}).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">query_kline</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">interval</span><span class="o">=</span><span class="s">"m"</span><span class="p">,</span>
    <span class="n">from_time</span><span class="o">=</span><span class="mi">1581231260</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">interval</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">open_time</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1581231300</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112.5</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112.5</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">volume</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">75981</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">turnover</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7.51394369</span><span class="dl">"</span>
    <span class="p">},</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">interval</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">open_time</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1581231360</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112.5</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">volume</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">24616</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">turnover</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.4343353100000003</span><span class="dl">"</span>
    <span class="p">}],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1581928016.558522</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>查詢K線數據</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpkList>/v2/public/kline/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpkList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#kline-interval-interval">interval</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>數據更新頻率. 枚舉值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W"</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>起始時間戳（單位秒）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每頁數量, 最大200. 默認每頁200條</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">string</td>
<td>數據更新頻率. 枚舉值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W"</td>
</tr>
<tr>
<td style="text-align: left">open_time</td>
<td style="text-align: left">integer</td>
<td>開始時間</td>
</tr>
<tr>
<td style="text-align: left">open</td>
<td style="text-align: left">string</td>
<td>開始價格</td>
</tr>
<tr>
<td style="text-align: left">high</td>
<td style="text-align: left">string</td>
<td>最高價格</td>
</tr>
<tr>
<td style="text-align: left">low</td>
<td style="text-align: left">string</td>
<td>最低價格</td>
</tr>
<tr>
<td style="text-align: left">close</td>
<td style="text-align: left">string</td>
<td>結束價格</td>
</tr>
<tr>
<td style="text-align: left">volume</td>
<td style="text-align: left">string</td>
<td>交易量</td>
</tr>
<tr>
<td style="text-align: left">turnover</td>
<td style="text-align: left">string</td>
<td>成交金額</td>
</tr>
</tbody></table>
<h3 id='t-latestsymbolinfo'>合約最新信息</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/tickers
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Market</span><span class="p">.</span><span class="n">Market_symbolInfo</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">latest_information_for_symbol</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">bid_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7230</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ask_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7230.5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">last_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7230.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">last_tick_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ZeroMinusTick</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">prev_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7163.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_24h_pcnt</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.009353</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">high_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7267.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">low_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7067.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">prev_price_1h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7209.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_1h_pcnt</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.002843</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">mark_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7230.31</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">index_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7230.14</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open_interest</span><span class="dl">"</span><span class="p">:</span> <span class="mi">117860186</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">16157.26</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">total_turnover</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3412874.21</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">turnover_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10864.63</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">total_volume</span><span class="dl">"</span><span class="p">:</span> <span class="mi">28291403954</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">volume_24h</span><span class="dl">"</span><span class="p">:</span> <span class="mi">78053288</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0001</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">predicted_funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0001</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">next_funding_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-28T00:00:00Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">countdown_hour</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">delivery_fee_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">predicted_delivery_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">delivery_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSDM21</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">bid_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">67895</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ask_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">67895.5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">last_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">67895.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">last_tick_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ZeroPlusTick</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">prev_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">68073.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_24h_pcnt</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.002607</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">high_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">69286.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">low_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">66156.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">prev_price_1h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">68028.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_1h_pcnt</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.001955</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">mark_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">67883.88</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">index_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">62687.89</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open_interest</span><span class="dl">"</span><span class="p">:</span> <span class="mi">531821673</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">total_turnover</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">85713.36</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">turnover_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2371.47</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">total_volume</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5352251354</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">volume_24h</span><span class="dl">"</span><span class="p">:</span> <span class="mi">160716002</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">predicted_funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">next_funding_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">countdown_hour</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">delivery_fee_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0005</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">predicted_delivery_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">delivery_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2021-06-25T08:00:00Z</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577484619.817968</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取Bybit的最新合約信息</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpTickers>/v2/public/tickers</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpTickers"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">bid_price</td>
<td style="text-align: left">string</td>
<td>第一筆掛單買入價</td>
</tr>
<tr>
<td style="text-align: left">ask_price</td>
<td style="text-align: left">string</td>
<td>第一筆掛單賣出價</td>
</tr>
<tr>
<td style="text-align: left">last_price</td>
<td style="text-align: left">string</td>
<td>最新成交價</td>
</tr>
<tr>
<td style="text-align: left"><a href="#tick-direction-type-tick_direction">tick_direction</a></td>
<td style="text-align: left">string</td>
<td>價格變化方向</td>
</tr>
<tr>
<td style="text-align: left">prev_price_24h</td>
<td style="text-align: left">string</td>
<td>24小時前的整點市價</td>
</tr>
<tr>
<td style="text-align: left">price_24h_pcnt</td>
<td style="text-align: left">string</td>
<td>市價相對24h變化百分比</td>
</tr>
<tr>
<td style="text-align: left">high_price_24h</td>
<td style="text-align: left">string</td>
<td>最近 24 小時最高價</td>
</tr>
<tr>
<td style="text-align: left">low_price_24h</td>
<td style="text-align: left">string</td>
<td>最近 24 小時最低價</td>
</tr>
<tr>
<td style="text-align: left">prev_price_1h</td>
<td style="text-align: left">string</td>
<td>1小時前的整點市價</td>
</tr>
<tr>
<td style="text-align: left">price_1h_pcnt</td>
<td style="text-align: left">string</td>
<td>市價相對1小時前變化百分比</td>
</tr>
<tr>
<td style="text-align: left">mark_price</td>
<td style="text-align: left">string</td>
<td>標記價格</td>
</tr>
<tr>
<td style="text-align: left">index_price</td>
<td style="text-align: left">string</td>
<td>指數價格</td>
</tr>
<tr>
<td style="text-align: left">open_interest</td>
<td style="text-align: left">number</td>
<td>未平倉合約數量</td>
</tr>
<tr>
<td style="text-align: left">open_value</td>
<td style="text-align: left">string</td>
<td>未平倉價值</td>
</tr>
<tr>
<td style="text-align: left">total_turnover</td>
<td style="text-align: left">string</td>
<td>總營業額</td>
</tr>
<tr>
<td style="text-align: left">turnover_24h</td>
<td style="text-align: left">string</td>
<td>24小時營業額</td>
</tr>
<tr>
<td style="text-align: left">total_volume</td>
<td style="text-align: left">number</td>
<td>總交易量</td>
</tr>
<tr>
<td style="text-align: left">volume_24h</td>
<td style="text-align: left">number</td>
<td>最近 24 小時成交量</td>
</tr>
<tr>
<td style="text-align: left">funding_rate</td>
<td style="text-align: left">string</td>
<td>資金費率</td>
</tr>
<tr>
<td style="text-align: left">predicted_funding_rate</td>
<td style="text-align: left">string</td>
<td>預測資金費率</td>
</tr>
<tr>
<td style="text-align: left">next_funding_time</td>
<td style="text-align: left">string</td>
<td>下次結算資金費用時間</td>
</tr>
<tr>
<td style="text-align: left">countdown_hour</td>
<td style="text-align: left">number</td>
<td>結算資金費用剩余時間</td>
</tr>
<tr>
<td style="text-align: left">delivery_fee_rate</td>
<td style="text-align: left">string</td>
<td>交割費率，僅交割合約有效</td>
</tr>
<tr>
<td style="text-align: left">predicted_delivery_price</td>
<td style="text-align: left">string</td>
<td>預期交割價，僅交割合約有效</td>
</tr>
<tr>
<td style="text-align: left">delivery_time</td>
<td style="text-align: left">string</td>
<td>交割時間，僅交割合約有效</td>
</tr>
</tbody></table>
<h3 id='t-publictradingrecords'>平臺交易歷史數據</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/trading-records?symbol=BTCUSD
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Market</span><span class="p">.</span><span class="n">Market_tradingRecords</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">public_trading_records</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                                   <span class="c1">// error code 0 means success</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>                                 <span class="c1">// error message</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7724919</span><span class="p">,</span>                                   <span class="c1">// ID</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                             <span class="c1">// contract type</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">9499.5</span><span class="p">,</span>                                <span class="c1">// execution price</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9500</span><span class="p">,</span>                                    <span class="c1">// execution quantity</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>                                  <span class="c1">// side</span>
            <span class="dl">"</span><span class="s2">time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-19T08:03:04.077Z</span><span class="dl">"</span>              <span class="c1">// UTC time</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1567109419.049271</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取Bybit的最近成交數據。如果您想獲取歷史所有的成交記錄，請通過<a href="https://public.bybit.com">這裏</a>下載歷史行情。</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpTradingRecords>/v2/public/trading-records</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpTradingRecords"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>默認返回500條數據. 最大返回1000條數據</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>最新數據ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>交易價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>交易數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">string</td>
<td>UTC 時間</td>
</tr>
</tbody></table>
<h3 id='t-querysymbol'>查詢合約信息</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/symbols
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Symbol</span><span class="p">.</span><span class="n">Symbol_get</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">query_symbol</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">alias</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Trading</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">quote_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_scale</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">taker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.00075</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">-0.00025</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">funding_interval</span><span class="dl">"</span><span class="p">:</span><span class="mi">480</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leverage_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage_step</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.01</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">price_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">999999.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tick_size</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">lot_size_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">max_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">min_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty_step</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EOSUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">alias</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EOSUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Trading</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EOS</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">quote_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_scale</span><span class="dl">"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">taker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.00075</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">-0.00025</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">funding_interval</span><span class="dl">"</span><span class="p">:</span><span class="mi">480</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leverage_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage_step</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.01</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">price_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.001</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1999.999</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tick_size</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.001</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">lot_size_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">max_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">min_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty_step</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSDT</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">alias</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSDT</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Trading</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">quote_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">USDT</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_scale</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">taker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.00075</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">-0.00025</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">funding_interval</span><span class="dl">"</span><span class="p">:</span><span class="mi">480</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leverage_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage_step</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.01</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">price_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">999999.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tick_size</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">lot_size_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">max_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">min_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.001</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty_step</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.001</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSDM21</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">alias</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD0625</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Trading</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">quote_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_scale</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">taker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.00075</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">-0.00025</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">funding_interval</span><span class="dl">"</span><span class="p">:</span><span class="mi">480</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leverage_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage_step</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.01</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">price_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">999999.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tick_size</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">lot_size_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">max_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">min_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty_step</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1615801223.589808</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取合約信息.</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpSymbols>/v2/public/symbols</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpSymbols"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">string</td>
<td>合約名稱</td>
</tr>
<tr>
<td style="text-align: left">alias</td>
<td style="text-align: left">string</td>
<td>合約名稱</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">string</td>
<td><a href="#contract-status-status">合約狀態</a></td>
</tr>
<tr>
<td style="text-align: left">base_currency</td>
<td style="text-align: left">string</td>
<td>基礎貨幣</td>
</tr>
<tr>
<td style="text-align: left">quote_currency</td>
<td style="text-align: left">string</td>
<td>報價貨幣</td>
</tr>
<tr>
<td style="text-align: left">price_scale</td>
<td style="text-align: left">number</td>
<td>價格範圍</td>
</tr>
<tr>
<td style="text-align: left">taker_fee</td>
<td style="text-align: left">string</td>
<td>taker 手續費</td>
</tr>
<tr>
<td style="text-align: left">maker_fee</td>
<td style="text-align: left">string</td>
<td>maker 手續費</td>
</tr>
<tr>
<td style="text-align: left">min_leverage</td>
<td style="text-align: left">number</td>
<td>最小杠桿數</td>
</tr>
<tr>
<td style="text-align: left">max_leverage</td>
<td style="text-align: left">number</td>
<td>最大杠桿數 (假設在最低風險限額設置時候的最大槓桿數)</td>
</tr>
<tr>
<td style="text-align: left">leverage_step</td>
<td style="text-align: left">string</td>
<td>杠桿最小增加或減少數量</td>
</tr>
<tr>
<td style="text-align: left">min_price</td>
<td style="text-align: left">string</td>
<td>最小價格</td>
</tr>
<tr>
<td style="text-align: left">max_price</td>
<td style="text-align: left">string</td>
<td>最大價格</td>
</tr>
<tr>
<td style="text-align: left">tick_size</td>
<td style="text-align: left">string</td>
<td>價格最小增加或減少數量</td>
</tr>
<tr>
<td style="text-align: left">max_trading_qty</td>
<td style="text-align: left">number</td>
<td>最大交易數量</td>
</tr>
<tr>
<td style="text-align: left">min_trading_qty</td>
<td style="text-align: left">number</td>
<td>最小交易數量</td>
</tr>
<tr>
<td style="text-align: left">qty_step</td>
<td style="text-align: left">number</td>
<td>合約數量最小單位</td>
</tr>
<tr>
<td style="text-align: left">funding_interval</td>
<td style="text-align: left">number</td>
<td>資金費用結算週期</td>
</tr>
</tbody></table>
<h3 id='t-markpricekline'>標記價格K線</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/public/mark-price-kline?symbol=BTCUSD&amp;interval=1&amp;limit=2&amp;from=1581231260"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Kline</span><span class="p">.</span><span class="n">Kline_markPrice</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s">"30"</span><span class="p">,</span><span class="n">limit</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s">'from'</span><span class="p">:</span><span class="mi">1600544880</span><span class="p">}).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">query_mark_price_kline</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">interval</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">from_time</span><span class="o">=</span><span class="mi">1600544880</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">period</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">start_at</span><span class="dl">"</span><span class="p">:</span><span class="mi">1582231260</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span><span class="mi">88</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span><span class="mi">115</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1591263582.601795</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>查詢標記價格K線</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=plmpk>/v2/public/mark-price-kline</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#plmpk"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#kline-interval-interval">interval</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>數據更新頻率. 枚舉值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W"</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>起始時間戳（單位秒）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>最大200. 默認每頁200條</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">string</td>
<td>數據記錄周期. 5min 15min 30min 1h 4h 1d</td>
</tr>
<tr>
<td style="text-align: left">start_at</td>
<td style="text-align: left">integer</td>
<td>開始時間戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">open</td>
<td style="text-align: left">integer</td>
<td>開始價格</td>
</tr>
<tr>
<td style="text-align: left">high</td>
<td style="text-align: left">integer</td>
<td>最高價格</td>
</tr>
<tr>
<td style="text-align: left">low</td>
<td style="text-align: left">integer</td>
<td>最低價格</td>
</tr>
<tr>
<td style="text-align: left">close</td>
<td style="text-align: left">integer</td>
<td>結束價格</td>
</tr>
</tbody></table>
<h3 id='t-queryindexpricekline'>查詢指數價格K線數據</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/public/index-price-kline?symbol=BTCUSD&amp;interval=1&amp;limit=2&amp;from=1581231260"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Kline</span><span class="p">.</span><span class="n">Kline_indexPrice</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s">"1"</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s">'from'</span><span class="p">:</span><span class="mi">1615067084</span><span class="p">}).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">query_index_price_kline</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">interval</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">from_time</span><span class="o">=</span><span class="mi">1600544880</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">period</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open_time</span><span class="dl">"</span><span class="p">:</span><span class="mi">1582231260</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">10106.09</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">10108.75</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">10104.66</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">10108.73</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1591263582.601795</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>指數價格K線</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=v2pIndexPriceKline>/v2/public/index-price-kline</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#v2pIndexPriceKline"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#kline-interval-interval">interval</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>數據更新頻率. 枚舉值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W"</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>起始時間戳（單位秒）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>最大200. 默認每頁200條</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">string</td>
<td>數據記錄周期. 5min 15min 30min 1h 4h 1d</td>
</tr>
<tr>
<td style="text-align: left">open_time</td>
<td style="text-align: left">integer</td>
<td>開始時間戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">open</td>
<td style="text-align: left">string</td>
<td>開始價格</td>
</tr>
<tr>
<td style="text-align: left">high</td>
<td style="text-align: left">string</td>
<td>最高價格</td>
</tr>
<tr>
<td style="text-align: left">low</td>
<td style="text-align: left">string</td>
<td>最低價格</td>
</tr>
<tr>
<td style="text-align: left">close</td>
<td style="text-align: left">string</td>
<td>結束價格</td>
</tr>
</tbody></table>
<h3 id='t-querypremiumindexkline'>查詢溢價K線數據</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/public/premium-index-kline?symbol=BTCUSD&amp;interval=1&amp;limit=2&amp;from=1581231260"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Kline</span><span class="p">.</span><span class="n">Kline_premiumIndexPrice</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s">"1"</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s">'from'</span><span class="p">:</span><span class="mi">1615067084</span><span class="p">}).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">query_premium_index_kline</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">interval</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">from_time</span><span class="o">=</span><span class="mi">1600544880</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">period</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open_time</span><span class="dl">"</span><span class="p">:</span><span class="mi">1582231260</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.000588</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.000618</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.000588</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.000618</span><span class="dl">"</span>
        <span class="p">}</span>
  <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1591263582.601795</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>溢價K線</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpPremiumIndexKline>/v2/public/premium-index-kline</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpPremiumIndexKline"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#kline-interval-interval">interval</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>數據更新頻率. 枚舉值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W"</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>起始時間戳（單位秒）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>最大200. 默認每頁200條</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">string</td>
<td>數據記錄周期. 5min 15min 30min 1h 4h 1d</td>
</tr>
<tr>
<td style="text-align: left">open_time</td>
<td style="text-align: left">integer</td>
<td>開始時間戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">open</td>
<td style="text-align: left">string</td>
<td>開始價格</td>
</tr>
<tr>
<td style="text-align: left">high</td>
<td style="text-align: left">string</td>
<td>最高價格</td>
</tr>
<tr>
<td style="text-align: left">low</td>
<td style="text-align: left">string</td>
<td>最低價格</td>
</tr>
<tr>
<td style="text-align: left">close</td>
<td style="text-align: left">string</td>
<td>結束價格</td>
</tr>
</tbody></table>
<h2 id='t-advanceddata'>平臺進階數據</h2><h3 id='t-marketopeninterest'>未平合約持倉數量</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/open-interest?symbol=BTCUSD&amp;period=5min
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Market</span><span class="p">.</span><span class="n">Market_openInterest</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="s">"5min"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">open_interest</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">period</span><span class="o">=</span><span class="s">"5min"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">open_interest</span><span class="dl">"</span><span class="p">:</span><span class="mi">371491978</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597658100</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">open_interest</span><span class="dl">"</span><span class="p">:</span><span class="mi">370696076</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597657800</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1597658304.938839</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取Bybit各個合約的持倉數量</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpMarketOpenInterest>/v2/public/open-interest</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpMarketOpenInterest"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>數據記錄周期. 5min 15min 30min 1h 4h 1d</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>返回數據最大200條. 默認返回50條</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">open_interest</td>
<td style="text-align: left">number</td>
<td>未平倉合約數量</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">number</td>
<td>時間戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>
<h3 id='t-marketbigdeal'>主動成交大額訂單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/big-deal?symbol=BTCUSD
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Market</span><span class="p">.</span><span class="n">Market_bigDeal</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">latest_big_deal</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">2</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597623362</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">:</span><span class="mi">1242368</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597623363</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">:</span><span class="mi">1242368</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1597658434.219859</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取Bybit主動成交大於500000USD的訂單，時間範圍是最近24h內。</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpMarketBigDeal>/v2/public/big-deal</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpMarketBigDeal"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>返回數據最大1000條. 默認返回500條</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">number</td>
<td>時間戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">value</td>
<td style="text-align: left">number</td>
<td>訂單價值</td>
</tr>
</tbody></table>
<h3 id='t-marketaccountratio'>用戶多空持倉比率</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/account-ratio?symbol=BTCUSD&amp;period=5min
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Market</span><span class="p">.</span><span class="n">Market_accountRatio</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">period</span><span class="o">=</span><span class="s">"5min"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">long_short_ratio</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">period</span><span class="o">=</span><span class="s">"5min"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">buy_ratio</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.6538</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">sell_ratio</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.3462</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597659000</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">buy_ratio</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.6533</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">sell_ratio</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.3467</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597658700</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1597659230.743313</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取Bybit平臺用戶多空持倉比率</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpMarketAccountRatio>/v2/public/account-ratio</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpMarketAccountRatio"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>數據記錄周期. 5min 15min 30min 1h 4h 1d</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>返回數據最大500條. 默認返回50條</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">buy_ratio</td>
<td style="text-align: left">number</td>
<td>多倉人數占比</td>
</tr>
<tr>
<td style="text-align: left">sell_ratio</td>
<td style="text-align: left">number</td>
<td>空倉人數占比</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">number</td>
<td>時間戳（秒）</td>
</tr>
</tbody></table>

<!--
### 資金費率
> 請求示例

```console
curl https://api-testnet.bybit.com/v2/public/funding-rate?symbol=BTCUSD&limit=100
```
```javascript
{
    "ret_code":0,
    "ret_msg":"OK",
    "ext_code":"",
    "ext_info":"",
    "result":[
        {
            "symbol":"BTCUSD",
            "funding_rate":0.00375,
            "timestamp":1590998277
                }
    ],
    "time_now":"1590068362.493540"
}
```

獲取Bybit近一個月的資金費率。

<p class="fake_header">HTTP 請求</p>
GET
<code><span id=vpMarketFundingRate>/v2/public/funding-rate</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpMarketFundingRate"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>

<p class="fake_header">請求參數</p>
|參數|是否必須|類型|說明|
|:----- |:-------|:-----|----- |
|<a href="#symbol-symbol">symbol</a> |<b>true</b> |string |合約類型 |
|limit |false |int |返回數據最大100條. 默認返回50條|


### 精英賬戶多空持倉賬戶比
> 請求示例

```console
curl https://api-testnet.bybit.com/v2/public/elite-ratio?symbol=BTCUSD&period=5min
```

> 響應示例

```javascript
{
    "ret_code":0,
    "ret_msg":"OK",
    "ext_code":"",
    "ext_info":"",
    "result":[
        {
            "symbol":"BTCUSD",
            "buy_ratio":0.4288,
            "sell_ratio":0.5712,
            "timestamp":1591165240
        },
        {
            "symbol":"XRPUSD",
            "buy_ratio":0.3288,
            "sell_ratio":0.6712,
            "timestamp":1591165240
        }
    ],
    "time_now":"1591597368.673697"
}
```

獲取Bybit精英賬戶多空持倉賬戶比

<p class="fake_header">HTTP 請求</p>
GET
<code><span id=vpMarketEliteRatio>/v2/public/elite-ratio</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpMarketEliteRatio"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>

<p class="fake_header">請求參數</p>
|參數|是否必須|類型|說明|
|:----- |:-------|:-----|----- |
|<a href="#symbol-symbol">symbol</a> |<b>true</b> |string |合約類型 |
|period |<b>true</b> |string |數據記錄周期. 5min 15min 30min 1h 4h 1d|
-->
<h1 id='t-accountdata'>賬戶/交易接口</h1>
<p>以下賬戶/交易接口都需要鑒權.</p>
<h2 id='t-activeorders'>活動單</h2><h3 id='t-placeactive'>創建活動委托單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/order/create \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","side":"Buy","symbol":"BTCUSD","order_type":"Market","qty":10,"time_in_force":"GoodTillCancel","timestamp":{timestamp},"sign":"{sign}"}'

</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_new</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s">"Buy"</span><span class="p">,</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span><span class="n">order_type</span><span class="o">=</span><span class="s">"Market"</span><span class="p">,</span><span class="n">qty</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">time_in_force</span><span class="o">=</span><span class="s">"GoodTillCancel"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">place_active_order</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">side</span><span class="o">=</span><span class="s">"Buy"</span><span class="p">,</span>
    <span class="n">order_type</span><span class="o">=</span><span class="s">"Market"</span><span class="p">,</span>
    <span class="n">qty</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">time_in_force</span><span class="o">=</span><span class="s">"GoodTillCancel"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">335fd977-e5a5-4781-b6d0-c772d5bfb95b</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8800</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Created</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T11:03:43.452Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T11:03:43.455Z</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1575111823.458705</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p><p>市價活動委托: 一個傳統的市場價格訂單,會以當前的最優價格為您成交訂單。當且僅當選擇市價單時，<code>price</code>可為空！<b>為了保護市價單遭遇嚴重的滑點，Bybit將市價單轉為限價單進入撮合，買單價格高於最優賣價，賣單價格低於最優買價。限價價格和成交價格均可通過用戶成交記錄接口查詢。</b></p>
<p>限價活動委托: 您可以為您的訂單設置一個執行價格，當市場價格達到您的設置價格時，系統會為您成交訂單。</p>
<p><b>止盈止損: 您僅能在開倉時設置止盈止損條件單，一旦持有倉位後提交活動委托時關聯的止盈止損則不會生效。</b></p>
<p>委托數量: 表示您要購買/賣出的永續合約數，對於委托數量目前Bybit只允許提交正整數。</p>
<p>委托價格: 如果是下<b>限價單</b>，該參數為<b>必填</b>. 在沒有倉位時，做多的委托價格需高於市價的10%、低於1百萬。如有倉位時則需優於強平價。價格增減最小單位請參考<a href="#t-querysymbol">交易對接口</a>響應中的<b>price_filter</b>字段。</p>
<p>自定義條件單ID: 您可以自定義活動委托訂單ID，我們會為您關聯到系統的訂單ID，並把系統的唯一訂單ID在活動委托創建成功後一並返回給您，您可以使用該訂單ID去取消活動委托，同時要求您傳遞的自定義訂單ID<code>最大長度不超過36個字段且唯一</code>。</p>
<p><b>每個賬戶最多可同時持有500個活動訂單。這是針對合約的，因此可以允許出現例如：賬戶同時持有300個BTCUSD的活動單、280個ETHUSD合約的活動單。</b></p>
<p><b>當您達到訂單上限的時候的時候，仍然可以下單設置了參數<code>reduce_only</code> 或 <code>closeOnTrigger</code>的訂單。</b></p>
</p>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=vpoCreate>/v2/private/order/create</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoCreate"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=zh5 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>委托數量(1個委托1美元)，只能為正整數</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">false</td>
<td style="text-align: left">bool</td>
<td>觸發後平倉. 如果下平倉單，請設置為<code>true</code>，避免因為保證金不足而導致下單失敗</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID, 最大長度36位，且同一機構下自定義ID不可重復</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>止盈價格，僅開倉時生效</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>止損價格，僅開倉時生效</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left">reduce_only</td>
<td style="text-align: left">false</td>
<td style="text-align: left">bool</td>
<td>只減倉</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易記錄類型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left">time_in_force</td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left">last_exec_time</td>
<td style="text-align: left">string</td>
<td>最近一次成交時間</td>
</tr>
<tr>
<td style="text-align: left">last_exec_price</td>
<td style="text-align: left">string</td>
<td>最近一次成交價格</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累計成交數量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">number</td>
<td>累計成交價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">number</td>
<td>累計成交手續費</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒單的原因</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">number</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">number</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
</tbody></table>
<h3 id='t-getactive'>查詢活動委托</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/order/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}&amp;symbol=BTCUSD"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_getOrders</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span><span class="n">order_status</span><span class="o">=</span><span class="s">"New"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">get_active_order</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">order_status</span><span class="o">=</span><span class="s">"New"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">160861</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Cancelled</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9800</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">16737</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ImmediateOrCancel</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">fead08d7-47c0-4d6a-b9e7-5c71d5df8ba1</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-07-24T08:22:30Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-07-24T08:22:30Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EC_NoImmediateQtyToFill</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="dl">"</span><span class="s2">cursor</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">w01XFyyZc8lhtCLl6NgAaYBRfsN9Qtpp1f2AUy3AS4+fFDzNSlVKa0od8DKCqgAn</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1604653633.173848</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1604653633171</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre></div>
<p><p>獲取我的活動委托單列表。</p>
<p>創建/取消訂單是異步的，因此<b>該接口可能返回的數據可能會有延遲</b>。如果要獲取訂單的實時信息，可以調用接口<a href="#t-queryactive">實時查詢活動單信息</a>.</p>
</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpoList>/v2/private/order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>指定訂單狀態查詢訂單列表。不傳該參數則默認查詢所有狀態訂單。該參數支持多狀態查詢，狀態之間用英文逗號分割。</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>搜索方向：<code>prev</code>:上一頁,<code>next</code>:下一頁,默認為 <code>next</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每頁數量, 最大50. 默認每頁20條</td>
</tr>
<tr>
<td style="text-align: left">cursor</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>翻頁標記,請使用返回的cursor,簽名時使用返回的原始數據，發送request時請進行urlencode</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">integer</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易記錄類型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">string</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">string</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left">time_in_force</td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">string</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">string</td>
<td>剩余掛單數量對應的預估價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">string</td>
<td>累計成交數量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">string</td>
<td>累計成交價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">string</td>
<td>累計成交手續費</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒單的原因</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">number</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">number</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left">cursor</td>
<td style="text-align: left">string</td>
<td>翻頁標記</td>
</tr>
</tbody></table>
<h3 id='t-cancelactive'>撤銷活動委托單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/order/cancel \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_cancel</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">cancel_active_order</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">order_id</span><span class="o">=</span><span class="s">"3bd1844f-f3c0-4e10-8c25-10fea03763f6"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3bd1844f-f3c0-4e10-8c25-10fea03763f6</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8800</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">New</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T11:17:18.396Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T11:18:01.811Z</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1575112681.814760</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p><p>所有撤銷活動委托都必須填寫<code>order_id</code>或<code>order_link_id</code>。 <code>order_id</code> - 當您成功創建了活動委托時會為您返回36位唯一的訂單ID。</p>
<p>您可以撤銷未成交、部分成交的活動委托單。但全部成交的活動委托不可取消。</p>
</p>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=vpoCancel>/v2/private/order/cancel</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoCancel"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>訂單ID。如果未填order_link_id則為<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構ID。如果未填order_id則為<b>必填</b>字段。</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易記錄類型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left">last_exec_time</td>
<td style="text-align: left">string</td>
<td>最近一次成交時間</td>
</tr>
<tr>
<td style="text-align: left">last_exec_price</td>
<td style="text-align: left">string</td>
<td>最近一次成交價格</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累計成交數量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">number</td>
<td>累計成交價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">number</td>
<td>累計成交手續費</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒單的原因</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">number</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">number</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
</tbody></table>
<h3 id='t-cancelallactive'>撤銷所有活動委托單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/order/cancelAll \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_cancelAll</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">cancel_all_active_orders</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>      
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>    
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>     
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">clOrdID</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">89a38056-80f1-45b2-89d3-4d8e3a203a79</span><span class="dl">"</span><span class="p">,</span>  
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                                  
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                                
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>                                      
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>                              
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7693.5</span><span class="dl">"</span><span class="p">,</span>                                  
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                                           
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>                  
            <span class="dl">"</span><span class="s2">create_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreateByUser</span><span class="dl">"</span><span class="p">,</span>                     
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelByUser</span><span class="dl">"</span><span class="p">,</span>                      
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>                                 
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                                    
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>                                
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T10:38:53.564428Z</span><span class="dl">"</span><span class="p">,</span>        
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T10:38:59.102589Z</span><span class="dl">"</span><span class="p">,</span>        
            <span class="dl">"</span><span class="s2">cross_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PendingCancel</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">// `PendingCancel` means the matching engine received the cancellation but there is no guarantee that the cancellation will be successful.</span>
            <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">387734027</span>                              
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1575110339.105675</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p><p>撤銷所有未成交、部分成交的活動委托單。但全部成交的活動委托不可取消。</p>
</p>

<aside class="notice">
註意，此api每調用一次會導致<code>rate_limit</code>扣減10
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=vpoCancelAll>/v2/private/order/cancelAll</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoCancelAll"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">clOrdID</td>
<td style="text-align: left">string</td>
<td>uuid類型的唯一訂單號</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易記錄類型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">create_type</td>
<td style="text-align: left">string</td>
<td>下單操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left">cancel_type</td>
<td style="text-align: left">string</td>
<td>取消操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余掛單數量對應的預估價值</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">cross_status</td>
<td style="text-align: left">string</td>
<td>取消操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本號</td>
</tr>
</tbody></table>
<h3 id='t-replaceactive'>修改活動單信息</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/order/replace \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_replace</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">replace_active_order</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">order_id</span><span class="o">=</span><span class="s">"efa44157-c355-4a98-b6d6-1d846a936b93"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>    <span class="c1">//Error code,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">//Error message,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">efa44157-c355-4a98-b6d6-1d846a936b93</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1539778407.210858</span><span class="dl">"</span><span class="p">,</span>    <span class="c1">// UTC timestamp</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span> <span class="c1">// The remaining number of accesses in one minute</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>             
<span class="p">}</span>
</code></pre></div>
<p><p>本接口可以修改您的活動單信息.</p>
</p>

<aside class="notice">
請註意，只有未成交或未完全成交的訂單才可以被修改。
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=vpoReplace>/v2/private/order/replace</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoReplace"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>訂單ID。如果未填order_link_id則為<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構ID。如果未填order_id則為<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型.</td>
</tr>
<tr>
<td style="text-align: left">p_r_qty</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>修改後的訂單數量。如果是未完全成交訂單，則表示修改剩余未成交的部分。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left">p_r_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>修改後的訂單價格。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>修改後的止盈價格。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>修改後的止損價格。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
</tbody></table>
<h3 id='t-queryactive'>實時查詢活動委托</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/order?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}order_id={order_id}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_query</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">query_active_order</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">order_id</span><span class="o">=</span><span class="s">"e66b101a-ef3f-4647-83b5-28e0f38dcae0"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">106958</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">11756.5</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PostOnly</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Filled</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">o_req_num</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">68948112492</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">xreq_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">x_create</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1596304897.847944</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">11756.5</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00008505</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000002</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-08-01T18:00:26Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-08-01T18:01:37Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">e66b101a-ef3f-4647-83b5-28e0f38dcae0</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1597171013.867068</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1597171013861</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>

<span class="c1">//當只傳參數<code>symbol</code>的時候，返回結構如下：</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100228</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">17740</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">New</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="dl">"</span><span class="s2">o_req_num</span><span class="dl">"</span><span class="p">:</span> <span class="mi">434743</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">xreq_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">x_create</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1608193181.827761</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00056369</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00008505</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000002</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EC_NoError</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UNKNOWN</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:19:41.827637283Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:19:41.827761Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">d570d931-771e-4911-a24e-cdeddedb5b0e</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">...</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100228</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">17740</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">New</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="dl">"</span><span class="s2">o_req_num</span><span class="dl">"</span><span class="p">:</span> <span class="mi">434728</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">xreq_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">x_create</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1608193178.955412</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00056369</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00008505</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000002</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EC_NoError</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UNKNOWN</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:19:38.955297869Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:19:38.955412Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">88b91101-7ac1-40af-90b8-72d53fe23622</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1608193190.911073</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1608193190909</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>

</code></pre></div>
<p>實時查詢活動委托。當傳遞參數<code>order_id</code>或<code>order_link_id</code>其中任意一個時，將返回單條訂單數據，如果參數<code>order_id</code>和<code>order_link_id</code>都不傳遞時，將返回所有<b>未成交</b>的訂單，最多500條。</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpOrder>/v2/private/order</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpOrder"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易記錄類型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left">time_in_force</td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left">ext_fields</td>
<td style="text-align: left">json</td>
<td>擴展字段</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余掛單數量對應的預估價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累計成交數量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">number</td>
<td>累計成交價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">order_link_id</td>
<td>string</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒單的原因</td>
</tr>
<tr>
<td style="text-align: left">cancel_type</td>
<td style="text-align: left">string</td>
<td>取消操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">number</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">number</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
</tbody></table>
<h2 id='t-conditionalorders'>條件單</h2><h3 id='t-placecond'>創建條件委托單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/stop-order/create \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","order_type":"Limit","side":"Buy","symbol":"BTCUSD","qty":1,"price":8100,"base_price":8300,"stop_px":8150,"time_in_force":"GoodTillCancel","order_link_id":"cus_order_id_1","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_new</span><span class="p">(</span><span class="n">order_type</span><span class="o">=</span><span class="s">"Limit"</span><span class="p">,</span><span class="n">side</span><span class="o">=</span><span class="s">"Buy"</span><span class="p">,</span><span class="n">symbol</span><span class="o">=</span><span class="s">"XRPUSD"</span><span class="p">,</span><span class="n">qty</span><span class="o">=</span><span class="s">"1"</span><span class="p">,</span><span class="n">price</span><span class="o">=</span><span class="s">"0.2569"</span><span class="p">,</span><span class="n">base_price</span><span class="o">=</span><span class="s">"15700"</span><span class="p">,</span><span class="n">stop_px</span><span class="o">=</span><span class="s">"0.2119"</span><span class="p">,</span><span class="n">time_in_force</span><span class="o">=</span><span class="s">"GoodTillCancel"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">place_conditional_order</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">order_type</span><span class="o">=</span><span class="s">"Limit"</span><span class="p">,</span>
    <span class="n">side</span><span class="o">=</span><span class="s">"Buy"</span><span class="p">,</span>
    <span class="n">qty</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">price</span><span class="o">=</span><span class="mi">54100</span><span class="p">,</span>
    <span class="n">base_price</span><span class="o">=</span><span class="mi">54192</span><span class="p">,</span>
    <span class="n">stop_px</span><span class="o">=</span><span class="mi">54150</span><span class="p">,</span>
    <span class="n">time_in_force</span><span class="o">=</span><span class="s">"GoodTillCancel"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span><span class="mi">160880</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">9003</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">remark</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">127.0.0.1</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">8232</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EC_NoError</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">eaf205ac-9dcc-44f6-8731-734e2101e61b</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-11-06T07:48:43.940Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-11-06T07:48:43.940Z</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1604648923.942177</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>市價條件委托: 一個傳統的市場價格訂單,會以當前的最優價格為您成交訂單。當且僅當選擇市價單時，'price', '可為空！</p>
<p>限價條件委托: 您可以為您的訂單設置一個執行價格，當市場價格達到您的設置價格時，系統會為您成交訂單。</p>
<p>止盈止損: 您僅能在開倉時設置止盈止損條件單，一旦持有倉位後提交活動委托時關聯的止盈止損則不再有效。一旦持倉後，當創建訂單後發送的止盈止損信息將不再有效。</p>
<p>委托數量: 表示您要購買/賣出的永續合約數，對於委托數量目前Bybit只允許提交正整數。</p>
<p>委托價格: 表示您期望購買/賣出永續合約的價格，可以根據<a href="#t-querysymbol">交易對接口</a>查詢不同symbol價格階梯。</p>
<p>條件委托觸發價格: 您可以為您的條件委托單設置一個觸發價格，條件委托單不進入委托表（Order Book)，只有觸發條件成立如市場價格到達觸發價格時，條件委托單才會進入交易系統。當市場價格到達觸發價格：1）您的限價條件委托單進入Order Book，等待被執行；2）您的市價條件委托單將按照市場最優價格立即被執行。</p>
<p>自定義條件單ID: 您可以自定義活動委托訂單ID，我們會為您關聯到系統的訂單ID，並把系統的唯一訂單ID在活動委托創建成功後一並返回給您，您可以使用該訂單ID去取消活動委托，同時要求您傳遞的自定義訂單ID最大長度不超過36個字段且唯一。</p>
</p>

<aside class="notice">
請註意:只允許每個合約最多創建10個條件委托單
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=vpsoCreate>/v2/private/stop-order/create</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoCreate"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>委托數量(1個委托1美元)，只能為正整數</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>條件委托執行價格。如果條件委托是限價單，則price為必傳字段</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>當前市價。用於和stop_px值進行比較，確定當前條件委托是看空到<code>stop_px</code>時觸發還是看多到stop_px觸發。主要是用來標識當前條件單預期的方向</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>觸發價格. 如果您期望價格上漲时觸發您的條件訂單，請確保 stop_px > max(market price, base_price) 否則 stop_px < min(market price, base_price)</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>觸發價格類型. 默認為最新市價</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">false</td>
<td style="text-align: left">bool</td>
<td>觸發後平倉. 如果下平倉單，請設置為<code>true</code>，避免因為保證金不足而導致下單失敗</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID, 最大長度36位，且同一機構下自定義ID不可重復</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">integer</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>訂單類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">string</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">string</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>觸發價格類型. 默認為最新市價</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">string</td>
<td>下單時市價</td>
</tr>
<tr>
<td style="text-align: left">remark</td>
<td style="text-align: left">string</td>
<td>備註</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒單的原因</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">string</td>
<td>觸發價格。如果您期望價格上漲时觸發您的條件訂單，請確保 stop_px > max(market price, base_price) 否則 stop_px < min(market price, base_price)</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">number</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">number</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
</tbody></table>
<h3 id='t-getcond'>查詢條件委托</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/stop-order/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_getOrders</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span><span class="n">stop_order_status</span><span class="o">=</span><span class="s">"Untriggered"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">get_conditional_order</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">stop_order_status</span><span class="o">=</span><span class="s">"Untriggered"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">160861</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Active</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ETHUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">TakeProfit</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">220</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">120</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ImmediateOrCancel</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">258</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-08-02T07:37:24Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-08-02T07:38:40Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">224.3</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6d0dec74-f516-4d95-81f1-c85e60c9a331</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="dl">"</span><span class="s2">cursor</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">zZtvOJ0gc3UOxZOwotsJSZyMTOgyC9tj1DmFyUU6eNHUL0X4NLwZvo8iqI6ltPIc</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1604653512.292878</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1604653512287</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre></div>
<p><p>獲取我的條件委托單列表。</p> <p>創建/取消訂單是異步的，因此<b>該接口可能返回的數據可能會有延遲</b>。如果要獲取訂單的實時信息，可以調用接口<a href="#t-querycond">實時查詢條件單信息</a>。</p></p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpsoList>/v2/private/stop-order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>指定訂單狀態查詢訂單列表。不傳該參數則默認查詢所有狀態訂單</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>搜索方向：<code>prev</code>:上一頁,<code>next</code>:下一頁,默認為 <code>next</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每頁數量, 最大50. 默認每頁20條</td>
</tr>
<tr>
<td style="text-align: left">cursor</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>翻頁標記,請使用返回的cursor,簽名時使用返回的原始數據，發送request時請進行urlencode</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">integer</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">string</td>
<td>條件單狀態</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>訂單類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-type-stop_order_type">stop_order_type</a></td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>觸發價格類型</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">number</td>
<td>下單時市價</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">number</td>
<td>觸發價格。如果您期望價格上漲时觸發您的條件訂單，請確保 stop_px > max(market price, base_price) 否則 stop_px < min(market price, base_price)</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">number</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">number</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left">tp_trigger_by</td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left">sl_trigger_by</td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left">cursor</td>
<td style="text-align: left">string</td>
<td>翻頁標記</td>
</tr>
</tbody></table>
<h3 id='t-cancelcond'>撤消條件委托單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/stop-order/cancel \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","stop_order_id":"xxx","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_cancel</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">stop_order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">cancel_conditional_order</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">stop_order_id</span><span class="o">=</span><span class="s">"c1025629-e85b-4c26-b4f3-76e86ad9f8cb"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">c1025629-e85b-4c26-b4f3-76e86ad9f8cb</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577452218.567120</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">97</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577452218573</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>您可以撤銷所有未被激活的條件委托,或止盈止損單。本質上所有條件委托在被激活後都是屬於活動委托，所以條件委托一旦被激活，您需要通過調用取消活動委托接口來取消所有未成交、部分成交的活動委托單。同樣全部成交的活動委托不可取消。</p>
</p>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=vpsoCancel>/v2/private/stop-order/cancel</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoCancel"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">required</th>
<th style="text-align: left">type</th>
<th>comments</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>訂單ID。如果未填order_link_id則為<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構ID。如果未填stop_order_id則為<b>必填</b>字段。</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
</tbody></table>
<h3 id='t-cancelallcond'>撤消全部條件委托單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/stop-order/cancelAll \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_cancelAll</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">cancel_all_conditional_orders</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">clOrdID</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">dea89649-9492-459d-a8c4-c298b87b3d26</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">999999</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PostOnly</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">create_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreateByUser</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelByUser</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-17T12:13:20Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T13:56:33.793799Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cross_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Deactivated</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6910.5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">expected_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Rising</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">clOrdID</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">a85cd1c0-a9a4-49d3-a1bd-bab5ebe946d5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">create_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreateByStopOrder</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelByUser</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:48:24.339323Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T13:56:33.793802Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cross_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Deactivated</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">expected_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Rising</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577454993.799912</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p>撤銷所有未被激活的條件委托。本質上所有條件委托在被激活後都是屬於活動委托，所以條件委托一旦被激活，您需要通過調用取消活動委托接口來取消所有未成交、部分成交的活動委托單。同樣全部成交的活動委托不可取消。</p>

<aside class="notice">
註意，此api每調用一次會導致<code>rate_limit</code>扣減10
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=vpsoCancelAll>/v2/private/stop-order/cancelAll</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoCancelAll"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">required</th>
<th style="text-align: left">type</th>
<th>comments</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">clOrdID</td>
<td style="text-align: left">string</td>
<td>uuid類型的唯一訂單號</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>訂單類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">create_type</td>
<td style="text-align: left">string</td>
<td>下單操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left">cancel_type</td>
<td style="text-align: left">string</td>
<td>取消操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余掛單數量對應的預估價值</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">cross_status</td>
<td style="text-align: left">string</td>
<td>取消操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本號</td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-type-stop_order_type">stop_order_type</a></td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>觸發價格類型. 默認為最新市價</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">number</td>
<td>下單時市價</td>
</tr>
<tr>
<td style="text-align: left">expected_direction</td>
<td style="text-align: left">string</td>
<td>預期方向</td>
</tr>
</tbody></table>
<h3 id='t-replacecond'>修改條件委托單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/stop-order/replace \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","stop_order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_replace</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">stop_order_id</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">p_r_trigger_price</span><span class="o">=</span><span class="s">"16003"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">replace_conditional_order</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">stop_order_id</span><span class="o">=</span><span class="s">"378a1bbc-a93a-4e75-87f4-502ea754ba36"</span><span class="p">,</span>
    <span class="n">p_r_trigger_price</span><span class="o">=</span><span class="mi">16003</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">378a1bbc-a93a-4e75-87f4-502ea754ba36</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577475760.604942</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577475760612</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>修改未觸發的條件單。</p></p>

<aside class="notice">
請註意，只有未觸發的條件單才能被修改。

</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=vpsoReplace>/v2/private/stop-order/replace</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoReplace"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>訂單ID。如果未填order_link_id則為<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構ID。如果未填stop_order_id則為<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型.</td>
</tr>
<tr>
<td style="text-align: left">p_r_qty</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>修改後的訂單數量。如果是未完全成交訂單，則表示修改剩余未成交的部分。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left">p_r_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>修改後的訂單價格。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left">p_r_trigger_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>修改後的條件單的觸發價格或止盈止損的價格。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>修改後的止盈價格。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>修改後的止損價格。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
</tbody></table>
<h3 id='t-querycond'>實時查詢條件委托</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/stop-order?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}order_id={order_id}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_query</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">stop_order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">query_conditional_order</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">stop_order_id</span><span class="o">=</span><span class="s">"378a1bbc-a93a-4e75-87f4-502ea754ba36"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8000</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00013333</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T19:56:24.052194Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T19:56:24.052194Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">378a1bbc-a93a-4e75-87f4-502ea754ba36</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577476584.386958</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>

<span class="c1">//當只傳參數<code>symbol</code>的時候，返回結構如下：</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100328</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EOSUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.7</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.7000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.37037037</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EC_NoError</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UNKNOWN</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:21:15.246331281Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:21:15.246331281Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">a0dee45e-ae2a-4eb4-8205-9739075a7a81</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MarkPrice</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">...</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100328</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EOSUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.6</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.7000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.38461538</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EC_NoError</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UNKNOWN</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:21:10.924193413Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:21:10.924193413Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">51d048ba-a71f-40ef-b4c4-897e94590b80</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MarkPrice</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1608193281.690286</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1608193281687</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre></div>
<p>實時查詢條件委托。當傳遞參數<code>order_id</code>或<code>order_link_id</code>其中任意一個時，將返回單條訂單數據；如果參數<code>order_id</code>和<code>order_link_id</code>都不傳遞時，將返回所有<b>未成交</b>的訂單，最多50條。</p>

<aside class="notice">
<b>條件單觸發後，在系統內部會成為活動單，實際上，返回結構體中的<code>order_id</code>等同於請求參數的<code>stop_order_id</code></b>
</aside>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpStopOrder>/v2/private/stop-order</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpStopOrder"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>訂單類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left">ext_fields</td>
<td style="text-align: left">json</td>
<td>擴展字段</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余掛單數量對應的預估價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累計成交數量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">number</td>
<td>累計成交價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">number</td>
<td>累計成交手續費</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒單的原因</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">string</td>
<td>下單時市價</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">string</td>
<td>觸發價格。如果您期望價格上漲时觸發您的條件訂單，請確保 stop_px > max(market price, base_price) 否則 stop_px < min(market price, base_price)</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>觸發價格類型</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">number</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">number</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
</tbody></table>
<h2 id='t-position'>持倉</h2><h3 id='t-myposition'>獲取持倉（實時）</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/position/list?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">Positions_myPosition</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">my_position</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">27913</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0006947</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7197.35137469</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">is_isolated</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">//逐倉模式下, 值為用戶設置的杠桿；全倉模式下，值為當前風險限額下最大杠桿</span>
        <span class="dl">"</span><span class="s2">effective_leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 有效杠桿. 逐倉模式下, 等於`leverage`; 全倉模式下, 計算公式為： <code>position size / markprice / (wallet_balance+unrealised_pnl)</code></span>
        <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0006947</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3608</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3599</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00000105</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">deleverage_indicator</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">oc_calc_data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">blq</span><span class="se">\"</span><span class="s2">:2,</span><span class="se">\"</span><span class="s2">blv</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0.0002941</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">slq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bmp</span><span class="se">\"</span><span class="s2">:6800.408,</span><span class="se">\"</span><span class="s2">smp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">fq</span><span class="se">\"</span><span class="s2">:-5,</span><span class="se">\"</span><span class="s2">fc</span><span class="se">\"</span><span class="s2">:-0.00029477,</span><span class="se">\"</span><span class="s2">bv2c</span><span class="se">\"</span><span class="s2">:1.00225,</span><span class="se">\"</span><span class="s2">sv2c</span><span class="se">\"</span><span class="s2">:1.0007575}</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00029477</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.03000227</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000126</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">unrealised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00001306</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">444081383</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">287141589</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-10-19T17:04:55Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T20:25:45.158767Z</span><span class="dl">"</span>
        <span class="dl">"</span><span class="s2">tp_sl_mode</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Partial</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577480599.097287</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>

<span class="c1">//當不傳參數<code>symbol</code>的時候，返回結構如下：</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">is_valid</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//表示當前data對應的symbol數據是否可用</span>
            <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="c1">//只有在<code>is_valid</code>為<b>true</b>時，<code>data</code>才可用，否則請不要使用data</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_idx</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">mode</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">118921</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00076448</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">13080.78694014</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">is_isolated</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">effective_leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.01</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.40111704</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">25</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">25</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0003</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">deleverage_indicator</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">oc_calc_data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">blq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">slq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bmp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">smp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">fq</span><span class="se">\"</span><span class="s2">:-10,</span><span class="se">\"</span><span class="s2">bv2c</span><span class="se">\"</span><span class="s2">:0.0115075,</span><span class="se">\"</span><span class="s2">sv2c</span><span class="se">\"</span><span class="s2">:0.0114925}</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.40141704</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000008</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">unrealised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00003797</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.090626</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">764786721</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">581513847</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-08-10T07:04:32Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-11-02T00:00:11.943371457Z</span><span class="dl">"</span>
                <span class="dl">"</span><span class="s2">tp_sl_mode</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Partial</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">...</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">is_valid</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//表示當前data對應的symbol數據是否可用</span>
            <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="c1">//只有在<code>is_valid</code>為<b>true</b>時，<code>data</code>才可用，否則請不要使用data</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_idx</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">mode</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">118921</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XRPUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">None</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">is_isolated</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">16.67</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">effective_leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">16.67</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">deleverage_indicator</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">oc_calc_data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">blq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">slq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bmp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">smp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bv2c</span><span class="se">\"</span><span class="s2">:0.06153301,</span><span class="se">\"</span><span class="s2">sv2c</span><span class="se">\"</span><span class="s2">:0.06144302}</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">unrealised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">352149441</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-08-10T07:04:32Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-08-22T08:06:32Z</span><span class="dl">"</span>
                <span class="dl">"</span><span class="s2">tp_sl_mode</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Partial</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1604302124.031104</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">118</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1604302124020</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取我的倉位列表。通過該接口可以獲取當前用戶的持倉信息，如持倉數量、賬戶余額等信息</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=pList>/v2/private/position/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>倉位ID</td>
</tr>
<tr>
<td style="text-align: left">position_idx</td>
<td style="text-align: left">integer</td>
<td>Position idx, 用於在不同倉位模式下標識倉位：<br/>0-單向持倉 <br/>1-雙向持倉Buy<br/> 2-雙向持倉Sell</td>
</tr>
<tr>
<td style="text-align: left">mode</td>
<td style="text-align: left">number</td>
<td>倉位模式</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left">number</td>
<td><a href="#t-getrisklimit">風險限額ID</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>倉位數量</td>
</tr>
<tr>
<td style="text-align: left">position_value</td>
<td style="text-align: left">string</td>
<td>倉位價值</td>
</tr>
<tr>
<td style="text-align: left">entry_price</td>
<td style="text-align: left">string</td>
<td>平均入場價</td>
</tr>
<tr>
<td style="text-align: left">is_isolated</td>
<td style="text-align: left">bool</td>
<td>是否逐倉，true-逐倉 false-全倉</td>
</tr>
<tr>
<td style="text-align: left">auto_add_margin</td>
<td style="text-align: left">number</td>
<td>是否自動追加保證金</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">string</td>
<td>逐倉模式下, 值為用戶設置的杠桿；全倉模式下，值為當前風險限額下最大杠桿</td>
</tr>
<tr>
<td style="text-align: left">effective_leverage</td>
<td style="text-align: left">string</td>
<td>有效杠桿</td>
</tr>
<tr>
<td style="text-align: left">position_margin</td>
<td style="text-align: left">string</td>
<td>倉位保證金</td>
</tr>
<tr>
<td style="text-align: left">liq_price</td>
<td style="text-align: left">string</td>
<td>強平價格</td>
</tr>
<tr>
<td style="text-align: left">bust_price</td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/en-us/articles/360039749813-What-is-Bankruptcy-Price-Inverse-Contract-">破產價格</a></td>
</tr>
<tr>
<td style="text-align: left">occ_closing_fee</td>
<td style="text-align: left">string</td>
<td>倉位占用的平倉手續費</td>
</tr>
<tr>
<td style="text-align: left">occ_funding_fee</td>
<td style="text-align: left">string</td>
<td>倉位size和當前資金費率預占用資金費用</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">string</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">string</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">string</td>
<td>追蹤止損</td>
</tr>
<tr>
<td style="text-align: left">position_status</td>
<td style="text-align: left">string</td>
<td>倉位狀態，正常，強平，減倉</td>
</tr>
<tr>
<td style="text-align: left">deleverage_indicator</td>
<td style="text-align: left">number</td>
<td>風險指示燈等級（1，2，3，4，5）</td>
</tr>
<tr>
<td style="text-align: left">oc_calc_data</td>
<td style="text-align: left">string</td>
<td>預占保證證計算參數, blq-多方所有未成交委托數; bmp-多方最低價; slq-空方所有未成交委托數; smp-空方最低價</td>
</tr>
<tr>
<td style="text-align: left">order_margin</td>
<td style="text-align: left">string</td>
<td>委托預占用保證金</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">string</td>
<td>錢包余額</td>
</tr>
<tr>
<td style="text-align: left">realised_pnl</td>
<td style="text-align: left">string</td>
<td>當日已結盈虧</td>
</tr>
<tr>
<td style="text-align: left">unrealised_pnl</td>
<td style="text-align: left">number</td>
<td>未結盈虧</td>
</tr>
<tr>
<td style="text-align: left">cum_realised_pnl</td>
<td style="text-align: left">string</td>
<td>累計已結盈虧</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本號</td>
</tr>
<tr>
<td style="text-align: left">position_seq</td>
<td style="text-align: left">number</td>
<td>倉位變化版本號</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>The account creation time</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left"><a href="#tp-sl-mode-tp_sl_mode">tp_sl_mode</a></td>
<td style="text-align: left">string</td>
<td>止盈止損模式</td>
</tr>
</tbody></table>
<h3 id='t-changemargin'>更新保證金</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/position/change-position-margin \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD",margin:"10","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">Positions_changeMargin</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s">"10"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">change_margin</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">margin</span><span class="o">=</span><span class="mf">0.00001</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00000997</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577480720.003444</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577480720011</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>更新保證金。</p>

<aside class="notice">
修改保證金不能低於<a href="https://help.bybit.com/hc/zh-cn/articles/360039261174-%E8%B5%B7%E5%A7%8B%E4%BF%9D%E8%AF%81%E9%87%91%E8%AE%A1%E7%AE%97-%E5%8F%8D%E5%90%91%E6%B0%B8%E7%BB%AD-">起始保證金</a>，如果當前為全倉模式則不能調整保證金。請查看<a href="#t-setleverage">修改杠桿</a>了解更多信息。
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=pChangePositionMarginNew>/v2/private/position/change-position-margin</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pChangePositionMarginNew"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">margin</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>保證金</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">number</td>
<td>倉位保證金</td>
</tr>
</tbody></table>
<h3 id='t-tradingstop'>設置止盈止損</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/position/trading-stop \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","stop_loss":7000,"timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">Positions_tradingStop</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span><span class="n">stop_loss</span><span class="o">=</span><span class="s">"7000"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">set_trading_stop</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">stop_loss</span><span class="o">=</span><span class="mi">7000</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">27913</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0006947</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">7197.35137469</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6.95</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mf">9.996</span><span class="nx">e</span><span class="o">-</span><span class="mi">05</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6320</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6292.5</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span><span class="nx">e</span><span class="o">-</span><span class="mi">07</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">deleverage_indicator</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">oc_calc_data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">blq</span><span class="se">\"</span><span class="s2">:2,</span><span class="se">\"</span><span class="s2">blv</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0.0002941</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">slq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bmp</span><span class="se">\"</span><span class="s2">:6800.408,</span><span class="se">\"</span><span class="s2">smp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">fq</span><span class="se">\"</span><span class="s2">:-5,</span><span class="se">\"</span><span class="s2">fc</span><span class="se">\"</span><span class="s2">:-0.00004279,</span><span class="se">\"</span><span class="s2">bv2c</span><span class="se">\"</span><span class="s2">:0.14549282,</span><span class="se">\"</span><span class="s2">sv2c</span><span class="se">\"</span><span class="s2">:0.14527699}</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mf">4.279</span><span class="nx">e</span><span class="o">-</span><span class="mi">05</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.03000227</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.26</span><span class="nx">e</span><span class="o">-</span><span class="mi">06</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.306</span><span class="nx">e</span><span class="o">-</span><span class="mi">05</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_commission</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">444081383</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">287176872</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-10-19T17:04:55.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T21:17:27.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">trailing_active</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">9000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">sl_trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">v</span><span class="dl">"</span><span class="p">:</span> <span class="mi">221</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">mm</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577481447.436689</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">73</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577481447443</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>設置倉位止盈止損、追蹤止損。</p>

<aside class="notice">
傳遞以下參數後將會由系統創建條件單。如果倉位關閉，系統將會取消這些訂單，同時調整開倉的倉位數量。
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=oapTradingStopNew>/v2/private/position/trading-stop</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oapTradingStopNew"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>不小於0,如果等於0則是取消止盈(TP)</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>不小於0,如果等於0則是取消止損(SL)</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>不小於0,如果等於0則是取消追蹤止損(TS)</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left">new_trailing_active</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>追蹤止損觸發價格。追蹤止損會在到達該價格後才會觸發（追蹤止損默認立即觸發）。</td>
</tr>
<tr>
<td style="text-align: left">sl_size</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>在部分止盈止損模式下，止損合約數量</td>
</tr>
<tr>
<td style="text-align: left">tp_size</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>在部分止盈止損模式下，止盈合約數量</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>倉位ID</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>倉位數量</td>
</tr>
<tr>
<td style="text-align: left">position_value</td>
<td style="text-align: left">string</td>
<td>倉位價值</td>
</tr>
<tr>
<td style="text-align: left">entry_price</td>
<td style="text-align: left">string</td>
<td>平均入場價</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left">number</td>
<td><a href="#t-getrisklimit">風險限額ID</a></td>
</tr>
<tr>
<td style="text-align: left">auto_add_margin</td>
<td style="text-align: left">number</td>
<td>是否自動追加保證金</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">string</td>
<td>逐倉模式下, 值為用戶設置的杠桿；全倉模式下，值為當前風險限額下最大杠桿</td>
</tr>
<tr>
<td style="text-align: left">position_margin</td>
<td style="text-align: left">string</td>
<td>倉位保證金</td>
</tr>
<tr>
<td style="text-align: left">liq_price</td>
<td style="text-align: left">string</td>
<td>強平價格</td>
</tr>
<tr>
<td style="text-align: left">bust_price</td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/en-us/articles/360039749813-What-is-Bankruptcy-Price-Inverse-Contract-">破產價格</a></td>
</tr>
<tr>
<td style="text-align: left">occ_closing_fee</td>
<td style="text-align: left">string</td>
<td>倉位占用的平倉手續費</td>
</tr>
<tr>
<td style="text-align: left">occ_funding_fee</td>
<td style="text-align: left">string</td>
<td>倉位size和當前資金費率預占用資金費用</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">string</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">string</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">string</td>
<td>追蹤止損</td>
</tr>
<tr>
<td style="text-align: left">position_status</td>
<td style="text-align: left">string</td>
<td>倉位狀態，正常，強平，減倉</td>
</tr>
<tr>
<td style="text-align: left">deleverage_indicator</td>
<td style="text-align: left">number</td>
<td>風險指示燈等級（1，2，3，4，5）</td>
</tr>
<tr>
<td style="text-align: left">oc_calc_data</td>
<td style="text-align: left">string</td>
<td>預占保證證計算參數, blq-多方所有未成交委托數; bmp-多方最低價; slq-空方所有未成交委托數; smp-空方最低價</td>
</tr>
<tr>
<td style="text-align: left">order_margin</td>
<td style="text-align: left">string</td>
<td>委托預占用保證金</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">string</td>
<td>錢包余額</td>
</tr>
<tr>
<td style="text-align: left">realised_pnl</td>
<td style="text-align: left">string</td>
<td>當日已結盈虧</td>
</tr>
<tr>
<td style="text-align: left">cum_realised_pnl</td>
<td style="text-align: left">string</td>
<td>累計已結盈虧</td>
</tr>
<tr>
<td style="text-align: left">cum_commission</td>
<td style="text-align: left">number</td>
<td>累計傭金</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本號</td>
</tr>
<tr>
<td style="text-align: left">position_seq</td>
<td style="text-align: left">number</td>
<td>倉位變化版本號</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">trailing_active</td>
<td style="text-align: left">string</td>
<td>激活價格</td>
</tr>
<tr>
<td style="text-align: left">sl_trigger_by</td>
<td style="text-align: left">string</td>
<td>止損激活價格類型</td>
</tr>
</tbody></table>
<h3 id='t-setleverage'>修改杠桿</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/position/leverage/save \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","buy_leverage":14,"sell_leverage":14,"timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">Positions_saveLeverage</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">leverage</span><span class="o">=</span><span class="s">"14"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">set_leverage</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">leverage</span><span class="o">=</span><span class="mi">2</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577477968.175013</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577477968183</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>設置杠桿</p>

<aside class="notice">
該接口僅用於切換杠桿。如果你想使用全逐倉切換，請使用<a href="#t-marginswitch">全倉/逐倉切換</a>
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=ulSaveNew>/v2/private/position/leverage/save</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#ulSaveNew"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">number</td>
<td>leverage必須大於0且小於最大可設置杠桿 <a href="https://help.bybit.com/hc/en-us/articles/360039749753-What-is-Risk-Limit-What-effect-does-the-Risk-Limit-have-on-Margin-Inverse-Contract-">risk limit leverage</a>,如果你想切換全逐倉，請使用 <a href="#t-marginswitch">全倉/逐倉切換</a></td>
</tr>
<tr>
<td style="text-align: left">leverage_only</td>
<td style="text-align: left">false</td>
<td style="text-align: left">bool</td>
<td>該字段表明一個兼容邏輯。 <br>若該字段為<code>false</code>,當<code>leverage </code>等於<code>0</code>時將會切換至全倉,當<code>leverage</code>大於<code>0</code>將切換至逐倉，此時無法在全倉下設置杠桿;<br>若該字段為<code>true</code>則表示在當前倉位模式下切換杠桿，此時<code>leverage</code>需要大於<code>0</code>,並可以使用全倉切換杠桿功能。</br>我們建議用戶<code>leverage</code>設置為<code>true</code></td>
</tr>
</tbody></table>

<!--
|buy_leverage |<b>true</b> |number |<code>杠桿大於0，小於風險限額對應的杠桿</code> |
|sell_leverage |<b>true</b> |number |<code>杠桿大於0，小於風險限額對應的杠桿</code> |
-->

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">number</td>
<td>用戶杠桿</td>
</tr>
</tbody></table>
<h3 id='t-usertraderecords'>用戶成交記錄</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/execution/list?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Execution</span><span class="p">.</span><span class="n">Execution_getTrades</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">user_trade_records</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"><b>已廢棄!!</b></span><span class="dl">"</span><span class="p">,</span> <span class="c1">// <b>已廢棄!!</b></span>
        <span class="dl">"</span><span class="s2">trade_list</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">closed_size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="c1">// 平倉委托對應的平倉大小</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">277136382</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0000001</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">256e5ef8-abfe-5772-971b-f944e15e0d68</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8178.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1571676941.70682</span><span class="dl">"</span><span class="p">,</span>    <span class="c1">//<b>已廢棄!!</b></span>
                <span class="dl">"</span><span class="s2">exec_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Trade</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#exec-type-exec_type">交易類型枚舉</a></span>
                <span class="dl">"</span><span class="s2">exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00012227</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">fee_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00075</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">last_liquidity_ind</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">RemovedLiquidity</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#liquidity-type-last_liquidity_ind">流動性類型枚舉</a>, 只有當<code>exec_type</code>字段類型為<code>Trade、AdlTrade、BustTrade</code>時有效</span>
                <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">nth_fill</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7ad50cb1-9ad0-4f74-804b-d82a516e1029</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8178</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#order-type-order_type">訂單類型枚舉</a></span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#side-side">方向枚舉</a></span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#symbol-symbol">交易對枚舉</a></span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">trade_time_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577480599000</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577483699.281488</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">118</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577483699244737</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取用戶成交記錄，按時間升序排列。</p>

<aside class="notice">
一個訂單可能有多筆成交記錄。
</aside>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpeList>/v2/private/execution/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpeList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>訂單號，如果沒有填寫訂單號，將返回用戶交易記錄</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>交易對 <b>必填</b></td>
</tr>
<tr>
<td style="text-align: left">start_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>開始時間戳（毫秒)</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>頁碼.默認取第一頁</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>返回數據最大200條. 默認返回50條</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-order">order</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>按創建時間排序（默認升序）</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">closed_size</td>
<td style="text-align: left">number</td>
<td>平倉委托對應的平倉大小</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本號</td>
</tr>
<tr>
<td style="text-align: left">exec_fee</td>
<td style="text-align: left">string</td>
<td>交易手續費</td>
</tr>
<tr>
<td style="text-align: left">exec_id</td>
<td style="text-align: left">string</td>
<td>成交ID</td>
</tr>
<tr>
<td style="text-align: left">exec_price</td>
<td style="text-align: left">number</td>
<td>成交價格</td>
</tr>
<tr>
<td style="text-align: left">exec_qty</td>
<td style="text-align: left">number</td>
<td>成交數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#exec-type-exec_type">exec_type</a></td>
<td style="text-align: left">string</td>
<td><a href="#exec-type-exec_type">交易類型枚舉</a></td>
</tr>
<tr>
<td style="text-align: left">exec_value</td>
<td style="text-align: left">string</td>
<td>成交價值</td>
</tr>
<tr>
<td style="text-align: left">fee_rate</td>
<td style="text-align: left">string</td>
<td>手續費率</td>
</tr>
<tr>
<td style="text-align: left">last_liquidity_ind</td>
<td style="text-align: left">string</td>
<td><a href="#liquidity-type-last_liquidity_ind">流動性類型枚舉</a>, 只有當<code>exec_type</code>字段類型為<code>Trade、AdlTrade、BustTrade</code>時有效</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">nth_fill</td>
<td style="text-align: left">number</td>
<td>該筆流水對應了撮合響應包裏的第幾筆成交</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">order_price</td>
<td style="text-align: left">string</td>
<td>訂單價格</td>
</tr>
<tr>
<td style="text-align: left">order_qty</td>
<td style="text-align: left">string</td>
<td>訂單數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td><a href="#order-type-order_type">訂單類型枚舉</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td><a href="#symbol-symbol">交易對枚舉</a></td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left">trade_time_ms</td>
<td style="text-align: left">number</td>
<td>交易時間</td>
</tr>
</tbody></table>
<h3 id='t-closedprofitandloss'>平倉盈虧</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/trade/closed-pnl/list?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">Positions_closePnlRecords</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">closed_profit_and_loss</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">current_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9982</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">160320</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">e976ac13-10e7-4883-a7ba-13b0e93659f1</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">226</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1600</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Trade</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">closed_size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">113</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_entry_value</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.07062500000000001</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">avg_entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1600</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exit_value</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.066198</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">avg_exit_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1707</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">closed_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0043950000000000005</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">fill_count</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1591155741</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1591173153.876047</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1591173153852</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取用戶平倉記錄，按時間降序排列。</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=pltcList>/v2/private/trade/closed-pnl/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pltcList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">start_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>開始時間戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">end_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>結束時間戳（秒）</td>
</tr>
<tr>
<td style="text-align: left"><a href="#exec-type-exec_type">exec_type</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>交易類型(不能為"Funding")</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>頁碼.默認取第一頁,最大50</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每頁數量, 最大50. 默認每頁20條，最多50條每頁</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>倉位ID</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>Side of the closing order</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left">order_price</td>
<td style="text-align: left">number</td>
<td>訂單價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>訂單類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#exec-type-exec_type">exec_type</a></td>
<td style="text-align: left">string</td>
<td><a href="#exec-type-exec_type">交易類型枚舉</a></td>
</tr>
<tr>
<td style="text-align: left">closed_size</td>
<td style="text-align: left">number</td>
<td>平倉委托對應的平倉大小</td>
</tr>
<tr>
<td style="text-align: left">cum_entry_value</td>
<td style="text-align: left">number</td>
<td>被平掉的倉位價值</td>
</tr>
<tr>
<td style="text-align: left">avg_entry_price</td>
<td style="text-align: left">number</td>
<td>平均入場價</td>
</tr>
<tr>
<td style="text-align: left">cum_exit_value</td>
<td style="text-align: left">number</td>
<td>平倉訂單累計成交價值</td>
</tr>
<tr>
<td style="text-align: left">avg_exit_price</td>
<td style="text-align: left">number</td>
<td>平均出場價</td>
</tr>
<tr>
<td style="text-align: left">closed_pnl</td>
<td style="text-align: left">number</td>
<td>與平倉size等比例對應的盈虧</td>
</tr>
<tr>
<td style="text-align: left">fill_count</td>
<td style="text-align: left">number</td>
<td>成交筆數</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">number</td>
<td>逐倉模式下, 值為用戶設置的杠桿；全倉模式下，值為當前風險限額下最大杠桿</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">number</td>
<td>創建時間</td>
</tr>
</tbody></table>
<h3 id='t-switchmode'>切換止盈止損模式</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">full_partial_position_tp_sl_switch</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">tp_sl_mode</span><span class="o">=</span><span class="s">"Partial"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">tp_sl_mode</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Partial</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1598266294.610276</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">72</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1598266294607</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>切換止盈止損模式至全倉或部分</p>

<aside class="notice">
當設置部分止盈止損模式時，止盈或者止損的訂單數量可以小於倉位大小, 請使用<a href="#t-tradingstop">Trading-Stop endpoint</a>。
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=vptSwitchMode>/v2/private/tpsl/switch-mode</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vptSwitchMode"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#tp-sl-mode-tp_sl_mode">tp_sl_mode</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>止盈止損模式</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#tp-sl-mode-tp_sl_mode">tp_sl_mode</a></td>
<td style="text-align: left">string</td>
<td>止盈止損模式</td>
</tr>
</tbody></table>
<h3 id='t-marginswitch'>全倉/逐倉切換</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/position/switch-isolated \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD", "is_isolated":true,"buy_leverage":10,"sell_leverage":20, "timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">cross_isolated_margin_switch</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">is_isolated</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">buy_leverage</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">sell_leverage</span><span class="o">=</span><span class="mi">20</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577477968.175013</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577477968183</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>全倉/逐倉切換，從全倉切換至逐倉時需要傳杠桿</p>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=ulSwitchIsolated>/v2/private/position/switch-isolated</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#ulSwitchIsolated"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">is_isolated</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">bool</td>
<td>全倉/逐倉, true是逐倉，false是全倉</td>
</tr>
<tr>
<td style="text-align: left">buy_leverage</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">number</td>
<td>全倉/逐倉切換，需要傳杠桿並且<code>buy_leverage</code>和<code>sell_leverage</code>必須傳入相同參數；</td>
</tr>
<tr>
<td style="text-align: left">sell_leverage</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">number</td>
<td>全倉/逐倉切換，需要傳杠桿並且<code>buy_leverage</code>和<code>sell_leverage</code>必須傳入相同參數；</td>
</tr>
</tbody></table>
<h3 id='t-queryfeerate'>查询用户手續费率</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/position/fee-rate?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign} \
</span></code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span>
    <span class="p">{</span>
      <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">taker_fee_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">maker_fee_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577477968.175013</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577477968183</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=ulQueryFeeRate>/v2/private/position/fee-rate</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#ulQueryFeeRate"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶 ID</td>
</tr>
<tr>
<td style="text-align: left">taker_fee_rate</td>
<td style="text-align: left">string</td>
<td>taker手續費</td>
</tr>
<tr>
<td style="text-align: left">maker_fee_rate</td>
<td style="text-align: left">string</td>
<td>maker手續費</td>
</tr>
</tbody></table>
<h2 id='t-risklimit'>風險限額</h2><h3 id='t-getrisklimit'>查詢風險限額表</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/public/risk-limit/list?symbol=BTCUSD"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_getRiskLimit</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">get_risk_limit</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">limit</span><span class="dl">"</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maintain_margin</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.005</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">starting_margin</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.01</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">section</span><span class="dl">"</span><span class="p">:[</span>
                <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">3</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">10</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">25</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">50</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">is_lowest_risk</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2021-03-17T08:20:53.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2021-03-17T08:20:53.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span>
        <span class="p">},</span>
        <span class="p">...</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">limit</span><span class="dl">"</span><span class="p">:</span><span class="mi">10000000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maintain_margin</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.05</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">starting_margin</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.055</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">section</span><span class="dl">"</span><span class="p">:[</span>
                <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">3</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">4</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">10</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">15</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">18</span><span class="dl">"</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">is_lowest_risk</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2021-03-17T08:21:12.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2021-03-17T08:21:12.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mf">18.18</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1616052270.701108</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>查詢風險限額表。</p>

<aside class="notice">
關於風險限額，點擊<a href="https://help.bybit.com/hc/en-us/articles/360007107454-Risk-Limit-Overview">這裏</a>了解更多。
</aside>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oawrlList>/v2/public/risk-limit/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawrlList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>false</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td><a href="#t-getrisklimit">風險限額ID</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">number</td>
<td>風險限額</td>
</tr>
<tr>
<td style="text-align: left">maintain_margin</td>
<td style="text-align: left">number</td>
<td>維持保證金</td>
</tr>
<tr>
<td style="text-align: left">starting_margin</td>
<td style="text-align: left">number</td>
<td>起始保證金。與風險限額表中<a href="https://help.bybit.com/hc/en-us/articles/900000170023-Risk-Limit-USDT-Contract-">中顯示的"初始保證金百分比"相同 </a></td>
</tr>
<tr>
<td style="text-align: left">section</td>
<td style="text-align: left">string</td>
<td>區間點</td>
</tr>
<tr>
<td style="text-align: left">is_lowest_risk</td>
<td style="text-align: left">number</td>
<td>是否最低風險限額0:不是 1:是</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">max_leverage</td>
<td style="text-align: left">string</td>
<td>最大杠桿</td>
</tr>
</tbody></table>
<h3 id='t-setrisklimit'>設置風險限額</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/position/risk-limit \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","risk_id":2,"timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">set_risk_limit</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span>
    <span class="n">risk_id</span><span class="o">=</span><span class="mi">2</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1620283810.393787</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">token</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre></div>
<aside class="notice">
關於風險限額，點擊<a href="https://help.bybit.com/hc/en-us/articles/360007107454-Risk-Limit-Overview">這裏</a>了解更多。
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=oawrlList>/v2/private/position/risk-limit</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawrlList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td><a href="#t-getrisklimit">風險限額ID</a></td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left">number</td>
<td><a href="#t-getrisklimit">風險限額ID</a></td>
</tr>
</tbody></table>
<h2 id='t-funding'>資金費率</h2><h3 id='t-fundingrate'>查詢上個周期的資金費率</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/public/funding/prev-funding-rate?symbol=BTCUSD"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Funding</span><span class="p">.</span><span class="n">Funding_prevRate</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">get_the_last_funding_rate</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00010000</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">funding_rate_timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577433600</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577445586.446797</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577445586454</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<aside class="notice">
歷史資金費率無法通過API獲得。但是，您可以使用"導出"按鈕獲取此數據的CSV文件 <a href="https://www.bybit.com/data/basic/inverse/funding-history?symbol=BTCUSD">here</a>.
</aside>

<p>UTC時間每天0點、8點、16點產生一個資金費率。 假設當前時間是UTC12點，則返回的是上一次結算即UTC8點產生的資金費率。</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oafPrevFundingRateNew>/v2/public/funding/prev-funding-rate</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oafPrevFundingRateNew"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">funding_rate</td>
<td style="text-align: left">string</td>
<td>資金費率</td>
</tr>
<tr>
<td style="text-align: left">funding_rate_timestamp</td>
<td style="text-align: left">number</td>
<td>資金費率時間戳</td>
</tr>
</tbody></table>
<h3 id='t-mylastfundingfee'>查詢上個周期資金費用結算信息</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/funding/prev-funding?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Funding</span><span class="p">.</span><span class="n">Funding_myLastFee</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">get_the_last_funding_rate</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">// Your position side at the time of settlement</span>
        <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1">// Your position size at the time of settlement</span>
        <span class="dl">"</span><span class="s2">funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>  <span class="c1">// Funding rate for settlement. When the funding rate is positive, longs pay shorts. When it is negative, shorts pay longs.</span>
        <span class="dl">"</span><span class="s2">exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00000002</span><span class="p">,</span>  <span class="c1">// Funding fee.</span>
        <span class="dl">"</span><span class="s2">exec_timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1575907200</span>  <span class="c1">// The time of funding settlement occurred, UTC timestamp</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577446900.717204</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577446900724</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p><p>UTC時間每天0點、8點、16點進行資金費用結算</p>
<p>當前周期的資金費用結算是根據上個周期的資金費率來進行結算</p>
<p>比如16點結算時是按照8點產生的資金費率來進行結算，而16點產生的資金費率則會在第二天0點結算時使用</p>
</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oafPrevFundingNew>/v2/private/funding/prev-funding</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oafPrevFundingNew"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>執行資金費率時的用戶倉位方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>執行資金費率時的用戶倉位數量</td>
</tr>
<tr>
<td style="text-align: left">funding_rate</td>
<td style="text-align: left">number</td>
<td>資金費率</td>
</tr>
<tr>
<td style="text-align: left">exec_fee</td>
<td style="text-align: left">number</td>
<td>交易手續費</td>
</tr>
<tr>
<td style="text-align: left">exec_timestamp</td>
<td style="text-align: left">number</td>
<td>交易時間</td>
</tr>
</tbody></table>
<h3 id='t-predictedfunding'>查詢預測資金費率和資金費用</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/funding/predicted-funding?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Funding</span><span class="p">.</span><span class="n">Funding_predicted</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">predicted_funding_rate</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">predicted_funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">predicted_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577447415.583259</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">118</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577447415590</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>查詢預測資金費率和資金費用。</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oafPredictedFundingNew>/v2/private/funding/predicted-funding</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oafPredictedFundingNew"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">predicted_funding_rate</td>
<td style="text-align: left">number</td>
<td>預測資金費率</td>
</tr>
<tr>
<td style="text-align: left">predicted_funding_fee</td>
<td style="text-align: left">number</td>
<td>預測資金費用</td>
</tr>
</tbody></table>
<h2 id='t-key'>APIKey信息</h2>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/account/api-key?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">APIkey</span><span class="p">.</span><span class="n">APIkey_info</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">api_key_info</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">api_key</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7GkMBBLTbGRfa0Nuh1</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">personal</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">inviter_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ips</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">note</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">scalping_bot</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">permissions</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="dl">"</span><span class="s2">Order</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">Position</span><span class="dl">"</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-10-28T13:22:39.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">expired_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-28T13:22:39.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">read_only</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">vip_level</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">mkt_maker_level</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577445138.790150</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577445138812</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取賬戶API密鑰信息。</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oaApiKeyNew>/v2/private/account/api-key</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oaApiKeyNew"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">api_key</td>
<td style="text-align: left">string</td>
<td>API 密鑰</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">string</td>
<td>Key 類型</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶 ID</td>
</tr>
<tr>
<td style="text-align: left">inviter_id</td>
<td style="text-align: left">number</td>
<td>邀請人 ID</td>
</tr>
<tr>
<td style="text-align: left">ips</td>
<td style="text-align: left">string</td>
<td>IP地址</td>
</tr>
<tr>
<td style="text-align: left">note</td>
<td style="text-align: left">string</td>
<td>備註</td>
</tr>
<tr>
<td style="text-align: left">permissions</td>
<td style="text-align: left">string</td>
<td>ApiKey 所有權限</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">expired_at</td>
<td style="text-align: left">string</td>
<td>過期時間</td>
</tr>
<tr>
<td style="text-align: left">read_only</td>
<td style="text-align: left">bool</td>
<td>是否只讀</td>
</tr>
<tr>
<td style="text-align: left">vip_level</td>
<td style="text-align: left">string</td>
<td>VIP用戶等級</td>
</tr>
<tr>
<td style="text-align: left">mkt_maker_level</td>
<td style="text-align: left">string</td>
<td>market maker等級</td>
</tr>
</tbody></table>
<h2 id='t-lcp'>流動性貢獻分</h2>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/account/lcp?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">lcp_info</span><span class="p">(</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span>
<span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="dl">"</span><span class="s2">lcp_list</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">date</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-04-27</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">self_ratio</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">platform_ratio</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">score</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.1459</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">date</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-04-26</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">self_ratio</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">platform_ratio</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">score</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.1459</span>
        <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577445138.790150</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577445138812</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p>查詢用戶流動性貢獻分(當天數據每小時更新一次)</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oaApiLcp>/v2/private/account/lcp</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oaApiLcp"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">date</td>
<td style="text-align: left">string</td>
<td>日期</td>
</tr>
<tr>
<td style="text-align: left">self_ratio</td>
<td style="text-align: left">number</td>
<td>已廢棄! 個人有效掛單占比</td>
</tr>
<tr>
<td style="text-align: left">platform_ratio</td>
<td style="text-align: left">number</td>
<td>已廢棄! 平臺有效掛單占比</td>
</tr>
<tr>
<td style="text-align: left">score</td>
<td style="text-align: left">number</td>
<td>流動性貢獻分</td>
</tr>
</tbody></table>
<h2 id='t-switchpositionmode'>切換倉位模式</h2>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/private/position/switch-mode \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","mode":0,"timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577477968.175013</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577477968183</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>單倉模式下，只能在單方向下持倉<br/>雙倉模式下，可以同時在兩個方向持倉。</p>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=ulSwitchMode>/v2/private/position/switch-mode</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#ulSwitchMode"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">mode</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">int</td>
<td>倉位模式<span>:</span> 0 - 單倉模式  3 - 雙倉模式</td>
</tr>
</tbody></table>
<h1 id='t-wallet'>錢包接口</h1>
<p>錢包相關接口需要認證。</p>
<h3 id='t-balance'>獲取錢包余額</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/wallet/balance?api_key={api_key}&amp;coin=BTC&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_getBalance</span><span class="p">(</span><span class="n">coin</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">get_wallet_balance</span><span class="p">(</span><span class="n">coin</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">))</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">equity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1002</span><span class="p">,</span>                         <span class="c1">//equity = wallet_balance + unrealised_pnl</span>
            <span class="dl">"</span><span class="s2">available_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mf">999.99987471</span><span class="p">,</span>      <span class="c1">//available_balance</span>
            <span class="c1">//In Isolated Margin Mode:</span>
            <span class="c1">// available_balance = wallet_balance - (position_margin + occ_closing_fee + occ_funding_fee + order_margin)</span>
            <span class="c1">//In Cross Margin Mode:</span>
              <span class="c1">//if unrealised_pnl &gt; 0:</span>
              <span class="c1">//available_balance = wallet_balance - (position_margin + occ_closing_fee + occ_funding_fee + order_margin)；</span>
              <span class="c1">//if unrealised_pnl &lt; 0:</span>
              <span class="c1">//available_balance = wallet_balance - (position_margin + occ_closing_fee + occ_funding_fee + order_margin) + unrealised_pnl</span>
            <span class="dl">"</span><span class="s2">used_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00012529</span><span class="p">,</span>              <span class="c1">//used_margin = wallet_balance - available_balance</span>
            <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00012529</span><span class="p">,</span>             <span class="c1">//Used margin by order</span>
            <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                   <span class="c1">//position margin</span>
            <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                   <span class="c1">//position closing fee</span>
            <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                   <span class="c1">//funding fee</span>
            <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>                 <span class="c1">//wallet balance. When in Cross Margin mod, the number minus your unclosed loss is your real wallet balance.</span>
            <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                      <span class="c1">//daily realized profit and loss</span>
            <span class="dl">"</span><span class="s2">unrealised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>                    <span class="c1">//unrealised profit and loss</span>
                <span class="c1">//when side is sell:</span>
                <span class="c1">// unrealised_pnl = size * (1.0 / mark_price -  1.0 / entry_price）</span>
                <span class="c1">//when side is buy:</span>
                <span class="c1">// unrealised_pnl = size * (1.0 / entry_price -  1.0 / mark_price）</span>
            <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                  <span class="c1">//total relised profit and loss</span>
            <span class="dl">"</span><span class="s2">given_cash</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                        <span class="c1">//given_cash</span>
            <span class="dl">"</span><span class="s2">service_cash</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>                       <span class="c1">//service_cash</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1578284274.816029</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取錢包余額</p>

<aside class="notice">
接口返回值中的<code>position_margin</code> 不同於 <a href="https://www.bybit.com/app/wallet/money">網站上的倉位保證金</a>
<p>網站倉位保證金計算公式: <code>position_margin</code> + <code>occ_funding_fee</code> + loss(當你的可用余額不足時)</p>

</aside>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpwBalance>/v2/private/wallet/balance</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpwBalance"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#currency-currency-coin">coin</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td><code>currency</code> alias，如果不傳參數coin，將返回所有錢包余額。</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">equity</td>
<td style="text-align: left">number</td>
<td>用戶資產</td>
</tr>
<tr>
<td style="text-align: left">available_balance</td>
<td style="text-align: left">number</td>
<td>可用余額, 錢包余額 - 倉位保證金</td>
</tr>
<tr>
<td style="text-align: left">used_margin</td>
<td style="text-align: left">number</td>
<td>已用保證金</td>
</tr>
<tr>
<td style="text-align: left">order_margin</td>
<td style="text-align: left">number</td>
<td>委托預占用保證金</td>
</tr>
<tr>
<td style="text-align: left">position_margin</td>
<td style="text-align: left">number</td>
<td>倉位保證金</td>
</tr>
<tr>
<td style="text-align: left">occ_closing_fee</td>
<td style="text-align: left">number</td>
<td>倉位占用的平倉手續費</td>
</tr>
<tr>
<td style="text-align: left">occ_funding_fee</td>
<td style="text-align: left">number</td>
<td>倉位size和當前資金費率預占用資金費用</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">number</td>
<td>錢包余額</td>
</tr>
<tr>
<td style="text-align: left">realised_pnl</td>
<td style="text-align: left">number</td>
<td>當日已結盈虧</td>
</tr>
<tr>
<td style="text-align: left">unrealised_pnl</td>
<td style="text-align: left">number</td>
<td>未結盈虧</td>
</tr>
<tr>
<td style="text-align: left">cum_realised_pnl</td>
<td style="text-align: left">number</td>
<td>累計已結盈虧</td>
</tr>
<tr>
<td style="text-align: left">given_cash</td>
<td style="text-align: left">number</td>
<td>體驗金</td>
</tr>
<tr>
<td style="text-align: left">service_cash</td>
<td style="text-align: left">number</td>
<td>抵扣金</td>
</tr>
</tbody></table>
<h3 id='t-walletrecords'>資金記錄</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/wallet/fund/records?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_getRecords</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">wallet_fund_records</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">235853</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">27913</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Realized P&amp;L</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00000023</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tx_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.03000353</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-10T00:00:29.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">234467</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">27913</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Realized P&amp;L</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000006</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tx_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.03000330</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-09T00:00:25.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577481867.115552</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577481867122</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>查詢資金記錄。</p>

<aside class="notice">
關於<code>Withdraw</code>和<code>Refund</code>類型數據的說明，請參考<a href="#t-withdrawrecords">提幣記錄</a>接口
</aside>

<aside class="notice">
如果用戶不通過<code>coin</code>傳入<code>USDT</code>，USDT記錄將不會被返回給用戶。
</aside>

<aside class="warning">
Deposit or withdrawal records which occurred after 2021-07-15 will not be shown by this endpoint. This is due to the introduction of the spot wallet at this time. New endpoints are being developed to show these missing records.
</aside>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oawfRecordsNew>/v2/private/wallet/fund/records</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawfRecordsNew"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#date-start_date-end_date">start_date</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>起始時間點</td>
</tr>
<tr>
<td style="text-align: left"><a href="#date-start_date-end_date">end_date</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>結束時間點</td>
</tr>
<tr>
<td style="text-align: left"><a href="#currency-currency-coin">currency</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>幣種類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#currency-currency-coin">coin</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td><code>currency</code> alias</td>
</tr>
<tr>
<td style="text-align: left"><a href="#wallet-fund-type-wallet_fund_type-type">wallet_fund_type</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>資金記錄類型</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>頁碼.默認取第一頁</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每頁數量, 最大50. 默認每頁20條</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left">coin</td>
<td style="text-align: left">string</td>
<td>幣種</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">string</td>
<td>資金類型</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">string</td>
<td>資金總量</td>
</tr>
<tr>
<td style="text-align: left">tx_id</td>
<td style="text-align: left">string</td>
<td>交易哈希ID</td>
</tr>
<tr>
<td style="text-align: left">address</td>
<td style="text-align: left">string</td>
<td>地址</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">string</td>
<td>錢包余額</td>
</tr>
<tr>
<td style="text-align: left">exec_time</td>
<td style="text-align: left">string</td>
<td>交易時間</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本號</td>
</tr>
</tbody></table>
<h3 id='t-withdrawrecords'>提幣記錄</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/wallet/withdraw/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_withdraw</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">withdraw_records</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[{</span>
          <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">137</span><span class="p">,</span>                                        
          <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                                     
          <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XRP</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">//<a href="#currency-currency-coin">幣種枚舉</a>                                    </span>
          <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Pending</span><span class="dl">"</span> <span class="c1">//<a href="#withdraw-status-status">提幣狀態枚舉</a></span>
          <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">20.00000000</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.25000000</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">rH7H595XYEVTEHU2FySYsWnmfACBnZS9zM</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">tx_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">submited_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-06-11T02:20:24.000Z</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-06-11T02:20:24.000Z</span><span class="dl">"</span>
      <span class="p">}]</span>
      <span class="dl">"</span><span class="s2">current_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">last_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577482295.125488</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577482295132</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p><p>查詢提幣記錄。</p>
<p>請註意該接口數據和<code>資金記錄</code>中<code>Withdraw</code>類型數據的區別：</p>
<p>在該接口中，一次提幣申請對應一條記錄，並且有<code>status</code>字段表示當前提幣狀態。</p>
<p>在<code>資金記錄</code>接口中，一旦用戶申請提幣，就會產生一條<code>Withdraw</code>類型的數據，並且當提幣申請取消、過期、或審核拒絕的時候，資金記錄中會再新增一條<code>Refund</code>類型的數據。</p>
</p>

<aside class="warning">
Deposit or withdrawal records which occurred after 2021-07-15 will not be shown by this endpoint. This is due to the introduction of the spot wallet at this time. New endpoints are being developed to show these missing records.
</aside>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oawwListNew>/v2/private/wallet/withdraw/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawwListNew"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#date-start_date-end_date">start_date</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>起始時間點</td>
</tr>
<tr>
<td style="text-align: left"><a href="#date-start_date-end_date">end_date</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>結束時間點</td>
</tr>
<tr>
<td style="text-align: left"><a href="#currency-currency-coin">coin</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>幣種類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#withdraw-status-status">status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td><a href="#withdraw-status-status">提幣狀態枚舉</a></td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>頁碼.默認取第一頁</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每頁數量, 最大50. 默認每頁20條</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left">coin</td>
<td style="text-align: left">string</td>
<td>幣種</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">string</td>
<td><a href="#withdraw-status-status">提幣狀態枚舉</a></td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">string</td>
<td>資金總量</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">string</td>
<td>手續費率</td>
</tr>
<tr>
<td style="text-align: left">address</td>
<td style="text-align: left">string</td>
<td>地址</td>
</tr>
<tr>
<td style="text-align: left">tx_id</td>
<td style="text-align: left">string</td>
<td>交易哈希ID</td>
</tr>
<tr>
<td style="text-align: left">submited_at</td>
<td style="text-align: left">string</td>
<td>提交時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
</tbody></table>
<h3 id='t-assetexchangerecords'>資產兌換記錄</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/v2/private/exchange-order/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">,</span>
               <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">asset_exchange_records</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exchange_rate</span><span class="dl">"</span><span class="p">:</span> <span class="mf">40.57202774</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">to_coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ETH</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">to_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mf">4.05720277</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0005</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-06-15 03:32:52</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exchange_rate</span><span class="dl">"</span><span class="p">:</span> <span class="mf">39.92359901</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">to_coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ETH</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">to_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mf">39.923599</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0005</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-06-12 08:27:51</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1592554785.486414</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1592554785484</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>

</code></pre></div>
<p>查詢資產兌換記錄</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpeOrder>/v2/private/exchange-order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpeOrder"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每頁數量, 最大50. 默認每頁20條</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>起始ID，默認為最新id</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>搜索方向：Prev:以起始ID升序檢索,Next:起始ID降序檢索，默認為Next</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">from_coin</td>
<td style="text-align: left">string</td>
<td>兌出幣種</td>
</tr>
<tr>
<td style="text-align: left">from_amount</td>
<td style="text-align: left">number</td>
<td>兌出數量</td>
</tr>
<tr>
<td style="text-align: left">to_coin</td>
<td style="text-align: left">string</td>
<td>兌入幣種</td>
</tr>
<tr>
<td style="text-align: left">to_amount</td>
<td style="text-align: left">number</td>
<td>兌入數量</td>
</tr>
<tr>
<td style="text-align: left">exchange_rate</td>
<td style="text-align: left">number</td>
<td>兌換匯率</td>
</tr>
<tr>
<td style="text-align: left">from_fee</td>
<td style="text-align: left">number</td>
<td>兌換手續費(兌出幣種計價)</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>兌換時間</td>
</tr>
</tbody></table>
<h1 id='t-api'>通用數據接口</h1>
<p>通用數據接口不需要鑒權。</p>
<h3 id='t-servertime'>服務器時間</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/time
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Common</span><span class="p">.</span><span class="n">Common_getTime</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">HTTP</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">HTTP</span><span class="p">(</span><span class="s">"https://api-testnet.bybit.com"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">session</span><span class="p">.</span><span class="n">server_time</span><span class="p">())</span>  
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577444332.192859</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取Bybit服務器時間</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpTime>/v2/public/time</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpTime"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
</tbody></table>
<h3 id='t-announcement'>公告</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/announcement
</span></code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">title</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-02 RELEASE</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">link</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/CHANGELOG.md</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">summary</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;p&gt;New `cancel all` endpoint is here now!&lt;/p&gt;&lt;p&gt;Additionally, we strongly recommend that you use the new released place and cancel active V2 endpoints, which are more stable and efficient.The old ones are deprecated (although still working for the time be</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-02T11:33:42Z</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577444818.227082</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取Bybit最近30天OpenAPI公告（時間倒敘排列）</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpAnnouncement>/v2/public/announcement</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpAnnouncement"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
</tbody></table>
<h1 id='t-ratelimits'>頻率限製</h1><h3 id='t-ipratelimits'>IP頻率限製</h3>
<p><p>The IP limits are shared across all endpoints: futures, spot, and account asset.</p>
<p>Bybit has different IP frequency limits for <code>GET</code> and <code>POST</code> method<span>:</span></p>
<ul>
<li>
  <code>GET</code> method:
  <ul>
    <li>12 requests per second continuously for 2 minutes</li>
    <li>18 requests per second continuously for 5 seconds</li>
  </ul>
</li>
<li>
  <code>POST</code> method:
  <ul>
    <li>10 requests per second continuously for 2 minutes</li>
    <li>15 requests per second continuously for 5 seconds</li>
  </ul>
</li>
</ul>
</p>
<h3 id='t-understandingratelimits'>賬戶頻率限製</h3>
<p>Bybit基於<b>每分鐘</b>的滾動時間窗口來做頻率限製，並且是按<b>賬戶</b>（uid）和交易對（symbol）來做劃分限製，每次請求API響應中都會包含如下字段：
</p>
<div class="highlight"><pre class="highlight plaintext"><code>"rate_limit_status": 119,
"rate_limit_reset_ms": 1572114055663,
"rate_limit": 120
</code></pre></div>
<ul>
<li><code>rate_limit_status</code> - 該接口當前時間窗口剩余可用請求數</li>
<li><code>rate_limit</code> - 該接口當前頻率限製上限</li>
<li><code>rate_limit_reset_ms</code> - 如果您已超過該接口當前窗口頻率限製，該字段表示下個可用時間窗口的時間戳（毫秒），即什麽時候可以恢復訪問；如果您未超過該接口當前窗口頻率限製，該字段表示返回的是當前服務器時間（毫秒).</li>
</ul>
<h3 id='t-perendpoint'>接口頻率限製表</h3>
<table class="custom_table">
  <tr>
    <th>頻率限製</th>
    <th>請求路徑</th>
    <th>消耗</th>
  </tr>
  <tr>
    <td rowspan="10">100/min</td>  
  </tr>
  <tr><td>/v2/private/order/cancel       </td><td>1 / request</td></tr>
  <tr><td>/v2/private/stop-order/create  </td><td>1 / request</td></tr>
  <tr><td>/v2/private/stop-order/cancel  </td><td>1 / request</td></tr>
  <tr><td>/v2/private/order/replace      </td><td>1 / request</td></tr>
  <tr><td>/v2/private/stop-order/replace </td><td>1 / request</td></tr>
  <tr><td>/v2/private/order/create     </td><td>1 / request</td></tr>
  <tr><td>/v2/private/order/cancel     </td><td>1 / request</td></tr>
  <tr><td>/v2/private/order/cancelAll  </td><td>10 / request</td></tr>
  <tr><td>/v2/private/stop-order/cancelAll </td><td>10 / request</td></tr>
  <tr>
    <td rowspan="3">600/min</td>
    <td>/v2/private/order/list </td>
    <td>1 / request</td>
  </tr>
  <tr><td>/v2/private/stop-order/list </td><td>1 / request</td></tr>
  <tr><td>/v2/private/order </td><td>1 / request</td></tr>
  <tr>
    <td>120/min</td>
    <td>/v2/private/execution/list</td>
    <td>1 / request</td>
  </tr>
  <tr>
    <td rowspan="5">75/min</td>
    <td>/v2/private/position/leverage/save </td>
    <td>1 / request</td>
  </tr>
  <tr><td>/v2/private/position/change-position-margin</td><td>1 / request</td></tr>
  <tr><td>/v2/private/position/trading-stop</td><td>1 / request</td></tr>
  <tr><td>/v2/private/tpsl/switch-mode</td><td>1 / request</td></tr>
  <tr><td>/v2/private/position/fee-rate</td><td>1 / request</td></tr>
  <tr>
    <td rowspan="3">120/min</td>
  </tr>
  <tr><td>/v2/private/position/list</td><td>1 / request</td></tr>
    <tr><td>/v2/private/wallet/balance</td><td>1 / request</td></tr>
  <tr>
    <td rowspan="4">120/min</td>
    <tr><td>/v2/private/funding/prev-funding-rate</td>
    <td>1 / request</td>
  </tr>
  <tr><td>/v2/private/funding/prev-funding</td><td>1 / request</td></tr>
  <tr><td>/v2/private/funding/predicted-funding</td><td>1 / request</td></tr>
  <tr>
    <td rowspan="3">120/min</td>
    <tr><td>/v2/private/wallet/fund/records</td>
    <td>1 / request</td>
  </tr>
<tr><td>/v2/private/wallet/withdraw/list</td><td>1 / request</td></tr>
<tr>
    <td rowspan="2">600/min</td>
    <tr><td>/v2/private/account/api-key</td>
    <td>1 / request</td>
  </tr>
</table>
<h3 id='t-orderlimits'>下單限製</h3>
<p><p>每個交易對可以持有的訂單數量上限：</p>
<ul>
<li>活動單: 500</li>
<li>條件單: 10</li>
</ul>
</p>
<h3 id='t-raisemylimit'>如何提高頻率限製</h3>
<p><ul>
<li>請先閱讀<a href="#t-raisemylimit">如何滿足提高頻率限製條件</a></li>
<li>請發送郵件到 <a href="mailto:api@bybit.com">api@bybit.com</a>，我們會在 1-4 個工作日內答復。郵件內容必須包含以下內容：</li>
<ol>
  <li>您的姓名和公司名稱和簡介</li>
  <li>您的bybit 賬號uid或註冊郵箱手機號,以及您要申請提頻的交易對</li>
  <li>您上個月的交易量（吃單/掛單）並提供截圖</li>
  <li>簡單介紹您的交易策略和為什麽需要更高限頻</li>
  <li>如果可以，請提供您的成交記錄csv文檔</li>
</ol>
</ul>
</p>
<h3 id='t-liquidity'>Bybit流動性貢獻系統</h3>
<p><p>Bybit 使用<code>報單成交率</code> 和 <code>流動性貢獻打分</code>來評價用戶對改善bybit可執行流動性作出的貢獻。</p>
<p>不同symbol的<code>貢獻分</code>和<code>報單成交率</code>是獨立計算的。</p>
</p>
<h4 id='t-ofrthreshold'>報單成交率</h4>
<p>平臺上每天提交超過<code>2000</code>個報單的賬戶，需要保持<code>7天</code>的報單成交率高於<code>最小報單成交率門檻值</code>，違反此規則將會被降低頻率或禁用 API。
</p>
<h5 id='t-ofrratio'>報單成交率</h5>
<p><ul>
<li><code>報單成交率</code>: 定義為 一段時間段內，用戶已成交報單數量占該用戶已提交報單數量的比例</li>
<li><code>已提交報單</code>: 是任何已成功發送到平臺的委托</li>
<li><code>已成交報單</code>: 是成交了任何數量的委托</li>
<li><code>報單成交率 = ( 一段時間內用戶的已成交報單數量 / 一段時間內已提交報單數量)</code></li>
</ul>
</p>
<h5 id='t-ofrratioexample'>報單成交率舉例</h5>
<pre class="center-column-nonindent">
A用戶：
已成交報單數量 = 2
已提交報單數量 =8
報單成交率 = 2 / 8 = 25％

</pre>

<pre class="center-column-nonindent">
B用戶：
已成交報單數量 = 1
已提交報單數量 =1
報單成交率 = 1 / 1 = 100％

</pre>
<h5 id='t-ofrminimum'>API 交易用戶最小報單成交率門檻</h5>
<p><code>7</code>日內API 交易用戶最小報單成交率門檻 0.1%</p>
<h4 id='t-frequencylimit'>API 交易用戶提高頻率的條件</h4>
<p>平臺會根據API用戶近<code>7</code>日掛單對<code>平臺流動性貢獻分</code>的最低值，對滿足條件的用戶進行提高頻率上限的獎勵</p>

<table><thead>
<tr>
<th>流動性貢獻分</th>
<th>Order頻率限製</th>
</tr>
</thead><tbody>
<tr>
<td>20-100</td>
<td>800次 / 每分鐘</td>
</tr>
<tr>
<td>10-20</td>
<td>600次 / 每分鐘</td>
</tr>
<tr>
<td>5-10</td>
<td>400次 / 每分鐘</td>
</tr>
<tr>
<td>2-5</td>
<td>200次 / 每分鐘</td>
</tr>
<tr>
<td>&lt;2</td>
<td>100次 / 每分鐘</td>
</tr>
</tbody></table>
<h5 id='t-liquiditypoints'>流動性貢獻打分</h5>
<p><ul>
<li><code>流動性貢獻打分 = 有效價格掛單自占比 * 有效價格掛單量平臺占比 * 100</code></li>
</ul>
</p>
<h5 id='t-ratelimitsexplanation'>名詞解釋</h5><h6 id='t-pricerange'>有效價格掛單</h6>
<p><ul>
<li><p><code>有效價格掛單</code>: 定義為在距離盤口中間價較近的規定範圍內的掛單被定義為有效價格掛單.</p>
</li>
<li><p><code>最佳競價中間價</code>:  (最佳競買價 + 最佳競賣價) 的均值</p>
</li>
<li><p><code>最佳競價中間價 = 1/2*（最佳競買價 + 最佳競賣價）</code></p>
</li>
</ul>
</p>
<h6 id='t-pricerangeexample'>有效價格範圍</h6>
<pre class="center-column-nonindent">
[最佳競價中間價 - 3 * 價格最小變動單位, 最佳競價中間價 + 3 * 價格最小變動單位]

舉例：
 BTC最佳競買價 = 10000
 BTC最佳競賣價 = 10001
 「有效價格」範圍：
 [(10000 + 10001) / 2 - 3* 0.5, (10000 + 10001) / 2 + 3* 0.5] = [9999,10002]

</pre>
<h6 id='t-pou'>有效價格掛單自占比</h6>
<p><ul>
<li><code>有效價格掛單自占比</code>: 定義為該用戶在 <code>有效價格 </code> 範圍內的掛單數量占該用戶在當前時間提交的掛單總數量的比例。</li>
</ul>
<p>每秒計算 該用戶在<code>有效價格</code>範圍內的報掛單數量 /該用戶提交的掛單總數量，然後每日計算用戶當日占比的平均值。</p>
</p>

<pre class="center-column-nonindent">
該用戶在<code>有效價格</code>範圍內的掛單數量 = 8000
該用戶提交的掛單總數量 = 10000
有效價格掛單自占比 = 8000 / 10000 = 0.8

</pre>
<h6 id='t-poa'>有效價格掛單平臺占比</h6>
<p><ul>
<li><code>有效價格掛單平臺占比</code>: 定義為該用戶在有效價格範圍內的掛單數量占平臺所有用戶在<code>有效價格</code>範圍內的掛單總數量的比例.</li>
</ul>
<p>每秒計算 該用戶在<code>有效價格</code>範圍內的掛單數量 / 平臺所有用戶在<code>有效價格</code>範圍內的掛單總數量，然後每日計算用戶當日占比的平均值。</p>
</p>
<h6 id='t-poaexample'>有效價格掛單平臺占比舉例：</h6>
<p>某一秒，用戶在「有效價格」範圍：[9999, 10002] 內的掛單有8000張，全平臺的交易委托賬本在 [9999, 10002] 內的掛單總量為200000。</p>

<pre class="center-column-nonindent">
該用戶在<code>有效價格</code>範圍內的掛單數量 = 8000
平臺所有用戶在<code>有效價格</code>範圍內的掛單總數量 = 200000
有效價格掛單量平臺占比 = 8000 / 200000 = 0.04

</pre>

<aside class="notice">
如果機製有更新，我們會提前通過官網提前通知。
</aside>
<h1 id='t-websocket'>WebSocket接口</h1><h2 id='t-websocketauthentication'>鑒權/認證</h2>
<blockquote>
<p>認證方式:
</p>

<p>方法1: 建立連接時附帶驗證信息.
</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="c1"># based on: https://github.com/verata-veritatis/pybit/blob/master/pybit/__init__.py
</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">websocket</span>

<span class="n">ws_url</span> <span class="o">=</span> <span class="s">"wss://stream.bybit.com/realtime"</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">""</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">""</span>

<span class="c1"># Generate expires.
</span><span class="n">expires</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>

<span class="c1"># Generate signature.
</span><span class="n">signature</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span>
    <span class="nb">bytes</span><span class="p">(</span><span class="n">api_secret</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span>
    <span class="nb">bytes</span><span class="p">(</span><span class="sa">f</span><span class="s">"GET/realtime</span><span class="si">{</span><span class="n">expires</span><span class="si">}</span><span class="s">"</span><span class="p">,</span> <span class="s">"utf-8"</span><span class="p">),</span> <span class="n">digestmod</span><span class="o">=</span><span class="s">"sha256"</span>
<span class="p">).</span><span class="n">hexdigest</span><span class="p">())</span>

<span class="n">param</span> <span class="o">=</span> <span class="s">"api_key={api_key}&amp;expires={expires}&amp;signature={signature}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span>
    <span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">,</span>
    <span class="n">expires</span><span class="o">=</span><span class="n">expires</span><span class="p">,</span>
    <span class="n">signature</span><span class="o">=</span><span class="n">signature</span>
<span class="p">)</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">ws_url</span> <span class="o">+</span> <span class="s">"?"</span> <span class="o">+</span> <span class="n">param</span>

<span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="p">.</span><span class="n">WebSocketApp</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
    <span class="p">...</span>
<span class="p">)</span>
</code></pre></div>
<blockquote>
<p>方法2: 建立連接後發送auth請求驗證.
</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="n">ws</span> <span class="o">=</span> <span class="n">websocket</span><span class="p">.</span><span class="n">WebSocketApp</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span>
    <span class="p">...</span>
<span class="p">)</span>

<span class="c1"># Authenticate with API.
</span><span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span>
    <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">({</span>
        <span class="s">"op"</span><span class="p">:</span> <span class="s">"auth"</span><span class="p">,</span>
        <span class="s">"args"</span><span class="p">:</span> <span class="p">[</span><span class="n">api_key</span><span class="p">,</span> <span class="n">expires</span><span class="p">,</span> <span class="n">signature</span><span class="p">]</span>
    <span class="p">})</span>
<span class="p">)</span>
</code></pre></div>
<aside class="notice">
<b>請注意，以下接口僅適用於 <i>反向永續/反向交割</i></b>. 要監聽其他 websocket，請轉到:
<ul>
  <li><a href="https://bybit-exchange.github.io/docs/linear/#t-websocketauthentication">USDT (正向) 永續</a></li>
  <li><a href="https://bybit-exchange.github.io/docs/spot/#t-websocketauthentication">現貨</a></li>
</ul>

</aside>

<p><p>Websocket服務器地址:</p>
<ul>
<p>
  <li>測試網:
    <span id="testnet_address">wss://stream-testnet.bybit.com/realtime</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#testnet_address"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
</p>
<p>
  <li>主網(請根據您的網絡情況選擇以下任意一個地址使用):<br/>
    <span id="mainnet_address">wss://stream.bybit.com/realtime</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#mainnet_address"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
    <br/>
    <span id="mainnet_address_2">wss://stream.bytick.com/realtime</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#mainnet_address_2"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
</p>
</ul>
</p>

<aside class="notice">
<b>公共類</b>topics不需要進行驗證. 以下部分只適用於 <b>私有</b> 類接口.
</aside>

<p>驗證示例如右側代碼區所示</p>

<aside class="notice">
點擊查看 <a href="https://github.com/bybit-exchange/api-usage-examples">示例加密算法</a>.
</aside>

<aside class="warning">
由於網絡的復雜性，您和Bybit的websocket鏈接隨時可能會斷開，為了保證您能及時收到websocket推送消息，強烈建議您按照以下建議處理網絡異常： <p>1. 通過<a href="#t-heartbeat">發送心跳包</a>保持連接</p> <p>2. 一旦發現連接斷開，應該立刻重新建立連接。</p>
</aside>
<h2 id='t-heartbeat'>心跳包/Ping</h2>
<blockquote>
<p>如何發送心跳包</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"ping"}</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// Whether ping is successful</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pong</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">conn_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">036e5d21-804c-4447-a92d-b65a44d00700</span><span class="dl">"</span><span class="p">,</span><span class="c1">// current connection id</span>
    <span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">op</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ping</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">args</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<aside class="warning">
由於網絡或者程序不穩定,我們強烈建議您使用 <code>ping</code> 心跳包來維持連接. 心跳包建議每30秒發送一次.
</aside>

<!-- 连接数限制
## 頻率限製
註意，每個api_key最多可以保持20個Websocket連接.超過20個連接後的新連接會被服務器拒絕.
-->
<h2 id='t-subscribe'>訂閱方式</h2><h3 id='t-websocketfilters'>Websocket訂閱方式</h3>
<blockquote>
<p>直接訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// Subscribing to the trade data for BTCUSD</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"subscribe","args":["trade.BTCUSD"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>通過分隔符來訂閱多個topic</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// Example: Subscribing to the trade data for BTCUSD and XRPUSD</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"subscribe","args":["trade.BTCUSD|XRPUSD"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>通過匹配符來訂閱多個topic</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// Example: Subscribing to the trade data for all symbols</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["trade.*"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div>
<p>建立連接後, 可以通過發送JSON請求來訂閱topic. 其中binary為false表示不進行壓縮傳輸，為true時表示以GZIP格式進行壓縮，請求格式如下:
</p>

<p><code>ws.send(&#39;{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&quot;topic.filter&quot;]}&#39;);</code></p>

<p><p>您也可以同時訂閱多個感興趣的topic，訂閱方式如下</p>
</p>

<p><code>ws.send(&#39;{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&quot;topic.filter&quot;, &quot;topic.filter&quot;]}&#39;);</code></p>

<p><p>您可以使用管道符號(<code>|</code>)來分割多個參數，前提是這些參數都是合法的.</p>
<p>您還可以使用匹配符號(<code>*</code>)來匹配多個topic，具體用法見右側代碼欄</p>
</p>
<h3 id='t-websocketunsubfilters'>Websocket取消訂閱方式</h3>
<blockquote>
<p>取消訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// Unsubscribing from the trade data for ETHUSD</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"unsubscribe","args":["trade.ETHUSD"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div>
<p>您可以在不斷開連接的前提下動態調整您要訂閱的信息，取消訂閱方式如下:
</p>

<p><code>ws.send(&#39;{&quot;op&quot;: &quot;unsubscribe&quot;, &quot;args&quot;: [&quot;topic.filter&quot;, &quot;topic.filter&quot;]}&#39;);</code></p>
<h3 id='t-intervals'>推送周期</h3>
<p>如果topic名中包含一個<code>推送周期</code>，如<code>100ms</code>, 那麽表明這個topic是每隔<code>100ms</code>推送一次.否則, 這個topic<code>只要有消息就會推送</code>.</p>
<h2 id='t-websocketresponse'>訂閱結果</h2>
<blockquote>
<p>訂閱推送</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
   <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// Whether subscription is successful</span>
   <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>   <span class="c1">// Successful subscription: "", otherwise it shows error message</span>
   <span class="dl">"</span><span class="s2">conn_id</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">e0e10eee-4eff-4d21-881e-a0c55c25e2da</span><span class="dl">"</span><span class="p">,</span><span class="c1">// current connection id</span>
   <span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>     <span class="c1">// Request to your subscription</span>
       <span class="dl">"</span><span class="s2">op</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">subscribe</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">args</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
           <span class="dl">"</span><span class="s2">kline.BTCUSD.1m</span><span class="dl">"</span>
       <span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>每個topic訂閱請求都會有對應的響應，您可以根據返回結果判斷是否訂閱成功。</p>
<h2 id='t-publictopics'>公共 Topics</h2><h3 id='t-websocketorderbook25'>orderBook25檔</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["orderBookL2_25.BTCUSD"]}</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_orderBookL2</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"orderBookL2_25.BTCUSD"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"orderBookL2_25.BTCUSD"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>快照推送示例 - 連接建立成功後首次推送</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orderBookL2_25.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">snapshot</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2999.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3001.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">}</span>
     <span class="p">],</span>
     <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11518</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1555647164875373</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>增量推送示例 - 快照數據推送後，推送的增量數據</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orderBookL2_25.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">delta</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">"</span><span class="s2">delete</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3001.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">update</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2999.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">insert</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2998.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29980000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">transactTimeE6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
     <span class="p">},</span>
     <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11519</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1555647221331673</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取25檔orderbook數據.</p>

<aside class="notice">
想要更多深度？請使用<a href="#t-websocketorderbook200">orderBookL2_200</a> topic
</aside>

<p><p>訂閱成功後, 會立即得到一個當前快照包的推送信息. orderbook數據按訂單價格升序排列, 從最低價格的買單到最高價格的賣單.</p>
<p>快照包之後，每當orderbook發生變化，websocket都會推送這些變化的增量數據.</p>
<p>推送頻率：<b>20ms</b></p>
</p>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">string</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>倉位數量</td>
</tr>
</tbody></table>
<h3 id='t-websocketorderbook200'>orderBook200檔</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["orderBook_200.100ms.BTCUSD"]}</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"orderBook_200.100ms.BTCUSD"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>快照推送示例 - 連接建立成功後首次推送</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orderBook_200.100ms.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">snapshot</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2999.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3001.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">}</span>
     <span class="p">],</span>
     <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11518</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1555647164875373</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>增量推送示例 - 快照數據推送後，推送的增量數據</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orderBook_200.100ms.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">delta</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">"</span><span class="s2">delete</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3001.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">update</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2999.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">insert</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2998.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29980000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">transactTimeE6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
     <span class="p">},</span>
     <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11519</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1555647221331673</span>
<span class="p">}</span>
</code></pre></div>
<p><p>獲取200檔orderbook數據.</p>
<p>訂閱成功後, 會立即得到一個當前快照包的推送信息. orderbook數據按訂單價格升序排序, 從最低價格的買單到最高價格的賣單.</p>
<p>快照包之後，每當orderbook發生變化，websocket將會繼續推送這些增量數據.</p>
<p>推送頻率：<b>100ms</b></p>
</p>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">string</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>倉位數量</td>
</tr>
</tbody></table>
<h3 id='t-websockettrade'>平臺成交</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["trade"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_trade</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"trade.BTCUSD"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"trade"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">trade.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-12T16:59:59.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trade_time_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1582793344685</span><span class="p">,</span> <span class="c1">// trade time in millisecond</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">328</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8098</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">tick_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MinusTick</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trade_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">00c706e1-ba52-5bb0-98d0-bf694bdc69f7</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1052816407</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p><p>獲取Bybit平臺最近成交數據.</p>
<p>推送頻率：<b>100ms</b></p>
</p>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">string</td>
<td>UTC 時間</td>
</tr>
<tr>
<td style="text-align: left">trade_time_ms</td>
<td style="text-align: left">number</td>
<td>毫秒時間戳</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>taker的買賣方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>倉位數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#tick-direction-type-tick_direction">tick_direction</a></td>
<td style="text-align: left">string</td>
<td>價格變化方向</td>
</tr>
<tr>
<td style="text-align: left">trade_id</td>
<td style="text-align: left">string</td>
<td>交易ID</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本號</td>
</tr>
</tbody></table>
<h3 id='t-websocketinsurance'>保險基金</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["insurance"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_insurance</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"insurance.BTC"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"insurance.BTC"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">insurance.BTC</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-11T20:00:00Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98786916569</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p><p>獲取保險基金數據.</p>
<p>推送頻率：<b>每天 20:00 UTC </b></p>
</p>

<aside class="notice">
註意<code>wallet_balance</code>的單位為<code>聰</code>, 1聰等於一百萬分之一個比特幣.
</aside>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">currency</td>
<td style="text-align: left">string</td>
<td>幣種類型</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">string</td>
<td>UTC 時間</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">number</td>
<td>錢包余額</td>
</tr>
</tbody></table>
<h3 id='t-websocketinstrumentinfo'>行情</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["instrument_info.100ms.BTCUSD"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_instrument_info</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"instrument_info.100ms.BTCUSD"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"instrument_info.100ms.BTCUSD"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>快照推送示例 - 連接建立成功後首次推送</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">instrument_info.100ms.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">snapshot</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
         <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                           <span class="c1">//instrument name</span>
         <span class="dl">"</span><span class="s2">last_price_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81165000</span><span class="p">,</span>                    <span class="c1">//the latest price</span>
         <span class="dl">"</span><span class="s2">last_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">81165000</span><span class="dl">"</span><span class="p">,</span>  
         <span class="dl">"</span><span class="s2">bid1_price_e4</span><span class="dl">"</span><span class="p">:</span><span class="mi">400025000</span><span class="p">,</span>                    <span class="c1">// best bid price</span>
         <span class="dl">"</span><span class="s2">bid1_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">400025000</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">ask1_price_e4</span><span class="dl">"</span><span class="p">:</span><span class="mi">475450000</span><span class="p">,</span>                    <span class="c1">// best ask price</span>
         <span class="dl">"</span><span class="s2">ask1_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">475450000</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">last_tick_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ZeroPlusTick</span><span class="dl">"</span><span class="p">,</span>        <span class="c1">//the direction of last tick:PlusTick,ZeroPlusTick,MinusTick,ZeroMinusTick</span>
         <span class="dl">"</span><span class="s2">prev_price_24h_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81585000</span><span class="p">,</span>                <span class="c1">//the price of prev 24h</span>
         <span class="dl">"</span><span class="s2">prev_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">81585000</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">price_24h_pcnt_e6</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">5148</span><span class="p">,</span>                   <span class="c1">//the current last price percentage change from prev 24h price</span>
         <span class="dl">"</span><span class="s2">high_price_24h_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">82900000</span><span class="p">,</span>                <span class="c1">//the highest price of prev 24h</span>
         <span class="dl">"</span><span class="s2">high_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">82900000</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">low_price_24h_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">79655000</span><span class="p">,</span>                 <span class="c1">//the lowest price of prev 24h</span>
         <span class="dl">"</span><span class="s2">low_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">79655000</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">prev_price_1h_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81395000</span><span class="p">,</span>                 <span class="c1">//the price of prev 1h</span>
         <span class="dl">"</span><span class="s2">prev_price_1h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">81395000</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">price_1h_pcnt_e6</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">2825</span><span class="p">,</span>                    <span class="c1">//the current last price percentage change from prev 1h price</span>
         <span class="dl">"</span><span class="s2">mark_price_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81178500</span><span class="p">,</span>                    <span class="c1">//mark price</span>
         <span class="dl">"</span><span class="s2">mark_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">81178500</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">index_price_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81172800</span><span class="p">,</span>                   <span class="c1">//index price</span>
         <span class="dl">"</span><span class="s2">index_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">81172800</span><span class="dl">"</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">open_interest</span><span class="dl">"</span><span class="p">:</span> <span class="mi">154418471</span><span class="p">,</span>                   <span class="c1">//open interest quantity - Attention, the update is not immediate - slowest update is 1 minute</span>
         <span class="dl">"</span><span class="s2">open_value_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1997561103030</span><span class="p">,</span>               <span class="c1">//open value quantity - Attention, the update is not immediate - the slowest update is 1 minute</span>
         <span class="dl">"</span><span class="s2">total_turnover_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2029370141961401</span><span class="p">,</span>        <span class="c1">//total turnover</span>
         <span class="dl">"</span><span class="s2">turnover_24h_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9072939873591</span><span class="p">,</span>             <span class="c1">//24h turnover</span>
         <span class="dl">"</span><span class="s2">total_volume</span><span class="dl">"</span><span class="p">:</span> <span class="mi">175654418740</span><span class="p">,</span>                 <span class="c1">//total volume</span>
         <span class="dl">"</span><span class="s2">volume_24h</span><span class="dl">"</span><span class="p">:</span> <span class="mi">735865248</span><span class="p">,</span>                      <span class="c1">//24h volume</span>
         <span class="dl">"</span><span class="s2">funding_rate_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>                       <span class="c1">//funding rate</span>
         <span class="dl">"</span><span class="s2">predicted_funding_rate_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>             <span class="c1">//predicted funding rate</span>
         <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1053192577</span><span class="p">,</span>                      <span class="c1">//sequence</span>
         <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-11-14T16:33:26Z</span><span class="dl">"</span><span class="p">,</span>         
         <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-12T18:25:16Z</span><span class="dl">"</span><span class="p">,</span>         
         <span class="dl">"</span><span class="s2">next_funding_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-13T00:00:00Z</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">//next funding time</span>
                                                       <span class="c1">//the rest time to settle funding fee</span>
         <span class="dl">"</span><span class="s2">countdown_hour</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>                           <span class="c1">//the remaining time to settle the funding fee</span>
         <span class="dl">"</span><span class="s2">funding_rate_interval</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8</span>
         <span class="p">},</span>
    <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span><span class="mi">9267002</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span><span class="mi">1615794861826248</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>增量推送示例 - 快照數據推送後，推送的增量數據</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">instrument_info.100ms.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">delta</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">delete</span><span class="dl">"</span><span class="p">:</span> <span class="p">[],</span>
        <span class="dl">"</span><span class="s2">update</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">prev_price_24h_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81565000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">prev_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">81565000</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price_24h_pcnt_e6</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">4904</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">open_value_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2000479681106</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">total_turnover_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2029370495672976</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">turnover_24h_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9066215468687</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">volume_24h</span><span class="dl">"</span><span class="p">:</span> <span class="mi">735316391</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1053192657</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-11-14T16:33:26Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-12T18:25:25Z</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="dl">"</span><span class="s2">insert</span><span class="dl">"</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1053192657</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1578853525691123</span>
<span class="p">}</span>
</code></pre></div>
<p><p>獲取合約的最新數據.</p>
<p>Push frequency: <b>100ms</b></p>
</p>

<aside class="warning">
註意，該topic只會推送<code>update</code>數據. <code>delete</code>和<code>insert</code>數據都為空. 如果<code>update</code>數據也為空,則表明信息沒有發生變化.

</aside>

<aside class="notice">
一些值以以科學計數法的形式被返回. 根據這個值的key的後綴, 如<code>total_turnover_e8</code>,則表明這個數字需要除以10^8. <br/>
例如<code>last_price_e4</code>的值為<code>81585000</code>, 那麽<code>81585000 / 10^4</code>,等於<code>8158.5</code>才是這個字段的真實值.

</aside>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">last_price_e4</td>
<td style="text-align: left">integer</td>
<td>（已廢棄）最新成交價 * 10^4</td>
</tr>
<tr>
<td style="text-align: left"><a href="#tick-direction-type-tick_direction">tick_direction</a></td>
<td style="text-align: left">string</td>
<td>價格變化方向</td>
</tr>
<tr>
<td style="text-align: left">prev_price_24h_e4</td>
<td style="text-align: left">integer</td>
<td>（已廢棄）24小時前的整點市價 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">price_24h_pcnt_e6</td>
<td style="text-align: left">integer</td>
<td>市價相對24h變化百分比 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">high_price_24h_e4</td>
<td style="text-align: left">integer</td>
<td>（已廢棄）最近 24 小時最高價 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">low_price_24h_e4</td>
<td style="text-align: left">integer</td>
<td>（已廢棄）最近 24 小時最低價 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">prev_price_1h_e4</td>
<td style="text-align: left">integer</td>
<td>（已廢棄）1小時前的整點市價 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">price_1h_pcnt_e6</td>
<td style="text-align: left">integer</td>
<td>市價相對1小時前變化百分比 * 10^6</td>
</tr>
<tr>
<td style="text-align: left">mark_price_e4</td>
<td style="text-align: left">integer</td>
<td>（已廢棄）標記價格 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">index_price_e4</td>
<td style="text-align: left">integer</td>
<td>（已廢棄）指數價格 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">last_price</td>
<td style="text-align: left">integer</td>
<td>最新成交價</td>
</tr>
<tr>
<td style="text-align: left">prev_price_24h</td>
<td style="text-align: left">integer</td>
<td>24小時前的整點市價</td>
</tr>
<tr>
<td style="text-align: left">high_price_24h</td>
<td style="text-align: left">integer</td>
<td>最近 24 小時最高價</td>
</tr>
<tr>
<td style="text-align: left">low_price_24h</td>
<td style="text-align: left">integer</td>
<td>最近 24 小時最低價</td>
</tr>
<tr>
<td style="text-align: left">prev_price_1h</td>
<td style="text-align: left">integer</td>
<td>1小時前的整點市價</td>
</tr>
<tr>
<td style="text-align: left">mark_price</td>
<td style="text-align: left">integer</td>
<td>標記價格</td>
</tr>
<tr>
<td style="text-align: left">index_price</td>
<td style="text-align: left">integer</td>
<td>指數價格</td>
</tr>
<tr>
<td style="text-align: left">open_interest</td>
<td style="text-align: left">integer</td>
<td>未平倉合約數量. 不是實時更新，最慢更新時間是一分鐘</td>
</tr>
<tr>
<td style="text-align: left">open_value_e8</td>
<td style="text-align: left">integer</td>
<td>未平倉價值 * 10^8. 不是實時更新，最慢更新時間是一分鐘</td>
</tr>
<tr>
<td style="text-align: left">total_turnover_e8</td>
<td style="text-align: left">integer</td>
<td>總營業額  * 10^8</td>
</tr>
<tr>
<td style="text-align: left">turnover_24h_e8</td>
<td style="text-align: left">integer</td>
<td>24小時營業額 * 10^8</td>
</tr>
<tr>
<td style="text-align: left">total_volume</td>
<td style="text-align: left">integer</td>
<td>總交易量</td>
</tr>
<tr>
<td style="text-align: left">volume_24h</td>
<td style="text-align: left">integer</td>
<td>最近 24 小時成交量</td>
</tr>
<tr>
<td style="text-align: left">predicted_funding_rate_e6</td>
<td style="text-align: left">integer</td>
<td>預測資金費率 * 10^6</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">integer</td>
<td>撮合版本號</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">next_funding_time</td>
<td style="text-align: left">string</td>
<td>下次結算資金費用時間</td>
</tr>
<tr>
<td style="text-align: left">countdown_hour</td>
<td style="text-align: left">integer</td>
<td>結算資金費用剩余時間</td>
</tr>
<tr>
<td style="text-align: left">funding_rate_interval</td>
<td style="text-align: left">integer</td>
<td>資金費率收取時間間隔，單位小時</td>
</tr>
</tbody></table>
<h3 id='t-websocketklinev2'>K線</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"subscribe","args":["klineV2.1.BTCUSD"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"klineV2.1.BTCUSD"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">klineV2.1.BTCUSD</span><span class="dl">"</span><span class="p">,</span>                <span class="c1">//topic name</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="dl">"</span><span class="s2">start</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1572425640</span><span class="p">,</span>                    <span class="c1">//start time of the candle</span>
        <span class="dl">"</span><span class="s2">end</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1572425700</span><span class="p">,</span>                      <span class="c1">//end time of the candle</span>
        <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9200</span><span class="p">,</span>                           <span class="c1">//open price</span>
        <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span> <span class="mf">9202.5</span><span class="p">,</span>                        <span class="c1">//close price</span>
        <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span> <span class="mf">9202.5</span><span class="p">,</span>                         <span class="c1">//max price</span>
        <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9196</span><span class="p">,</span>                            <span class="c1">//min price</span>
        <span class="dl">"</span><span class="s2">volume</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81790</span><span class="p">,</span>                        <span class="c1">//volume</span>
        <span class="dl">"</span><span class="s2">turnover</span><span class="dl">"</span><span class="p">:</span> <span class="mf">8.889247899999999</span><span class="p">,</span>          <span class="c1">//turnover</span>
        <span class="dl">"</span><span class="s2">confirm</span><span class="dl">"</span><span class="p">:</span> <span class="nx">False</span><span class="p">,</span>                       <span class="c1">//snapshot flag</span>
        <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">297503466</span><span class="p">,</span>                 
        <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1572425676958323</span>           <span class="c1">//cross time</span>
    <span class="p">}],</span>
    <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1572425677047994</span>            <span class="c1">//server time</span>
<span class="p">}</span>
</code></pre></div>
<p><p>目前所支持的周期:</p>
<ul>
<li>1 3 5 15 30</li>
<li>60 120 240 360</li>
<li>D</li>
<li>W</li>
<li>M</li>
</ul>
<p>推送頻率：<b>1-60s</b></p>
</p>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">start</td>
<td style="text-align: left">integer</td>
<td>開始時間戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">integer</td>
<td>結束時間戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">open</td>
<td style="text-align: left">number</td>
<td>開始價格</td>
</tr>
<tr>
<td style="text-align: left">close</td>
<td style="text-align: left">number</td>
<td>結束價格</td>
</tr>
<tr>
<td style="text-align: left">high</td>
<td style="text-align: left">number</td>
<td>最高價格</td>
</tr>
<tr>
<td style="text-align: left">low</td>
<td style="text-align: left">number</td>
<td>最低價格</td>
</tr>
<tr>
<td style="text-align: left">volume</td>
<td style="text-align: left">number</td>
<td>交易量</td>
</tr>
<tr>
<td style="text-align: left">turnover</td>
<td style="text-align: left">number</td>
<td>成交金額</td>
</tr>
<tr>
<td style="text-align: left">confirm</td>
<td style="text-align: left">bool</td>
<td>是否確認</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">integer</td>
<td>撮合版本號</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">integer</td>
<td>結束時間戳（秒）</td>
</tr>
</tbody></table>
<h3 id='t-websocketliquidation'>平臺強平推送</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"subscribe","args":["liquidation"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"liquidation"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">liquidation.ETHUSD</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">ETHUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">3384.15</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">3655</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time</span><span class="dl">"</span><span class="p">:</span><span class="mi">1631608881954</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><p>查詢平臺強平推送.</p>
<p>推送頻率：<b>實時的</b></p>
</p>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>被強平倉位的方向</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/en-us/articles/360039749813-What-is-Bankruptcy-Price-Inverse-Contract-">破產價格</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">string</td>
<td>交易數量</td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">number</td>
<td>毫秒時間戳</td>
</tr>
</tbody></table>
<h2 id='t-privatetopics'>私有 Topics</h2><h3 id='t-websocketposition'>持倉</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["position"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="n">api_secret</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_position</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"position"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"position"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
   <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">position</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">action</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">update</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>                            <span class="c1">// user ID</span>
           <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                       <span class="c1">// the contract for this position</span>
           <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>                               <span class="c1">// the current position amount</span>
           <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>                           <span class="c1">// side</span>
           <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00159252</span><span class="dl">"</span><span class="p">,</span>           <span class="c1">// positional value</span>
           <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6907.291588174717</span><span class="dl">"</span><span class="p">,</span>       <span class="c1">// entry price</span>
           <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7100.234</span><span class="dl">"</span><span class="p">,</span>                  <span class="c1">// liquidation price</span>
           <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7088.1234</span><span class="dl">"</span><span class="p">,</span>                <span class="c1">// bankruptcy price</span>
           <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>                           <span class="c1">// leverage</span>
           <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>                      <span class="c1">// order margin</span>
           <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>                   <span class="c1">// position margin</span>
           <span class="dl">"</span><span class="s2">available_balance</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>                 <span class="c1">// available balance</span>
           <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>                        <span class="c1">// take profit price           </span>
           <span class="dl">"</span><span class="s2">tp_trigger_by</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>             <span class="c1">// take profit trigger price, eg: LastPrice, IndexPrice. Conditional order only</span>
           <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>                          <span class="c1">// stop loss price</span>
           <span class="dl">"</span><span class="s2">sl_trigger_by</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">""</span><span class="p">,</span>                     <span class="c1">// stop loss trigger price, eg: LastPrice, IndexPrice. Conditional order only</span>
           <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">0.10</span><span class="dl">"</span><span class="p">,</span>               <span class="c1">// realised PNL</span>
           <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>                  <span class="c1">// trailing stop points</span>
           <span class="dl">"</span><span class="s2">trailing_active</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>                <span class="c1">// trailing stop trigger price</span>
           <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">4.12</span><span class="dl">"</span><span class="p">,</span>             <span class="c1">// wallet balance</span>
           <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>                       
           <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">0.1</span><span class="dl">"</span><span class="p">,</span>             <span class="c1">// position closing</span>
           <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">0.1</span><span class="dl">"</span><span class="p">,</span>             <span class="c1">// funding fee</span>
           <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                  <span class="c1">// auto margin replenishment switch</span>
           <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">0.12</span><span class="dl">"</span><span class="p">,</span>           <span class="c1">// Total realized profit and loss</span>
           <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>           <span class="c1">// status of position (Normal: normal Liq: in the process of liquidation Adl: in the process of Auto-Deleveraging)</span>
                        <span class="c1">// Auto margin replenishment enabled (0: no 1: yes)</span>
           <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">14</span>                     <span class="c1">// position version number</span>
       <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取我的倉位列表。通過該接口可以獲取當前用戶的持倉信息，如持倉數量、賬戶余額等信息</p>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>倉位數量</td>
</tr>
<tr>
<td style="text-align: left">position_value</td>
<td style="text-align: left">string</td>
<td>倉位價值</td>
</tr>
<tr>
<td style="text-align: left">entry_price</td>
<td style="text-align: left">string</td>
<td>平均入場價</td>
</tr>
<tr>
<td style="text-align: left">liq_price</td>
<td style="text-align: left">string</td>
<td>強平價格</td>
</tr>
<tr>
<td style="text-align: left">bust_price</td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/en-us/articles/360039749813-What-is-Bankruptcy-Price-Inverse-Contract-">破產價格</a></td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">string</td>
<td>逐倉模式下, 值為用戶設置的杠桿；全倉模式下，值為當前風險限額下最大杠桿</td>
</tr>
<tr>
<td style="text-align: left">order_margin</td>
<td style="text-align: left">string</td>
<td>委托預占用保證金</td>
</tr>
<tr>
<td style="text-align: left">position_margin</td>
<td style="text-align: left">string</td>
<td>倉位保證金</td>
</tr>
<tr>
<td style="text-align: left">available_balance</td>
<td style="text-align: left">string</td>
<td>可用余額, 錢包余額 - 倉位保證金</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">string</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止盈激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">string</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">string</td>
<td>止損激活價格類型，默認為<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left">realised_pnl</td>
<td style="text-align: left">string</td>
<td>當日已結盈虧</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">string</td>
<td>追蹤止損</td>
</tr>
<tr>
<td style="text-align: left">trailing_active</td>
<td style="text-align: left">string</td>
<td>激活價格</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">string</td>
<td>錢包余額</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left">number</td>
<td><a href="#t-getrisklimit">風險限額ID</a></td>
</tr>
<tr>
<td style="text-align: left">is_isolated</td>
<td style="text-align: left">bool</td>
<td>是否逐倉，true-逐倉 false-全倉</td>
</tr>
<tr>
<td style="text-align: left">occ_closing_fee</td>
<td style="text-align: left">string</td>
<td>倉位占用的平倉手續費</td>
</tr>
<tr>
<td style="text-align: left">occ_funding_fee</td>
<td style="text-align: left">string</td>
<td>倉位size和當前資金費率預占用資金費用</td>
</tr>
<tr>
<td style="text-align: left">auto_add_margin</td>
<td style="text-align: left">number</td>
<td>是否自動追加保證金</td>
</tr>
<tr>
<td style="text-align: left">cum_realised_pnl</td>
<td style="text-align: left">string</td>
<td>累計已結盈虧</td>
</tr>
<tr>
<td style="text-align: left">position_status</td>
<td style="text-align: left">string</td>
<td>倉位狀態，正常，強平，減倉</td>
</tr>
<tr>
<td style="text-align: left">position_seq</td>
<td style="text-align: left">number</td>
<td>倉位變化版本號</td>
</tr>
</tbody></table>
<h3 id='t-websocketexecution'>個人成交</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["execution"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="n">api_secret</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_execution</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"execution"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"execution"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">execution</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxx-xxxx-xxxx-9a8f-4a973eb5c418</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exec_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxx-xxxx-xxxx-8b66-c3d2fcd352f6</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8300</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exec_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Trade</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00000009</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">is_maker</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trade_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-14T14:07:23.629Z</span><span class="dl">"</span> <span class="c1">// trade time</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取用戶成交記錄，按時間升序排列。</p>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">exec_id</td>
<td style="text-align: left">string</td>
<td>成交ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">string</td>
<td>成交價格</td>
</tr>
<tr>
<td style="text-align: left">order_qty</td>
<td style="text-align: left">number</td>
<td>訂單數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#exec-type-exec_type">exec_type</a></td>
<td style="text-align: left">string</td>
<td><a href="#exec-type-exec_type">交易類型枚舉</a></td>
</tr>
<tr>
<td style="text-align: left">exec_qty</td>
<td style="text-align: left">number</td>
<td>成交數量</td>
</tr>
<tr>
<td style="text-align: left">exec_fee</td>
<td style="text-align: left">string</td>
<td>交易手續費</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">is_maker</td>
<td style="text-align: left">bool</td>
<td>是否是maker</td>
</tr>
<tr>
<td style="text-align: left">trade_time</td>
<td style="text-align: left">string</td>
<td>交易時間</td>
</tr>
</tbody></table>
<h3 id='t-websocketorder'>活動單</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["order"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="n">api_secret</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_order</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"order"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"order"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">order</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxx-xxxx-xxxx-9a8f-4a973eb5c418</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8579.5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ImmediateOrCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">create_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreateByClosing</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Filled</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00011655</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00000009</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-14T14:09:31.778Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trailing_active</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">last_exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8580</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">reduce_only</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">close_on_trigger</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">string</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>成交數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">create_type</td>
<td style="text-align: left">string</td>
<td>下單操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left">cancel_type</td>
<td style="text-align: left">string</td>
<td>取消操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累計成交數量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">string</td>
<td>累計成交價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">string</td>
<td>累計成交手續費</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">string</td>
<td>委托時間</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">string</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">string</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">string</td>
<td>追蹤止損</td>
</tr>
<tr>
<td style="text-align: left">trailing_active</td>
<td style="text-align: left">string</td>
<td>激活價格</td>
</tr>
<tr>
<td style="text-align: left">last_exec_price</td>
<td style="text-align: left">string</td>
<td>最近一次成交價格</td>
</tr>
<tr>
<td style="text-align: left">reduce_only</td>
<td style="text-align: left">bool</td>
<td>只減倉</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">bool</td>
<td>觸發後平倉. 如果下平倉單，請設置為<code>true</code>，避免因為保證金不足而導致下單失敗</td>
</tr>
</tbody></table>
<h3 id='t-websocketstoporder'>條件單</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["stop_order"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"stop_order"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">stop_order</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxx-xxxx-xxxx-98fb-335aaa6c613b</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8584.5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ImmediateOrCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">create_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreateByStopOrder</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#stop-order-status-stop_order_status">條件單狀態stop_order_status枚舉</a></span>
            <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8584.5</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//如果stop_order_type為`TrailingProfit`時，為激活價格，否則為觸發價格。</span>
            <span class="dl">"</span><span class="s2">close_on_trigger</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-14T14:11:22.062Z</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td><a href="#symbol-symbol">交易對枚舉</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td><a href="#order-type-order_type">訂單類型枚舉</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">string</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">create_type</td>
<td style="text-align: left">string</td>
<td>下單操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left">cancel_type</td>
<td style="text-align: left">string</td>
<td>取消操作的觸發場景</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-type-stop_order_type">stop_order_type</a></td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left">trigger_by</td>
<td style="text-align: left">string</td>
<td>觸發價格類型. 默認為最新市價</td>
</tr>
<tr>
<td style="text-align: left">trigger_price</td>
<td style="text-align: left">string</td>
<td>如果stop_order_type為`TrailingProfit`時，為激活價格，否則為觸發價格。</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">bool</td>
<td>觸發後平倉. 如果下平倉單，請設置為<code>true</code>，避免因為保證金不足而導致下單失敗</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">string</td>
<td>UTC 時間</td>
</tr>
</tbody></table>
<h3 id='t-websocketwallet'>錢包</h3>
<blockquote>
<p>請求訂閱</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["wallet"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python--pybit"><code><span class="kn">from</span> <span class="nn">pybit</span> <span class="kn">import</span> <span class="n">WebSocket</span>
<span class="n">subs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">"wallet"</span>
<span class="p">]</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">WebSocket</span><span class="p">(</span>
    <span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">""</span><span class="p">,</span>
    <span class="n">subscriptions</span><span class="o">=</span><span class="n">subs</span>
<span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">subs</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">wallet</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mf">1.50175786</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">available_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mf">1.50177818</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">number</td>
<td>錢包余額</td>
</tr>
<tr>
<td style="text-align: left">available_balance</td>
<td style="text-align: left">number</td>
<td>可用余額, 錢包余額 - 倉位保證金</td>
</tr>
</tbody></table>
<h1 id='t-archivedata'>歸檔數據</h1><h3 id='t-historicalmarketdata'>歷史行情</h3>
<p>您可以在這裏獲取Bybit <a href="https://public.bybit.com">歷史行情數據</a>。</p>

<p>歷史資金費率無法通過API獲得。但是，您可以使用"導出"按鈕獲取此數據的CSV文件 <a href="https://www.bybit.com/data/basic/inverse/funding-history?symbol=BTCUSD">here</a>.</p>
<h1 id='t-enums'>枚舉定義</h1>
<p>以下是各個接口請求參數或返回結果中定義的枚舉。</p>
<h2 id='side-side'>Side (<code>side</code>)</h2>
<ul>
<li><code>Buy</code></li>
<li><code>Sell</code></li>
</ul>
<h2 id='symbol-symbol'>Symbol (<code>symbol</code>)</h2>
<ul>
<li><code>BTCUSD</code></li>
<li><code>ETHUSD</code></li>
<li><code>EOSUSD</code></li>
<li><code>XRPUSD</code></li>
<li><code>DOTUSD</code></li>
</ul>

<p>您可以根據<a href="#t-querysymbol">Query Symbol</a>接口獲取所有交易中的symbol。</p>
<h2 id='currency-currency-coin'>Currency (<code>currency</code>/<code>coin</code>)</h2>
<ul>
<li><code>BTC</code></li>
<li><code>ETH</code></li>
<li><code>EOS</code></li>
<li><code>XRP</code></li>
<li><code>DOT</code></li>
<li><code>USDT</code></li>
</ul>
<h2 id='contract-type-contract_type'>Contract Type(<code>contract_type</code>)</h2>
<ul>
<li><code>InversePerpetual</code></li>
<li><code>LinearPerpetual</code></li>
<li><code>InverseFutures</code></li>
</ul>
<h2 id='contract-status-status'>Contract Status(<code>status</code>)</h2>
<ul>
<li><code>Trading</code></li>
<li><code>Settling</code></li>
<li><code>Closed</code></li>
</ul>
<h2 id='wallet-fund-type-wallet_fund_type-type'>Wallet fund type (<code>wallet_fund_type</code> / <code>type</code>)</h2>
<ul>
<li><code>Deposit</code> 入金</li>
<li><code>Withdraw</code> 提幣</li>
<li><code>RealisedPNL</code> 已結盈虧</li>
<li><code>Commission</code> 傭金</li>
<li><code>Refund</code> 系統返還（如提幣審核拒絕返還、用戶提幣取消返還）</li>
<li><code>Prize</code> 贈金</li>
<li><code>ExchangeOrderWithdraw</code> 兌出</li>
<li><code>ExchangeOrderDeposit</code> 兌入</li>
<li><code>ReturnServiceCash</code> 返還手續費贈金</li>
<li><code>Insurance</code> 保險賬戶劃轉</li>
<li><code>SubMember</code> 母子賬號劃轉</li>
<li><code>Coupon</code> 生息券</li>
<li><code>AccountTransfer</code> 賬戶劃轉</li>
<li><code>CashBack</code> 返現</li>
</ul>
<h2 id='withdraw-status-status'>Withdraw status (<code>status</code>)</h2>
<ul>
<li><code>ToBeConfirmed</code> 待（用戶郵件）確認</li>
<li><code>UnderReview</code> 審核中</li>
<li><code>Pending</code> 待打款</li>
<li><code>Success</code> 打款成功</li>
<li><code>CancelByUser</code> 用戶取消</li>
<li><code>Reject</code> 審核拒絕</li>
<li><code>Expire</code> 提幣請求過期</li>
</ul>
<h2 id='order-type-order_type'>Order type (<code>order_type</code>)</h2>
<ul>
<li><code>Limit</code> 限價單</li>
<li><code>Market</code> 市價單</li>
</ul>
<h2 id='quantity-qty'>Quantity (<code>qty</code>)</h2>
<p><ul> <li>最大值1百萬 (<code>1000000</code>)</li> <li>必須是正整數： <ul> <li><code>40</code> - 合法</li> <li><code>30.5</code> - 非法</li> </ul> </li> </ul></p>
<h2 id='price-price'>Price (<code>price</code>)</h2>
<p><ul>
<li>活動單<ul>
<li>必須是<code>tick_size</code>的整數倍<ul>
<li>當前symbol信息(如<code>tick_size</code>)，可以通過<a href="#t-querysymbol">交易對接口</a>接口獲得。</li>
</ul>
</li>
<li>必須小於一百萬 (<code>1000000</code>)</li>
<li>如果用戶沒有未平倉，則價格必須大於市場價格的10%<ul>
<li>如, 若當前市場價(last price) 為 10314, 那麽下單價格的最小值為 1031.5。</li>
<li>偽代碼(假設價格是0.5的增量):<pre class="center-column">
IF price > (last_price * 0.1)
// 發送訂單
ELSE
//  不會發送訂單，因為價格將不被系統接受
</pre></li>
</ul>
</li>
<li>如果已持有倉位，那麽價格必須高於強平價格<ul>
<li>如, 若多倉的強平價格為 5176.5 那麽價格最小為 5177. 在做空的情況下，價格必須低於強平價格。</li>
</ul>
</li>
</ul>
</li>
<li>條件單<ul>
<li>必須大於等於 <code>1</code></li>
</ul>
</li>
</ul>
</p>
<h2 id='time-in-force-time_in_force'>Time in force (<code>time_in_force</code>)</h2>
<ul>
<li><code>GoodTillCancel</code> 一直有效至取消</li>
<li><code>ImmediateOrCancel</code> 立即成交或取消</li>
<li><code>FillOrKill</code> 完全成交或取消</li>
<li><code>PostOnly</code> 被動委托</li>
</ul>
<h2 id='trigger-price-type-trigger_by'>Trigger price type (<code>trigger_by</code>)</h2>
<ul>
<li><code>LastPrice</code> 最新市價</li>
<li><code>IndexPrice</code> 指數價格</li>
<li><code>MarkPrice</code> 標記價格</li>
</ul>
<h2 id='order-order'>Order (<code>order</code>)</h2>
<p>排序方向</p>

<ul>
<li><code>desc</code> (default)</li>
<li><code>asc</code> </li>
</ul>
<h2 id='order-status-order_status'>Order status (<code>order_status</code>)</h2>
<p></p>

<ul>
<li><code>Created</code> </li>
<li><code>Rejected</code> </li>
<li><code>New</code> </li>
<li><code>PartiallyFilled</code> </li>
<li><code>Filled</code> </li>
<li><code>Cancelled</code> </li>
<li><code>PendingCancel</code> - 撮合引擎收到取消指令但不一定會被成功取消</li>
</ul>
<h2 id='stop-order-status-stop_order_status'>Stop order status (<code>stop_order_status</code>)</h2>
<ul>
<li><code>Active</code> - 條件單觸發成功且下單成功</li>
<li><code>Untriggered</code> - 等待市價觸發條件單</li>
<li><code>Triggered</code> - 市價已觸發條件單</li>
<li><code>Cancelled</code> - 取消</li>
<li><code>Rejected</code> - 條件觸發成功但下單失敗</li>
<li><code>Deactivated</code> - 條件單觸發前被取消</li>
</ul>
<h2 id='cancel-type-cancel_type'>Cancel type (<code>cancel_type</code>)</h2>
<ul>
<li><code>CancelByUser</code> 用戶取消</li>
<li><code>CancelByReduceOnly</code> </li>
<li><code>CancelByPrepareLiq</code>,<code>CancelAllBeforeLiq</code> - 倉位進入強平導致取消訂單</li>
<li><code>CancelByPrepareAdl</code>,<code>CancelAllBeforeAdl</code> - 自動減倉導致取消訂單</li>
<li><code>CancelByAdmin</code> </li>
<li><code>CancelByTpSlTsClear</code> - 止盈止損單被取消</li>
<li><code>CancelByPzSideCh</code> - 該訂單在觸發止盈止損後被取消</li>
</ul>
<h2 id='create-type-create_type'>Create type (<code>create_type</code>)</h2>
<ul>
<li><code>CreateByUser</code></li>
<li><code>CreateByClosing</code></li>
<li><code>CreateByAdminClosing</code></li>
<li><code>CreateByStopOrder</code></li>
<li><code>CreateByTakeProfit</code></li>
<li><code>CreateByStopLoss</code></li>
<li><code>CreateByTrailingStop</code></li>
<li><code>CreateByLiq</code> - Created by partial liquidation</li>
<li><code>CreateByAdl_PassThrough</code> - Created by ADL</li>
<li><code>CreateByTakeOver_PassThrough</code> - Created by liquidation takeover</li>
</ul>
<h2 id='exec-type-exec_type'>Exec type (<code>exec_type</code>)</h2>
<ul>
<li><code>Trade</code> 普通交易</li>
<li><code>AdlTrade</code> 自動減倉</li>
<li><code>Funding</code> 資金費率</li>
<li><code>BustTrade</code> 強製平倉</li>
</ul>
<h2 id='liquidity-type-last_liquidity_ind'>Liquidity type (<code>last_liquidity_ind</code>)</h2>
<ul>
<li><code>AddedLiquidity</code> maker成交</li>
<li><code>RemovedLiquidity</code> taker成交</li>
</ul>
<h2 id='tick-direction-type-tick_direction'>Tick direction type (<code>tick_direction</code>)</h2>
<p>表示價格的波動，相對於上一筆交易是漲還是跌</p>

<ul>
<li><code>PlusTick</code> 漲</li>
<li><code>ZeroPlusTick</code> 跟上一次持平，上一次跟上上一次是漲</li>
<li><code>MinusTick</code> 跌</li>
<li><code>ZeroMinusTick</code> 跟上一次持平，上一次跟上上一次是跌</li>
</ul>
<h2 id='tp-sl-mode-tp_sl_mode'>TP/SL mode (<code>tp_sl_mode</code>)</h2>
<p>止盈止損模式</p>

<ul>
<li><code>Full</code> 倉位止盈止損</li>
<li><code>Partial</code> 部分止盈止損</li>
</ul>
<h2 id='kline-interval-interval'>Kline interval (<code>interval</code>)</h2>
<ul>
<li><code>1</code> - 1 minute</li>
<li><code>3</code> - 3 minutes</li>
<li><code>5</code> - 5 minutes</li>
<li><code>15</code> - 15 minutes</li>
<li><code>30</code> - 30 minutes</li>
<li><code>60</code> - 1 hour</li>
<li><code>120</code> - 2 hours</li>
<li><code>240</code> - 4 hours</li>
<li><code>360</code> - 6 hours</li>
<li><code>720</code> - 12 hours</li>
<li><code>D</code> - 1 day</li>
<li><code>W</code> - 1 week</li>
<li><code>M</code> - 1 month</li>
</ul>
<h2 id='date-start_date-end_date'>Date (<code>start_date</code>/<code>end_date</code>)</h2>
<p>Follows the format: yyyy-mm-dd
</p>
<h2 id='stop-order-type-stop_order_type'>Stop order type (<code>stop_order_type</code>)</h2>
<ul>
<li><code>TakeProfit</code></li>
<li><code>StopLoss</code></li>
<li><code>TrailingStop</code></li>
<li><code>Stop</code></li>
</ul>
<h1 id='t-errors'>錯誤碼</h1>
<p>Bybit使用以下HTTP Code和錯誤碼：</p>

<table><thead>
<tr>
<th>HTTP Code</th>
<th>含義</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>請求有效</td>
</tr>
<tr>
<td>403</td>
<td>拒絕訪問</td>
</tr>
<tr>
<td>404</td>
<td>訪問路徑不存在</td>
</tr>
</tbody></table>
<h2 id='10000'>10000</h2>
<p>處理請求時發生未知錯誤</p>
<h2 id='10001'>10001</h2>
<p>參數錯誤</p>
<h2 id='10002'>10002</h2>
<p>請求過期，請檢查 <code>timestamp</code> 和 <code>recv_window</code></p>
<h2 id='10003'>10003</h2>
<p>無效的apikey</p>
<h2 id='10004'>10004</h2>
<p>簽名錯誤</p>
<h2 id='10005'>10005</h2>
<p>apikey權限不足</p>
<h2 id='10006'>10006</h2>
<p>請求次數超限</p>
<h2 id='10007'>10007</h2>
<p>您的請求中沒有<code>api_key</code></p>
<h2 id='10010'>10010</h2>
<p>請求ip不匹配</p>
<h2 id='10016'>10016</h2>
<p>服務異常或請求超時</p>
<h2 id='10017'>10017</h2>
<p>請求路徑不存在或請求方法錯誤</p>
<h2 id='10018'>10018</h2>
<p>超過ip頻率限製</p>
<h2 id='10020'>10020</h2>
<p>不支持此操作</p>
<h2 id='10021'>10021</h2>
<p>此請求的時間戳不在recvWindow之外。此請求的時間戳比服務器時間提前1000毫秒。請查證你的本地時間和服務器時間</p>
<h2 id='10022'>10022</h2>
<p>此請求的簽名無效。</p>
<h2 id='11000'>11000</h2>
<p>在參數中發現非法字符。在參數'％s'中發現非法字符； 合法範圍是「％s」。</p>
<h2 id='11001'>11001</h2>
<p>為此端點發送的參數太多。</p>
<h2 id='11002'>11002</h2>
<p>未發送強製性參數，該參數為空/空或格式錯誤。強製參數'％s'未發送，為空/空或格式錯誤。</p>
<h2 id='11003'>11003</h2>
<p>發送了未知參數。</p>
<h2 id='11004'>11004</h2>
<p>並非所有發送的參數都被讀取</p>
<h2 id='11005'>11005</h2>
<p>參數為空。</p>
<h2 id='11006'>11006</h2>
<p>不需要時已發送參數。</p>
<h2 id='11011'>11011</h2>
<p>精度超過為此資產定義的最大值。</p>
<h2 id='11012'>11012</h2>
<p>交易對沒有掛單</p>
<h2 id='11014'>11014</h2>
<p>不需要時發送了TimeInForce參數。</p>
<h2 id='11015'>11015</h2>
<p>無效 timeInForce.</p>
<h2 id='11016'>11016</h2>
<p>無效訂單類型。</p>
<h2 id='11017'>11017</h2>
<p>無效買賣方向。</p>
<h2 id='11018'>11018</h2>
<p>新的客戶訂單ID為空。</p>
<h2 id='11019'>11019</h2>
<p>新的客戶訂單ID為空。</p>
<h2 id='11020'>11020</h2>
<p>無效時間間隔。</p>
<h2 id='11021'>11021</h2>
<p>無效符號。</p>
<h2 id='11025'>11025</h2>
<p>該listenKey不存在。</p>
<h2 id='11027'>11027</h2>
<p>查詢間隔太大。</p>
<h2 id='11028'>11028</h2>
<p>可選參數組合無效。</p>
<h2 id='11030'>11030</h2>
<p>發送的參數為無效數據。</p>
<h2 id='11030-2'>11030</h2>
<p>發送的參數為無效數據。</p>
<h2 id='11031'>11031</h2>
<p>Insufficient balance.</p>
<h2 id='11032'>11032</h2>
<p>訂單價格過高</p>
<h2 id='11033'>11033</h2>
<p>訂單價格過低，請查詢Broker Info信息</p>
<h2 id='11034'>11034</h2>
<p>訂單價格精度過長，請查詢Broker Info信息</p>
<h2 id='11035'>11035</h2>
<p>訂單quantity過大</p>
<h2 id='11036'>11036</h2>
<p>訂單quantity小於最小值</p>
<h2 id='11037'>11037</h2>
<p>訂單quantity精度過長</p>
<h2 id='11038'>11038</h2>
<p>訂單價格超出允許範圍</p>
<h2 id='11039'>11039</h2>
<p>訂單已經被執行</p>
<h2 id='11040'>11040</h2>
<p>交易金額小於最小值</p>
<h2 id='20001'>20001</h2>
<p>訂單不存在</p>
<h2 id='20003'>20003</h2>
<p>缺少參數<code>side</code></p>
<h2 id='20004'>20004</h2>
<p><code>side</code>不合法</p>
<h2 id='20005'>20005</h2>
<p>缺少參數<code>symbol</code></p>
<h2 id='20006'>20006</h2>
<p><code>symbol</code>不合法</p>
<h2 id='20007'>20007</h2>
<p>缺少參數<code>order_type</code></p>
<h2 id='20008'>20008</h2>
<p><code>order_type</code>不合法</p>
<h2 id='20009'>20009</h2>
<p>缺少參數<code>qty</code></p>
<h2 id='20010'>20010</h2>
<p>新增訂單被拒絕</p>
<h2 id='20011'>20011</h2>
<p>撤銷訂單被拒絕</p>
<h2 id='20012'>20012</h2>
<p><code>qty</code> 必須大於0並小於1百萬</p>
<h2 id='20013'>20013</h2>
<p>訂單不存在</p>
<h2 id='20014'>20014</h2>
<p>API-key格式無效</p>
<h2 id='20015'>20015</h2>
<p>無效的API密鑰，IP或操作權限。.</p>
<h2 id='20016'>20016</h2>
<p>找不到該交易對的交易窗口。 嘗試改為24小時自動報價。</p>
<h2 id='20017'>20017</h2>
<p>缺少參數<code>order_id</code></p>
<h2 id='20018'>20018</h2>
<p>日期格式不對</p>
<h2 id='20019'>20019</h2>
<p>缺少參數<code>stop_px</code></p>
<h2 id='20020'>20020</h2>
<p>缺少參數<code>base_price</code></p>
<h2 id='20021'>20021</h2>
<p>缺少參數<code>stop_order_id</code></p>
<h2 id='20022'>20022</h2>
<p>缺少參數<code>leverage</code></p>
<h2 id='20023'>20023</h2>
<p><code>leverage</code>必須是數字</p>
<h2 id='20031'>20031</h2>
<p><code>leverage</code>必須大於0</p>
<h2 id='20070'>20070</h2>
<p>缺少參數<code>margin</code></p>
<h2 id='20071'>20071</h2>
<p><code>margin</code>必須大於0</p>
<h2 id='20084'>20084</h2>
<p><code>order_id</code>和<code>order_link_id</code>必須二選一</p>
<h2 id='30001'>30001</h2>
<p><code>order_link_id</code>重復</p>
<h2 id='30003'>30003</h2>
<p><code>qty</code>太小</p>
<h2 id='30004'>30004</h2>
<p><code>qty</code>太大</p>
<h2 id='30005'>30005</h2>
<p><code>price</code>太大</p>
<h2 id='30006'>30006</h2>
<p>No <code>last_price</code>.</p>
<h2 id='30007'>30007</h2>
<p><code>price</code>太小</p>
<h2 id='30008'>30008</h2>
<p><code>order_type</code>非法</p>
<h2 id='30009'>30009</h2>
<p>持倉不存在</p>
<h2 id='30010'>30010</h2>
<p>錢包余額不足</p>
<h2 id='30011'>30011</h2>
<p>由於倉位清算，不允許操作</p>
<h2 id='30012'>30012</h2>
<p>由於ADL，不允許操作</p>
<h2 id='30013'>30013</h2>
<p>持倉處於強平、ADL或其他非可操作狀態</p>
<h2 id='30014'>30014</h2>
<p>平倉數量不能大於持倉數量</p>
<h2 id='30015'>30015</h2>
<p>平倉訂單不合法，應和持倉方向相反</p>
<h2 id='30016'>30016</h2>
<p>平倉前請先取消止盈止損單</p>
<h2 id='30017'>30017</h2>
<p>不能低於買方向強平價格</p>
<h2 id='30018'>30018</h2>
<p>不能高於賣方向強平價格</p>
<h2 id='30019'>30019</h2>
<p>非開倉單不能使用TP/SL參數</p>
<h2 id='30020'>30020</h2>
<p>持倉已有TP/SL設置</p>
<h2 id='30021'>30021</h2>
<p>預估保證金不足</p>
<h2 id='30022'>30022</h2>
<p>預估買方向強平價格不能高於標記價格</p>
<h2 id='30023'>30023</h2>
<p>預估賣方向強平價不能低於標記價格</p>
<h2 id='30024'>30024</h2>
<p>空倉無法設置TP/SL/TS</p>
<h2 id='30025'>30025</h2>
<p>觸發價格必須高於市價10%</p>
<h2 id='30026'>30026</h2>
<p>價格過高</p>
<h2 id='30027'>30027</h2>
<p>止盈價應高於上筆成交價</p>
<h2 id='30028'>30028</h2>
<p>止損價應在強平價和上筆成交價之間</p>
<h2 id='30029'>30029</h2>
<p>止損價格應在上筆成交價和清算價格之間</p>
<h2 id='30030'>30030</h2>
<p>設定的止盈價格應低於上筆成交價</p>
<h2 id='30031'>30031</h2>
<p>可用余額不足以支付訂單費用</p>
<h2 id='30032'>30032</h2>
<p>訂單已成交或已取消</p>
<h2 id='30033'>30033</h2>
<p>條件單的數量超限</p>
<h2 id='30034'>30034</h2>
<p>訂單不存在</p>
<h2 id='30035'>30035</h2>
<p>取消訂單過快</p>
<h2 id='30036'>30036</h2>
<p>訂單執行後的預期倉位值超過當前風險限額</p>
<h2 id='30037'>30037</h2>
<p>訂單已取消</p>
<h2 id='30038'>30038</h2>
<p>No mark_price.</p>
<h2 id='30039'>30039</h2>
<p>Applied leverage has exceeded the permitted range.</p>
<h2 id='30040'>30040</h2>
<p>Any adjustments made will trigger immediate liquidation.</p>
<h2 id='30041'>30041</h2>
<p>持倉不存在</p>
<h2 id='30042'>30042</h2>
<p>錢包余額不足</p>
<h2 id='30043'>30043</h2>
<p>由於倉位清算，不允許操作</p>
<h2 id='30044'>30044</h2>
<p>由於ADL，不允許操作</p>
<h2 id='30045'>30045</h2>
<p>持倉處於其他不可操作狀態</p>
<h2 id='30046'>30046</h2>
<p>There are multiple untriggered stop orders.</p>
<h2 id='30047'>30047</h2>
<p>Inconsistent p:o.</p>
<h2 id='30048'>30048</h2>
<p>Applied leverage has exceeded the permitted range.</p>
<h2 id='30049'>30049</h2>
<p>可用余額不足</p>
<h2 id='30050'>30050</h2>
<p>任何調整都將立即引發清算</p>
<h2 id='30051'>30051</h2>
<p>杠桿設置非法，因為它將超出您的風險限額</p>
<h2 id='30052'>30052</h2>
<p>杠桿設置非法，不能小於1</p>
<h2 id='30053'>30053</h2>
<p>max_affordable_position_margin <= 0, position:%s</p>
<h2 id='30054'>30054</h2>
<p>保證金設置不合法</p>
<h2 id='30055'>30055</h2>
<p>Available Balance is not enough to add margin.</p>
<h2 id='30056'>30056</h2>
<p>The position is in cross_margin.</p>
<h2 id='30057'>30057</h2>
<p>請求的合約數量超過風險限額</p>
<h2 id='30063'>30063</h2>
<p>不滿足只減倉的條件</p>
<h2 id='30066'>30066</h2>
<p>Set auto add margin fail.</p>
<h2 id='30067'>30067</h2>
<p>可用余額不足</p>
<h2 id='30068'>30068</h2>
<p>退出價值必須大於0</p>
<h2 id='30074'>30074</h2>
<p>無法創建條件單，由<code>base_price</code>和<code>stop_px</code>比較可知預期漲至<code>stop_px</code>時觸發條件單，而此時<code>LastPrice</code>(或<code>IndexPrice</code>、<code>MarkPrice</code>，由<code>trigger_by</code>指定)已經達到或高於<code>stop_px</code></p>
<h2 id='30075'>30075</h2>
<p>無法創建條件單，由<code>base_price</code>和<code>stop_px</code>比較可知預期跌至<code>stop_px</code>時觸發條件單，而此時<code>LastPrice</code>(或<code>IndexPrice</code>、<code>MarkPrice</code>，由<code>trigger_by</code>指定)已經達到或低於<code>stop_px</code></p>
<h2 id='30076'>30076</h2>
<p>Replace params invalid. Order not modified.</p>
<h2 id='30077'>30077</h2>
<p>Submission of order will result in the breach of user's limit according to open interest.</p>
<h2 id='30078'>30078</h2>
<p>Contracts not in trading status</p>
<h2 id='30079'>30079</h2>
<p>The position is about to trigger a liquidation</p>
<h2 id='30080'>30080</h2>
<p>Price cannot be lower than current Buy liq_price</p>
<h2 id='30081'>30081</h2>
<p>Price cannot be greater than current sell liq_price</p>
<h2 id='30082'>30082</h2>
<p>Position exists No switching of position mode allowed</p>
<h2 id='30083'>30083</h2>
<p>No change in position pattern</p>
<h2 id='30084'>30084</h2>
<p>No changes to the full position-by-position model</p>
<h2 id='30085'>30085</h2>
<p>Margin unchanged</p>
<h2 id='30086'>30086</h2>
<p>translation missing: zh-cn.err_3086</p>
<h2 id='30087'>30087</h2>
<p>Symbol does not support two-way open positions</p>
<h2 id='30088'>30088</h2>
<p>Symbol does not exist</p>
<h2 id='30089'>30089</h2>
<p>Duplicate order number</p>
<h2 id='30090'>30090</h2>
<p>Risk limit info does not exist</p>
<h2 id='30091'>30091</h2>
<p>Illegal orders (meaning that the order os|cs is not legal in various scenarios)</p>
<h2 id='30092'>30092</h2>
<p>No position is not allowed to set margin</p>
<h2 id='30093'>30093</h2>
<p>No net position</p>
<h2 id='30094'>30094</h2>
<p>Withdrawal of an order before a liquidation is not concluded</p>
<h2 id='30095'>30095</h2>
<p>Full positions are not allowed to modify leverage</p>
<h2 id='31003'>31003</h2>
<p>User account banned</p>
<h2 id='32006'>32006</h2>
<p>The available balance is not sufficient to cover the handling fee.</p>
<h2 id='32008'>32008</h2>
<p>Insufficient available margin.</p>
<h2 id='32009'>32009</h2>
<p>Any adjustments made will trigger immediate liquidation.</p>
<h2 id='32010'>32010</h2>
<p>Risk limit cannot be adjusted due to insufficient available margin.</p>
<h2 id='32011'>32011</h2>
<p>Risk limit cannot be adjusted as the current/expected position value held exceeds the revised risk limit.</p>
<h2 id='33004'>33004</h2>
<p>apikey已過期</p>
<h2 id='34010'>34010</h2>
<p>Wallet Balance is less than zero.</p>
<h2 id='34015'>34015</h2>
<p>Cannot set new leverage as it is equal to the previous leverage.</p>
<h2 id='34017'>34017</h2>
<p>Current leverage is less than 1X</p>
<h2 id='34018'>34018</h2>
<p>Cannot set leverage lower than 1X</p>
<h2 id='34019'>34019</h2>
<p>Cannot set leverage greater than maxLeverage.</p>
<h2 id='34020'>34020</h2>
<p>Cannot set leverage which is same to the previous leverage.</p>
<h2 id='34021'>34021</h2>
<p>Cannot cancel occ_calc_data, the data is wrong.</p>
<h2 id='34022'>34022</h2>
<p>Cannot set leverage which will cause available balance less than 0.</p>
<h2 id='34023'>34023</h2>
<p>The request was canceled because the origin request has been handled.</p>
<h2 id='34024'>34024</h2>
<p>The request does not include add margin data.</p>
<h2 id='34025'>34025</h2>
<p>Increase in leverage has failed.</p>
<h2 id='34026'>34026</h2>
<p>風險限額沒有變化</p>
<h2 id='34027'>34027</h2>
<p>Cannot adjust leverage.</p>
<h2 id='32009-2'>32009</h2>
<p>Any adjustments made will trigger immediate liquidation.</p>
<h2 id='34028'>34028</h2>
<p>ReCalc Funding Fee Failed.</p>
<h2 id='34030'>34030</h2>
<p>positionInfo not sync with current exec_rpt.</p>
<h2 id='34033'>34033</h2>
<p>Realized PNL already rotated.</p>
<h2 id='34032'>34032</h2>
<p>PositionSeq not match on Withdraw.</p>
<h2 id='34035'>34035</h2>
<p>Add margin not modified.</p>
<h2 id='34036'>34036</h2>
<p>Set leverage not modified.</p>
<h2 id='34037'>34037</h2>
<p>Set custom fee rate not modified.</p>
<h2 id='34038'>34038</h2>
<p>Update deleverage indicator not modified.</p>
<h2 id='34039'>34039</h2>
<p>Update position status not modified.</p>
<h2 id='34040'>34040</h2>
<p>Set TP/SL/TS not modified.</p>
<h2 id='35014'>35014</h2>
<p>下單數量超過上限</p>
<h2 id='37001'>37001</h2>
<p>Both side positions tp_sl_mode is equal.</p>
<h2 id='37002'>37002</h2>
<p>Same tp_sl_mode.</p>
<h2 id='37003'>37003</h2>
<p>This position has at least one stop-link order and cannot switch between stop-loss and take-profit modes.</p>
<h2 id='37004'>37004</h2>
<p>This position has at least one stop-loss link order and cannot switch between stop-loss and take-profit modes</p>
<h2 id='37005'>37005</h2>
<p>This position has at least one trailing stop or trailing stop link order and cannot be switched to take profit and stop loss mode</p>
<h2 id='37006'>37006</h2>
<p>Conditional or limit orders carry a take profit and stop loss parameter</p>
<h2 id='37007'>37007</h2>
<p>Insufficient number of positions left to set Stop Loss and Take Profit</p>
<h2 id='37008'>37008</h2>
<p>Active orders are not allowed to modify the price and quantity when they also modify the trigger price</p>
<h2 id='37009'>37009</h2>
<p>Activity orders are not allowed to modify the stop-loss and take-profit settings if the order is partially filled</p>
<h2 id='37010'>37010</h2>
<p>In Full Take Profit Stop Loss mode, it is not allowed to modify the Stop Profit Stop Loss size</p>
<h2 id='37011'>37011</h2>
<p>In partial SL mode, SL is set to more than 20. Set SL/TP exceeds the limit oldTpNum+oldStNum+newNum=(2 the num is tp+sl)</p>
<h2 id='37012'>37012</h2>
<p>Stop loss price needs to be greater than base price.</p>
<h2 id='37013'>37013</h2>
<p>Stop loss price needs to be less than base price.</p>
<h2 id='38101'>38101</h2>
<p>Replacement of order will result in the breach of user's limit according to open interest.</p>
<h1 id='t-abandonedendpoints'>廢棄接口</h1><h3 id='t-query_liqrecords'>查詢強平訂單數據</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/liq-records?symbol=BTCUSD
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Market</span><span class="p">.</span><span class="n">Market_liqRecords</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span><span class="mi">2369683</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">155</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time</span><span class="dl">"</span><span class="p">:</span><span class="mi">1590030126798</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="mi">9444</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1590068362.493540</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>查詢強平訂單數據，查詢範圍是最近七天的數據。</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=vpkLiq>/v2/public/liq-records</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpkLiq"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>起始ID. 默認: 返回最新數據
</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>默認返回500條數據. 最大返回1000條數據</td>
</tr>
<tr>
<td style="text-align: left">start_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>開始時間戳（毫秒)</td>
</tr>
<tr>
<td style="text-align: left">end_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>結束時間戳（毫秒</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>最新數據ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>交易數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>被強平倉位的方向</td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">number</td>
<td>毫秒時間戳</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>交易價格</td>
</tr>
</tbody></table>
<h3 id='t-a_getleverage'>用戶杠桿</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/user/leverage?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">userLeverage</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">EOSUSD</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">ETHUSD</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">XRPUSD</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577477752.346548</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577477752355</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>獲取用戶杠桿。</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=uLeverage>/user/leverage</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#uLeverage"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">BTCUSD &gt; leverage</td>
<td style="text-align: left">number</td>
<td>BTCUSD杠桿</td>
</tr>
<tr>
<td style="text-align: left">EOSUSD &gt; leverage</td>
<td style="text-align: left">number</td>
<td>EOSUSD杠桿</td>
</tr>
<tr>
<td style="text-align: left">ETHUSD &gt; leverage</td>
<td style="text-align: left">number</td>
<td>ETHUSD杠桿</td>
</tr>
<tr>
<td style="text-align: left">XRPUSD &gt; leverage</td>
<td style="text-align: left">number</td>
<td>XRPUSD杠桿</td>
</tr>
</tbody></table>
<h3 id='t-a_getactive'>查詢活動委托</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/open-api/order/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}&amp;symbol=BTCUSD"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_getOrders</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">current_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7074</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ImmediateOrCancel</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Filled</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="dl">"</span><span class="s2">close_on_trigger</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">orig_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BLimit</span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">prior_x_req_price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">5898.5</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">op_from</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pc</span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">remark</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">127.0.0.1</span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">o_req_num</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">34799032763</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">xreq_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">x_create</span><span class="dl">"</span>
                <span class="p">},</span>
                <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577448481.696421</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">last_exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">7070.5</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00028283</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00002</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">NoError</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:08:01.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:08:01.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">f185806b-b801-40ff-adec-52289370ed62</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577448922.437871</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p><p>獲取我的活動委托單列表。</p>
<p>創建/取消訂單是異步的，因此<b>該接口可能返回的數據可能會有延遲</b>。如果要獲取訂單的實時信息，可以調用接口<a href="#t-queryactive">實時查詢活動單信息</a>.</p>
</p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oaoList>/open-api/order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oaoList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID, 最大長度36位，且同一機構下自定義ID不可重復</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>合約類型. 默認 <code>BTCUSD</code></td>
</tr>
<tr>
<td style="text-align: left">order</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>按創建時間排序（默認升序）</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>頁碼.默認取第一頁</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每頁數量, 最大50. 默認每頁20條</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>指定訂單狀態查詢訂單列表。不傳該參數則默認查詢所有狀態訂單。該參數支持多狀態查詢，狀態之間用英文逗號分割。</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易記錄類型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left">time_in_force</td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">bool</td>
<td>觸發後平倉. 如果下平倉單，請設置為<code>true</code>，避免因為保證金不足而導致下單失敗</td>
</tr>
<tr>
<td style="text-align: left">orig_order_type</td>
<td style="text-align: left">string</td>
<td>原始特殊訂單類型</td>
</tr>
<tr>
<td style="text-align: left">prior_x_req_price</td>
<td style="text-align: left">number</td>
<td>期望撮合的價格</td>
</tr>
<tr>
<td style="text-align: left">op_from</td>
<td style="text-align: left">string</td>
<td>請求來源</td>
</tr>
<tr>
<td style="text-align: left">remark</td>
<td style="text-align: left">string</td>
<td>備註</td>
</tr>
<tr>
<td style="text-align: left">o_req_num</td>
<td style="text-align: left">number</td>
<td>用於關聯request&response</td>
</tr>
<tr>
<td style="text-align: left">xreq_type</td>
<td style="text-align: left">string</td>
<td>請求類型</td>
</tr>
<tr>
<td style="text-align: left">last_exec_time</td>
<td style="text-align: left">string</td>
<td>最近一次成交時間</td>
</tr>
<tr>
<td style="text-align: left">last_exec_price</td>
<td style="text-align: left">number</td>
<td>最近一次成交價格</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余掛單數量對應的預估價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累計成交數量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">number</td>
<td>累計成交價值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">number</td>
<td>累計成交手續費</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒單的原因</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID, 最大長度36位，且同一機構下自定義ID不可重復</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
</tbody></table>
<h3 id='t-a_getcond'>查詢條件委托</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/open-api/stop-order/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_getOrders</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">current_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:48:24.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:48:24.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7500</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">a85cd1c0-a9a4-49d3-a1bd-bab5ebe946d5</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">999999</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PostOnly</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6910.5</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-17T12:13:20.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-17T12:13:20.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10000000000000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">dea89649-9492-459d-a8c4-c298b87b3d26</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577451658.755468</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577451658762</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre></div>
<p><p>獲取我的條件委托單列表。</p> <p>創建/取消訂單是異步的，因此<b>該接口可能返回的數據可能會有延遲</b>。如果要獲取訂單的實時信息，可以調用接口<a href="#t-querycond">實時查詢條件單信息</a>。</p></p>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oasoList>/open-api/stop-order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID, 最大長度36位，且同一機構下自定義ID不可重復</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>合約類型. Default <code>BTCUSD</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>條件單狀態</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-order">order</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>按創建時間排序（默認升序）</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>頁碼.默認取第一頁</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每頁數量, 最大50. 默認每頁20條</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">string</td>
<td>條件單狀態</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>訂單類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-type-stop_order_type">stop_order_type</a></td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>觸發價格類型. 默認為最新市價</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">number</td>
<td>下單時市價</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">number</td>
<td>觸發價格。如果您期望價格上漲时觸發您的條件訂單，請確保 stop_px > max(market price, base_price) 否則 stop_px < min(market price, base_price)</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
</tbody></table>
<h3 id='t-a_placecond'>創建條件委托單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/open-api/stop-order/create \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","order_type":"Limit","side":"Buy","symbol":"BTCUSD","qty":1,"price":8100,"base_price":8300,"stop_px":8150,"time_in_force":"GoodTillCancel","order_link_id":"cus_order_id_1","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_new</span><span class="p">(</span><span class="n">order_type</span><span class="o">=</span><span class="s">"Limit"</span><span class="p">,</span><span class="n">side</span><span class="o">=</span><span class="s">"Buy"</span><span class="p">,</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span><span class="n">qty</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">price</span><span class="o">=</span><span class="mi">8100</span><span class="p">,</span><span class="n">base_price</span><span class="o">=</span><span class="mi">8300</span><span class="p">,</span><span class="n">stop_px</span><span class="o">=</span><span class="mi">8150</span><span class="p">,</span><span class="n">time_in_force</span><span class="o">=</span><span class="s">"GoodTillCancel"</span><span class="p">,</span> <span class="n">order_link_id</span><span class="o">=</span><span class="s">"cus_order_id_1"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8000</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">expected_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Rising</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7500</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">op_from</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">api</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">remark</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">127.0.01</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">o_req_num</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00013333</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:48:24.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:48:24.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7500</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">a85cd1c0-a9a4-49d3-a1bd-bab5ebe946d5</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577450904.327654</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577450904335</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>市價條件委托: 一個傳統的市場價格訂單,會以當前的最優價格為您成交訂單。當且僅當選擇市價單時，'price', '可為空！</p>
<p>限價條件委托: 您可以為您的訂單設置一個執行價格，當市場價格達到您的設置價格時，系統會為您成交訂單。</p>
<p>止盈止損: 您僅能在開倉時設置止盈止損條件單，一旦持有倉位後提交活動委托時關聯的止盈止損則不再有效。一旦持倉後，當創建訂單後發送的止盈止損信息將不再有效。</p>
<p>委托數量: 表示您要購買/賣出的永續合約數，對於委托數量目前Bybit只允許提交正整數。</p>
<p>委托價格: 表示您期望購買/賣出永續合約的價格，可以根據<a href="#t-querysymbol">交易對接口</a>查詢不同symbol價格階梯。</p>
<p>條件委托觸發價格: 您可以為您的條件委托單設置一個觸發價格，條件委托單不進入委托表（Order Book)，只有觸發條件成立如市場價格到達觸發價格時，條件委托單才會進入交易系統。當市場價格到達觸發價格：1）您的限價條件委托單進入Order Book，等待被執行；2）您的市價條件委托單將按照市場最優價格立即被執行。</p>
<p>自定義條件單ID: 您可以自定義活動委托訂單ID，我們會為您關聯到系統的訂單ID，並把系統的唯一訂單ID在活動委托創建成功後一並返回給您，您可以使用該訂單ID去取消活動委托，同時要求您傳遞的自定義訂單ID最大長度不超過36個字段且唯一。</p>
</p>

<aside class="notice">
請註意:只允許每個合約最多創建10個條件委托單
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=oasoCreate>/open-api/stop-order/create</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoCreate"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>委托數量(1個委托1美元)，只能為正整數</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>條件委托執行價格。如果條件委托是限價單，則price為必傳字段</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">number</td>
<td>當前市價。用於和stop_px值進行比較，確定當前條件委托是看空到<code>stop_px</code>時觸發還是看多到stop_px觸發。主要是用來標識當前條件單預期的方向</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">number</td>
<td>觸發價格. 如果您期望價格上漲时觸發您的條件訂單，請確保 stop_px > max(market price, base_price) 否則 stop_px < min(market price, base_price)</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>觸發價格類型. 默認為最新市價</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">false</td>
<td style="text-align: left">bool</td>
<td>觸發後平倉. 如果下平倉單，請設置為<code>true</code>，避免因為保證金不足而導致下單失敗</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID, 最大長度36位，且同一機構下自定義ID不可重復</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>訂單類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left">stop_order_type</td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>觸發價格類型. 默認為最新市價</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">number</td>
<td>下單時市價</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">string</td>
<td>訂單狀態</td>
</tr>
<tr>
<td style="text-align: left">stop_order_type</td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left">expected_direction</td>
<td style="text-align: left">string</td>
<td>預期方向</td>
</tr>
<tr>
<td style="text-align: left">trigger_price</td>
<td style="text-align: left">number</td>
<td>如果stop_order_type為`TrailingProfit`時，為激活價格，否則為觸發價格。</td>
</tr>
<tr>
<td style="text-align: left">op_from</td>
<td style="text-align: left">string</td>
<td>請求來源</td>
</tr>
<tr>
<td style="text-align: left">remark</td>
<td style="text-align: left">string</td>
<td>備註</td>
</tr>
<tr>
<td style="text-align: left">o_req_num</td>
<td style="text-align: left">number</td>
<td>用於關聯request&response</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托數量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余掛單數量對應的預估價值</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒單的原因</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本號</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">number</td>
<td>觸發價格。如果您期望價格上漲时觸發您的條件訂單，請確保 stop_px > max(market price, base_price) 否則 stop_px < min(market price, base_price)</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
</tbody></table>
<h3 id='t-a_cancelcond'>撤消條件委托單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/open-api/stop-order/cancel \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_cancel</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8000</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T13:10:18.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T13:10:18.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7500</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">c1025629-e85b-4c26-b4f3-76e86ad9f8cb</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577452218.567120</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">97</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577452218573</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>您可以撤銷所有未被激活的條件委托,或止盈止損單。本質上所有條件委托在被激活後都是屬於活動委托，所以條件委托一旦被激活，您需要通過調用取消活動委托接口來取消所有未成交、部分成交的活動委托單。同樣全部成交的活動委托不可取消。</p>
</p>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=oasoCancel>/open-api/stop-order/cancel</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoCancel"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">required</th>
<th style="text-align: left">type</th>
<th>comments</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>訂單ID。如果未填order_link_id則為<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構ID。如果未填stop_order_id則為<b>必填</b>字段。</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">string</td>
<td>條件單狀態</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>訂單類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托價格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托數量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td><a href="https://help.bybit.com/hc/zh-cn/articles/360039749233-%E4%BB%80%E4%B9%88%E6%98%AF%E8%AE%A2%E5%8D%95%E6%89%A7%E8%A1%8C%E7%AD%96%E7%95%A5-TIF-GTC-FOK-IOC-">執行策略</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-type-stop_order_type">stop_order_type</a></td>
<td style="text-align: left">string</td>
<td>委托單價格類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>觸發價格類型. 默認為最新市價</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">number</td>
<td>下單時市價</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">number</td>
<td>觸發價格。如果您期望價格上漲时觸發您的條件訂單，請確保 stop_px > max(market price, base_price) 否則 stop_px < min(market price, base_price)</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
</tbody></table>
<h3 id='t-a_replacecond'>修改條件委托單</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/open-api/stop-order/replace \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","stop_order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_replace</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">stop_order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">378a1bbc-a93a-4e75-87f4-502ea754ba36</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577475760.604942</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577475760612</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>修改未觸發的條件單。</p></p>

<aside class="notice">
請註意，只有未觸發的條件單才能被修改。

</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=oasoReplace>/open-api/stop-order/replace</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoReplace"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td><b>已廢棄!!</b> 條件委托訂單ID。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID, 最大長度36位，且同一機構下自定義ID不可重復</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型.</td>
</tr>
<tr>
<td style="text-align: left">p_r_qty</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>修改後的訂單數量。如果是未完全成交訂單，則表示修改剩余未成交的部分。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left">p_r_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>修改後的訂單價格。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left">p_r_trigger_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>修改後的條件單的觸發價格或止盈止損的價格。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>條件委托訂單ID。</td>
</tr>
</tbody></table>
<h3 id='t-a_replaceactive'>修改活動單信息</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/open-api/order/replace \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_Replace</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>    <span class="c1">//Error code,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">//Error message,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">efa44157-c355-4a98-b6d6-1d846a936b93</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1539778407.210858</span><span class="dl">"</span><span class="p">,</span>    <span class="c1">// UTC timestamp</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span> <span class="c1">// The remaining number of accesses in one minute</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>             
<span class="p">}</span>
</code></pre></div>
<p><p>本接口可以修改您的活動單信息.</p>
</p>

<aside class="notice">
請註意，只有未成交或未完全成交的訂單才可以被修改。
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=oaoReplace>/open-api/order/replace</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oaoReplace"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>機構自定義訂單ID, 最大長度36位，且同一機構下自定義ID不可重復</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型.</td>
</tr>
<tr>
<td style="text-align: left">p_r_qty</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>修改後的訂單數量。如果是未完全成交訂單，則表示修改剩余未成交的部分。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
<tr>
<td style="text-align: left">p_r_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>修改後的訂單價格。如果不修改這個字段，請不要傳這個參數。</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>訂單ID</td>
</tr>
</tbody></table>
<h3 id='t-a_getrisklimit'>查詢風險限額表</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api-testnet.bybit.com/open-api/wallet/risk-limit/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_getRiskLimit</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maintain_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">starting_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">section</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">3</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">10</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">25</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">50</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">is_lowest_risk</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-09-21T11:34:11.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-09-21T11:34:11.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100.00</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maintain_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">5.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">starting_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">5.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">section</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">3</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">4</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">10</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">15</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">18</span><span class="dl">"</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">is_lowest_risk</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-09-21T11:34:11.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-09-21T11:34:11.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">18.18</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1616568086.769014</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1616568086777</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre></div>
<p>查詢風險限額表。</p>

<aside class="notice">
關於風險限額，點擊<a href="https://help.bybit.com/hc/en-us/articles/360007107454-Risk-Limit-Overview">這裏</a>了解更多。
</aside>

<p class="fake_header">HTTP 請求</p>

<p>GET
<code><span id=oawrlList>/open-api/wallet/risk-limit/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawrlList"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>false</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td><a href="#t-getrisklimit">風險限額ID</a></td>
</tr>
<tr>
<td style="text-align: left">coin</td>
<td style="text-align: left">string</td>
<td>幣種</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">number</td>
<td>風險限額</td>
</tr>
<tr>
<td style="text-align: left">maintain_margin</td>
<td style="text-align: left">string</td>
<td>維持保證金</td>
</tr>
<tr>
<td style="text-align: left">starting_margin</td>
<td style="text-align: left">string</td>
<td>起始保證金。與風險限額表中<a href="https://help.bybit.com/hc/en-us/articles/900000170023-Risk-Limit-USDT-Contract-">中顯示的"初始保證金百分比"相同 </a></td>
</tr>
<tr>
<td style="text-align: left">section</td>
<td style="text-align: left">string</td>
<td>區間點</td>
</tr>
<tr>
<td style="text-align: left">is_lowest_risk</td>
<td style="text-align: left">number</td>
<td>是否最低風險限額0:不是 1:是</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">max_leverage</td>
<td style="text-align: left">string</td>
<td>最大杠桿</td>
</tr>
</tbody></table>
<h3 id='t-a_setrisklimit'>設置風險限額</h3>
<blockquote>
<p>請求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/open-api/wallet/risk-limit \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","risk_id":2,"timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python--old"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_setRiskLimit</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">risk_id</span><span class="o">=</span><span class="mi">2</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>響應示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">position</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">None</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">deleverage_indicator</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">oc_calc_data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">blq</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">blv</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0.000125</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">slq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bmp</span><span class="se">\"</span><span class="s2">:8000,</span><span class="se">\"</span><span class="s2">smp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">fc</span><span class="se">\"</span><span class="s2">:-0.00012529,</span><span class="se">\"</span><span class="s2">bv2c</span><span class="se">\"</span><span class="s2">:1.00225,</span><span class="se">\"</span><span class="s2">sv2c</span><span class="se">\"</span><span class="s2">:1.0007575}</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00012529</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">cum_commission</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4376</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">13689</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-08-13T06:51:29.000Z</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-29T03:11:08.000Z</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">trailing_active</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9000</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">v</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">risk</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">maintain_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.00</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">starting_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.50</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">section</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[</span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">3</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">5</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">10</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">25</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">50</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">66</span><span class="se">\"</span><span class="s2">]</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">is_lowest_risk</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-06-26T05:46:45.000Z</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-06-26T05:46:55.000Z</span><span class="dl">"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577589068.435439</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">71</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577589068546</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>設置風險限額。</p>

<aside class="notice">
關於風險限額，點擊<a href="https://help.bybit.com/hc/en-us/articles/360007107454-Risk-Limit-Overview">這裏</a>了解更多。
</aside>

<p class="fake_header">HTTP 請求</p>

<p>POST
<code><span id=oawRiskLimit>/open-api/wallet/risk-limit</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawRiskLimit"><img src="../../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">請求參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">是否必須</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td><a href="#t-getrisklimit">風險限額ID</a></td>
</tr>
</tbody></table>

<p class="fake_header">返回參數</p>

<table><thead>
<tr>
<th style="text-align: left">參數</th>
<th style="text-align: left">類型</th>
<th>說明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>倉位ID</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用戶ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合約類型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>倉位數量</td>
</tr>
<tr>
<td style="text-align: left">position_value</td>
<td style="text-align: left">number</td>
<td>倉位價值</td>
</tr>
<tr>
<td style="text-align: left">entry_price</td>
<td style="text-align: left">number</td>
<td>平均入場價</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left">number</td>
<td><a href="#t-getrisklimit">風險限額ID</a></td>
</tr>
<tr>
<td style="text-align: left">auto_add_margin</td>
<td style="text-align: left">number</td>
<td>是否自動追加保證金</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">number</td>
<td>逐倉模式下, 值為用戶設置的杠桿；全倉模式下，值為當前風險限額下最大杠桿</td>
</tr>
<tr>
<td style="text-align: left">position_margin</td>
<td style="text-align: left">number</td>
<td>倉位保證金</td>
</tr>
<tr>
<td style="text-align: left">liq_price</td>
<td style="text-align: left">number</td>
<td>強平價格</td>
</tr>
<tr>
<td style="text-align: left">bust_price</td>
<td style="text-align: left">number</td>
<td><a href="https://help.bybit.com/hc/en-us/articles/360039749813-What-is-Bankruptcy-Price-Inverse-Contract-">破產價格</a></td>
</tr>
<tr>
<td style="text-align: left">occ_closing_fee</td>
<td style="text-align: left">number</td>
<td>倉位占用的平倉手續費</td>
</tr>
<tr>
<td style="text-align: left">occ_funding_fee</td>
<td style="text-align: left">number</td>
<td>倉位size和當前資金費率預占用資金費用</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">number</td>
<td>止盈價格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">number</td>
<td>止損價格</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">number</td>
<td>追蹤止損</td>
</tr>
<tr>
<td style="text-align: left">position_status</td>
<td style="text-align: left">string</td>
<td>倉位狀態，正常，強平，減倉</td>
</tr>
<tr>
<td style="text-align: left">deleverage_indicator</td>
<td style="text-align: left">number</td>
<td>風險指示燈等級（1，2，3，4，5）</td>
</tr>
<tr>
<td style="text-align: left">oc_calc_data</td>
<td style="text-align: left">string</td>
<td>預占保證證計算參數, blq-多方所有未成交委托數; bmp-多方最低價; slq-空方所有未成交委托數; smp-空方最低價</td>
</tr>
<tr>
<td style="text-align: left">order_margin</td>
<td style="text-align: left">number</td>
<td>委托預占用保證金</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">number</td>
<td>錢包余額</td>
</tr>
<tr>
<td style="text-align: left">realised_pnl</td>
<td style="text-align: left">number</td>
<td>當日已結盈虧</td>
</tr>
<tr>
<td style="text-align: left">cum_realised_pnl</td>
<td style="text-align: left">number</td>
<td>累計已結盈虧</td>
</tr>
<tr>
<td style="text-align: left">cum_commission</td>
<td style="text-align: left">number</td>
<td>累計傭金</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本號</td>
</tr>
<tr>
<td style="text-align: left">position_seq</td>
<td style="text-align: left">number</td>
<td>倉位變化版本號</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
<tr>
<td style="text-align: left">trailing_active</td>
<td style="text-align: left">string</td>
<td>激活價格</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;id</td>
<td style="text-align: left">number</td>
<td><a href="#t-getrisklimit">風險限額ID</a></td>
</tr>
<tr>
<td style="text-align: left">risk&gt;coin</td>
<td style="text-align: left">string</td>
<td>幣種</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;limit</td>
<td style="text-align: left">number</td>
<td>風險限額</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;maintain_margin</td>
<td style="text-align: left">string</td>
<td>維持保證金</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;starting_margin</td>
<td style="text-align: left">string</td>
<td>起始保證金。與風險限額表中<a href="https://help.bybit.com/hc/en-us/articles/900000170023-Risk-Limit-USDT-Contract-">中顯示的"初始保證金百分比"相同 </a></td>
</tr>
<tr>
<td style="text-align: left">risk&gt;section</td>
<td style="text-align: left">string</td>
<td>區間點</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;is_lowest_risk</td>
<td style="text-align: left">number</td>
<td>是否最低風險限額0:不是 1:是</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;created_at</td>
<td style="text-align: left">string</td>
<td>創建時間</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;updated_at</td>
<td style="text-align: left">string</td>
<td>更新時間</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="console">console</a>
                <a href="#" data-language-name="python--pybit">python</a>
                <a href="#" data-language-name="python--old">old_python</a>
          </div>
      </div>
    </div>
  </body>

<script>
    $(".con a").click(function(){
      $(".con a").removeClass("selected");
      $(this).addClass("selected")
    });
    $("#international").click(function(){
      $this = $(this);
      var currentUrl = window.location.href;
      if ($this.text() == 'English') {
        window.location=currentUrl.replace(/\/zh-cn/,"");
      } else {
        if (currentUrl.indexOf("inverse") > -1) {
            window.location=currentUrl.replace(/\/((?:testnet\/)?inverse)/,"/zh-cn/$1");
        } else if(currentUrl.indexOf("spot") > -1) {
          window.location=currentUrl.replace(/\/((?:testnet\/)?spot)/,"/zh-cn/$1");
        }else if(currentUrl.indexOf("account_asset") > -1) {
          window.location=currentUrl.replace(/\/((?:testnet\/)?account_asset)/,"/zh-cn/$1");
        } else if(currentUrl.indexOf("linear") > -1) {
          window.location=currentUrl.replace(/\/((?:testnet\/)?linear)/,"/zh-cn/$1");
        } else{
          window.location=currentUrl.replace(/\/((?:testnet\/)?usdc)/,"/zh-cn/$1");
	      }

      }
    });
</script>

</html>
